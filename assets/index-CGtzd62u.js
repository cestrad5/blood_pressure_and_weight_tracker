(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function sS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bm={exports:{}},fc={};var ib;function $x(){if(ib)return fc;ib=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:o}}return fc.Fragment=t,fc.jsx=e,fc.jsxs=e,fc}var sb;function Jx(){return sb||(sb=1,bm.exports=$x()),bm.exports}var it=Jx(),Em={exports:{}},St={};var rb;function Zx(){if(rb)return St;rb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,N={};function B(L,X,lt){this.props=L,this.context=X,this.refs=N,this.updater=lt||I}B.prototype.isReactComponent={},B.prototype.setState=function(L,X){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,X,"setState")},B.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function tt(){}tt.prototype=B.prototype;function nt(L,X,lt){this.props=L,this.context=X,this.refs=N,this.updater=lt||I}var rt=nt.prototype=new tt;rt.constructor=nt,O(rt,B.prototype),rt.isPureReactComponent=!0;var Q=Array.isArray;function st(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(L,X,lt){var ct=lt.ref;return{$$typeof:n,type:L,key:X,ref:ct!==void 0?ct:null,props:lt}}function V(L,X){return C(L.type,X,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function P(L){var X={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(lt){return X[lt]})}var D=/\/+/g;function zt(L,X){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):X.toString(36)}function Rt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(st,st):(L.status="pending",L.then(function(X){L.status==="pending"&&(L.status="fulfilled",L.value=X)},function(X){L.status==="pending"&&(L.status="rejected",L.reason=X)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Y(L,X,lt,ct,yt){var vt=typeof L;(vt==="undefined"||vt==="boolean")&&(L=null);var Bt=!1;if(L===null)Bt=!0;else switch(vt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(L.$$typeof){case n:case t:Bt=!0;break;case y:return Bt=L._init,Y(Bt(L._payload),X,lt,ct,yt)}}if(Bt)return yt=yt(L),Bt=ct===""?"."+zt(L,0):ct,Q(yt)?(lt="",Bt!=null&&(lt=Bt.replace(D,"$&/")+"/"),Y(yt,X,lt,"",function(Pr){return Pr})):yt!=null&&(M(yt)&&(yt=V(yt,lt+(yt.key==null||L&&L.key===yt.key?"":(""+yt.key).replace(D,"$&/")+"/")+Bt)),X.push(yt)),1;Bt=0;var Pe=ct===""?".":ct+":";if(Q(L))for(var he=0;he<L.length;he++)ct=L[he],vt=Pe+zt(ct,he),Bt+=Y(ct,X,lt,vt,yt);else if(he=A(L),typeof he=="function")for(L=he.call(L),he=0;!(ct=L.next()).done;)ct=ct.value,vt=Pe+zt(ct,he++),Bt+=Y(ct,X,lt,vt,yt);else if(vt==="object"){if(typeof L.then=="function")return Y(Rt(L),X,lt,ct,yt);throw X=String(L),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function at(L,X,lt){if(L==null)return L;var ct=[],yt=0;return Y(L,ct,"","",function(vt){return X.call(lt,vt,yt++)}),ct}function gt(L){if(L._status===-1){var X=L._result;X=X(),X.then(function(lt){(L._status===0||L._status===-1)&&(L._status=1,L._result=lt)},function(lt){(L._status===0||L._status===-1)&&(L._status=2,L._result=lt)}),L._status===-1&&(L._status=0,L._result=X)}if(L._status===1)return L._result.default;throw L._result}var It=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Mt={map:at,forEach:function(L,X,lt){at(L,function(){X.apply(this,arguments)},lt)},count:function(L){var X=0;return at(L,function(){X++}),X},toArray:function(L){return at(L,function(X){return X})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return St.Activity=v,St.Children=Mt,St.Component=B,St.Fragment=e,St.Profiler=a,St.PureComponent=nt,St.StrictMode=i,St.Suspense=d,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(L){return R.H.useMemoCache(L)}},St.cache=function(L){return function(){return L.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(L,X,lt){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ct=O({},L.props),yt=L.key;if(X!=null)for(vt in X.key!==void 0&&(yt=""+X.key),X)!x.call(X,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&X.ref===void 0||(ct[vt]=X[vt]);var vt=arguments.length-2;if(vt===1)ct.children=lt;else if(1<vt){for(var Bt=Array(vt),Pe=0;Pe<vt;Pe++)Bt[Pe]=arguments[Pe+2];ct.children=Bt}return C(L.type,yt,ct)},St.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},St.createElement=function(L,X,lt){var ct,yt={},vt=null;if(X!=null)for(ct in X.key!==void 0&&(vt=""+X.key),X)x.call(X,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(yt[ct]=X[ct]);var Bt=arguments.length-2;if(Bt===1)yt.children=lt;else if(1<Bt){for(var Pe=Array(Bt),he=0;he<Bt;he++)Pe[he]=arguments[he+2];yt.children=Pe}if(L&&L.defaultProps)for(ct in Bt=L.defaultProps,Bt)yt[ct]===void 0&&(yt[ct]=Bt[ct]);return C(L,vt,yt)},St.createRef=function(){return{current:null}},St.forwardRef=function(L){return{$$typeof:h,render:L}},St.isValidElement=M,St.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:gt}},St.memo=function(L,X){return{$$typeof:m,type:L,compare:X===void 0?null:X}},St.startTransition=function(L){var X=R.T,lt={};R.T=lt;try{var ct=L(),yt=R.S;yt!==null&&yt(lt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(st,It)}catch(vt){It(vt)}finally{X!==null&&lt.types!==null&&(X.types=lt.types),R.T=X}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(L){return R.H.use(L)},St.useActionState=function(L,X,lt){return R.H.useActionState(L,X,lt)},St.useCallback=function(L,X){return R.H.useCallback(L,X)},St.useContext=function(L){return R.H.useContext(L)},St.useDebugValue=function(){},St.useDeferredValue=function(L,X){return R.H.useDeferredValue(L,X)},St.useEffect=function(L,X){return R.H.useEffect(L,X)},St.useEffectEvent=function(L){return R.H.useEffectEvent(L)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(L,X,lt){return R.H.useImperativeHandle(L,X,lt)},St.useInsertionEffect=function(L,X){return R.H.useInsertionEffect(L,X)},St.useLayoutEffect=function(L,X){return R.H.useLayoutEffect(L,X)},St.useMemo=function(L,X){return R.H.useMemo(L,X)},St.useOptimistic=function(L,X){return R.H.useOptimistic(L,X)},St.useReducer=function(L,X,lt){return R.H.useReducer(L,X,lt)},St.useRef=function(L){return R.H.useRef(L)},St.useState=function(L){return R.H.useState(L)},St.useSyncExternalStore=function(L,X,lt){return R.H.useSyncExternalStore(L,X,lt)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.4",St}var ab;function xp(){return ab||(ab=1,Em.exports=Zx()),Em.exports}var Ft=xp();const tR=sS(Ft);var Tm={exports:{}},dc={},Sm={exports:{}},Am={};var ob;function eR(){return ob||(ob=1,(function(n){function t(Y,at){var gt=Y.length;Y.push(at);t:for(;0<gt;){var It=gt-1>>>1,Mt=Y[It];if(0<a(Mt,at))Y[It]=at,Y[gt]=Mt,gt=It;else break t}}function e(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var at=Y[0],gt=Y.pop();if(gt!==at){Y[0]=gt;t:for(var It=0,Mt=Y.length,L=Mt>>>1;It<L;){var X=2*(It+1)-1,lt=Y[X],ct=X+1,yt=Y[ct];if(0>a(lt,gt))ct<Mt&&0>a(yt,lt)?(Y[It]=yt,Y[ct]=gt,It=ct):(Y[It]=lt,Y[X]=gt,It=X);else if(ct<Mt&&0>a(yt,gt))Y[It]=yt,Y[ct]=gt,It=ct;else break t}}return at}function a(Y,at){var gt=Y.sortIndex-at.sortIndex;return gt!==0?gt:Y.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],m=[],y=1,v=null,T=3,A=!1,I=!1,O=!1,N=!1,B=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function rt(Y){for(var at=e(m);at!==null;){if(at.callback===null)i(m);else if(at.startTime<=Y)i(m),at.sortIndex=at.expirationTime,t(d,at);else break;at=e(m)}}function Q(Y){if(O=!1,rt(Y),!I)if(e(d)!==null)I=!0,st||(st=!0,P());else{var at=e(m);at!==null&&Rt(Q,at.startTime-Y)}}var st=!1,R=-1,x=5,C=-1;function V(){return N?!0:!(n.unstable_now()-C<x)}function M(){if(N=!1,st){var Y=n.unstable_now();C=Y;var at=!0;try{t:{I=!1,O&&(O=!1,tt(R),R=-1),A=!0;var gt=T;try{e:{for(rt(Y),v=e(d);v!==null&&!(v.expirationTime>Y&&V());){var It=v.callback;if(typeof It=="function"){v.callback=null,T=v.priorityLevel;var Mt=It(v.expirationTime<=Y);if(Y=n.unstable_now(),typeof Mt=="function"){v.callback=Mt,rt(Y),at=!0;break e}v===e(d)&&i(d),rt(Y)}else i(d);v=e(d)}if(v!==null)at=!0;else{var L=e(m);L!==null&&Rt(Q,L.startTime-Y),at=!1}}break t}finally{v=null,T=gt,A=!1}at=void 0}}finally{at?P():st=!1}}}var P;if(typeof nt=="function")P=function(){nt(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,zt=D.port2;D.port1.onmessage=M,P=function(){zt.postMessage(null)}}else P=function(){B(M,0)};function Rt(Y,at){R=B(function(){Y(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var at=3;break;default:at=T}var gt=T;T=at;try{return Y()}finally{T=gt}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(Y,at){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var gt=T;T=Y;try{return at()}finally{T=gt}},n.unstable_scheduleCallback=function(Y,at,gt){var It=n.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?It+gt:It):gt=It,Y){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=gt+Mt,Y={id:y++,callback:at,priorityLevel:Y,startTime:gt,expirationTime:Mt,sortIndex:-1},gt>It?(Y.sortIndex=gt,t(m,Y),e(d)===null&&Y===e(m)&&(O?(tt(R),R=-1):O=!0,Rt(Q,gt-It))):(Y.sortIndex=Mt,t(d,Y),I||A||(I=!0,st||(st=!0,P()))),Y},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Y){var at=T;return function(){var gt=T;T=at;try{return Y.apply(this,arguments)}finally{T=gt}}}})(Am)),Am}var lb;function nR(){return lb||(lb=1,Sm.exports=eR()),Sm.exports}var wm={exports:{}},nn={};var cb;function iR(){if(cb)return nn;cb=1;var n=xp();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,nn.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(d,m,null,y)},nn.flushSync=function(d){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=m,i.p=y,i.d.f()}},nn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},nn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},nn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:A}):y==="script"&&i.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},nn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},nn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);i.d.L(d,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},nn.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},nn.requestFormReset=function(d){i.d.r(d)},nn.unstable_batchedUpdates=function(d,m){return d(m)},nn.useFormState=function(d,m,y){return c.H.useFormState(d,m,y)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var ub;function sR(){if(ub)return wm.exports;ub=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),wm.exports=iR(),wm.exports}var hb;function rR(){if(hb)return dc;hb=1;var n=nR(),t=xp(),e=sR();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(i(188))}function m(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,u=r;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return d(g),s;if(p===u)return d(g),r;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var b=!1,S=g.child;S;){if(S===l){b=!0,l=g,u=p;break}if(S===u){b=!0,u=g,l=p;break}S=S.sibling}if(!b){for(S=p.child;S;){if(S===l){b=!0,l=p,u=g;break}if(S===u){b=!0,u=p,l=g;break}S=S.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function zt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case B:return"Profiler";case N:return"StrictMode";case Q:return"Suspense";case st:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case nt:return s.displayName||"Context";case tt:return(s._context.displayName||"Context")+".Consumer";case rt:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return r=s.displayName||null,r!==null?r:zt(s.type)||"Memo";case x:r=s._payload,s=s._init;try{return zt(s(r))}catch{}}return null}var Rt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},It=[],Mt=-1;function L(s){return{current:s}}function X(s){0>Mt||(s.current=It[Mt],It[Mt]=null,Mt--)}function lt(s,r){Mt++,It[Mt]=s.current,s.current=r}var ct=L(null),yt=L(null),vt=L(null),Bt=L(null);function Pe(s,r){switch(lt(vt,r),lt(yt,s),lt(ct,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?x0(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=x0(r),s=R0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}X(ct),lt(ct,s)}function he(){X(ct),X(yt),X(vt)}function Pr(s){s.memoizedState!==null&&lt(Bt,s);var r=ct.current,l=R0(r,s.type);r!==l&&(lt(yt,s),lt(ct,l))}function Ua(s){yt.current===s&&(X(ct),X(yt)),Bt.current===s&&(X(Bt),lc._currentValue=gt)}var Ba,ja;function vi(s){if(Ba===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Ba=r&&r[1]||"",ja=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ba+s+ja}var ll=!1;function Lr(s,r){if(!s||ll)return"";ll=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var q=K}Reflect.construct(s,[],J)}else{try{J.call()}catch(K){q=K}s.call(J.prototype)}}else{try{throw Error()}catch(K){q=K}(J=s())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],S=p[1];if(b&&S){var k=b.split(`
`),F=S.split(`
`);for(g=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;g<F.length&&!F[g].includes("DetermineComponentFrameRoot");)g++;if(u===k.length||g===F.length)for(u=k.length-1,g=F.length-1;1<=u&&0<=g&&k[u]!==F[g];)g--;for(;1<=u&&0<=g;u--,g--)if(k[u]!==F[g]){if(u!==1||g!==1)do if(u--,g--,0>g||k[u]!==F[g]){var W=`
`+k[u].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=u&&0<=g);break}}}finally{ll=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?vi(l):""}function cl(s,r){switch(s.tag){case 26:case 27:case 5:return vi(s.type);case 16:return vi("Lazy");case 13:return s.child!==r&&r!==null?vi("Suspense Fallback"):vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Lr(s.type,!1);case 11:return Lr(s.type.render,!1);case 1:return Lr(s.type,!0);case 31:return vi("Activity");default:return""}}function ul(s){try{var r="",l=null;do r+=cl(s,l),l=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Se=Object.prototype.hasOwnProperty,Le=n.unstable_scheduleCallback,Is=n.unstable_cancelCallback,Td=n.unstable_shouldYield,yu=n.unstable_requestPaint,un=n.unstable_now,zr=n.unstable_getCurrentPriorityLevel,hl=n.unstable_ImmediatePriority,fl=n.unstable_UserBlockingPriority,Ds=n.unstable_NormalPriority,Sd=n.unstable_LowPriority,_u=n.unstable_IdlePriority,vu=n.log,bu=n.unstable_setDisableYieldValue,ti=null,Ke=null;function kn(s){if(typeof vu=="function"&&bu(s),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ti,s)}catch{}}var ye=Math.clz32?Math.clz32:Tu,Eu=Math.log,Ha=Math.LN2;function Tu(s){return s>>>=0,s===0?32:31-(Eu(s)/Ha|0)|0}var bi=256,Ur=262144,Ae=4194304;function Ei(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ti(s,r,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?g=Ei(u):(b&=S,b!==0?g=Ei(b):l||(l=S&~s,l!==0&&(g=Ei(l))))):(S=u&~p,S!==0?g=Ei(S):b!==0?g=Ei(b):l||(l=u&~s,l!==0&&(g=Ei(l)))),g===0?0:r!==0&&r!==g&&(r&p)===0&&(p=g&-g,l=r&-r,p>=l||p===32&&(l&4194048)!==0)?r:g}function ei(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Ad(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var s=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),s}function Si(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Br(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function wd(s,r,l,u,g,p){var b=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,k=s.expirationTimes,F=s.hiddenUpdates;for(l=b&~l;0<l;){var W=31-ye(l),J=1<<W;S[W]=0,k[W]=-1;var q=F[W];if(q!==null)for(F[W]=null,W=0;W<q.length;W++){var K=q[W];K!==null&&(K.lane&=-536870913)}l&=~J}u!==0&&jr(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~r))}function jr(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-ye(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function dl(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var u=31-ye(l),g=1<<u;g&r|s[u]&r&&(s[u]|=r),l&=~g}}function gl(s,r){var l=r&-r;return l=(l&42)!==0?1:Hr(l),(l&(s.suspendedLanes|r))!==0?0:l}function Hr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ji(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Au(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:X0(s.type))}function ni(s,r){var l=at.p;try{return at.p=s,r()}finally{at.p=l}}var ii=Math.random().toString(36).slice(2),we="__reactFiber$"+ii,je="__reactProps$"+ii,Ai="__reactContainer$"+ii,Fa="__reactEvents$"+ii,xd="__reactListeners$"+ii,wu="__reactHandles$"+ii,xu="__reactResources$"+ii,wi="__reactMarker$"+ii;function qa(s){delete s[we],delete s[je],delete s[Fa],delete s[xd],delete s[wu]}function xi(s){var r=s[we];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Ai]||l[we]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=k0(s);s!==null;){if(l=s[we])return l;s=k0(s)}return r}s=l,l=s.parentNode}return null}function Vn(s){if(s=s[we]||s[Ai]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function An(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ri(s){var r=s[xu];return r||(r=s[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xe(s){s[wi]=!0}var ml=new Set,pl={};function Ci(s,r){Ii(s,r),Ii(s+"Capture",r)}function Ii(s,r){for(pl[s]=r,s=0;s<r.length;s++)ml.add(r[s])}var yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},vl={};function Ru(s){return Se.call(vl,s)?!0:Se.call(_l,s)?!1:yl.test(s)?vl[s]=!0:(_l[s]=!0,!1)}function Ga(s,r,l){if(Ru(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function wn(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function Re(s,r,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+u)}}function He(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Os(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bl(s,r,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return g.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Xt(s){if(!s._valueTracker){var r=Os(s)?"checked":"value";s._valueTracker=bl(s,r,""+s[r])}}function Fr(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return s&&(u=Os(s)?s.checked?"true":"false":s.value),s=u,s!==l?(r.setValue(s),!0):!1}function Di(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var qr=/[\n"\\]/g;function dn(s){return s.replace(qr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ya(s,r,l,u,g,p,b,S){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),r!=null?b==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+He(r)):s.value!==""+He(r)&&(s.value=""+He(r)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),r!=null?El(s,b,He(r)):l!=null?El(s,b,He(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+He(S):s.removeAttribute("name")}function Cu(s,r,l,u,g,p,b,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Xt(s);return}l=l!=null?""+He(l):"",r=r!=null?""+He(r):l,S||r===s.value||(s.value=r),s.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),Xt(s)}function El(s,r,l){r==="number"&&Di(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ms(s,r,l,u){if(s=s.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=r.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+He(l),r=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}r!==null||s[g].disabled||(r=s[g])}r!==null&&(r.selected=!0)}}function Iu(s,r,l){if(r!=null&&(r=""+He(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+He(l):""}function Ns(s,r,l,u){if(r==null){if(u!=null){if(l!=null)throw Error(i(92));if(Rt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),r=l}l=He(r),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Xt(s)}function gn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var Du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(s,r,l){var u=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,l):typeof l!="number"||l===0||Du.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function Sl(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&l[g]!==u&&Tl(s,g,u)}else for(var p in r)r.hasOwnProperty(p)&&Tl(s,p,r[p])}function Ka(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(s){return ks.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function si(){}var Al=null;function Pn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Vs=null,Oi=null;function Gr(s){var r=Vn(s);if(r&&(s=r.stateNode)){var l=s[je]||null;t:switch(s=r.stateNode,r.type){case"input":if(Ya(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+dn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==s&&u.form===s.form){var g=u[je]||null;if(!g)throw Error(i(90));Ya(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)u=l[r],u.form===s.form&&Fr(u)}break t;case"textarea":Iu(s,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Ms(s,!!l.multiple,r,!1)}}}var Wa=!1;function Ps(s,r,l){if(Wa)return s(r,l);Wa=!0;try{var u=s(r);return u}finally{if(Wa=!1,(Vs!==null||Oi!==null)&&(Ah(),Vs&&(r=Vs,s=Oi,Oi=Vs=null,Gr(r),s)))for(r=0;r<s.length;r++)Gr(s[r])}}function ri(s,r){var l=s.stateNode;if(l===null)return null;var u=l[je]||null;if(u===null)return null;l=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yr=!1;if(Ln)try{var te={};Object.defineProperty(te,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Yr=!1}var Mi=null,wl=null,Kr=null;function xl(){if(Kr)return Kr;var s,r=wl,l=r.length,u,g="value"in Mi?Mi.value:Mi.textContent,p=g.length;for(s=0;s<l&&r[s]===g[s];s++);var b=l-s;for(u=1;u<=b&&r[l-u]===g[p-u];u++);return Kr=g.slice(s,1<u?1-u:void 0)}function Qr(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Zi(){return!0}function ai(){return!1}function Qe(s){function r(l,u,g,p,b){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Zi:ai,this.isPropagationStopped=ai,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),r}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Qe(ts),Ls=v({},ts,{view:0,detail:0}),Rl=Qe(Ls),zs,Xa,ki,$a=v({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ki&&(ki&&s.type==="mousemove"?(zs=s.screenX-ki.screenX,Xa=s.screenY-ki.screenY):Xa=zs=0,ki=s),zs)},movementY:function(s){return"movementY"in s?s.movementY:Xa}}),Cl=Qe($a),Wr=v({},$a,{dataTransfer:0}),Mu=Qe(Wr),Nu=v({},Ls,{relatedTarget:0}),Xr=Qe(Nu),Il=v({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),ku=Qe(Il),Ja=v({},ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Vu=Qe(Ja),Pu=v({},ts,{data:0}),Vi=Qe(Pu),Lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Uu[s])?!!r[s]:!1}function Us(){return Bu}var hn=v({},Ls,{key:function(s){if(s.key){var r=Lu[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Qr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?zu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(s){return s.type==="keypress"?Qr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ju=Qe(hn),Hu=v({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=Qe(Hu),f=v({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),_=Qe(f),E=v({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Qe(E),j=v({},$a,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Qe(j),ot=v({},ts,{newState:0,oldState:0}),wt=Qe(ot),_e=[9,13,27,32],Yt=Ln&&"CompositionEvent"in window,fe=null;Ln&&"documentMode"in document&&(fe=document.documentMode);var zn=Ln&&"TextEvent"in window&&!fe,Pi=Ln&&(!Yt||fe&&8<fe&&11>=fe),oi=" ",li=!1;function $r(s,r){switch(s){case"keyup":return _e.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Za(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var to=!1;function Ew(s,r){switch(s){case"compositionend":return Za(r);case"keypress":return r.which!==32?null:(li=!0,oi);case"textInput":return s=r.data,s===oi&&li?null:s;default:return null}}function Tw(s,r){if(to)return s==="compositionend"||!Yt&&$r(s,r)?(s=xl(),Kr=wl=Mi=null,to=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pi&&r.locale!=="ko"?null:r.data;default:return null}}var Sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ly(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Sw[s.type]:r==="textarea"}function zy(s,r,l,u){Vs?Oi?Oi.push(u):Oi=[u]:Vs=u,r=Oh(r,"onChange"),0<r.length&&(l=new Ni("onChange","change",null,l,u),s.push({event:l,listeners:r}))}var Dl=null,Ol=null;function Aw(s){b0(s,0)}function Fu(s){var r=An(s);if(Fr(r))return s}function Uy(s,r){if(s==="change")return r}var By=!1;if(Ln){var Rd;if(Ln){var Cd="oninput"in document;if(!Cd){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),Cd=typeof jy.oninput=="function"}Rd=Cd}else Rd=!1;By=Rd&&(!document.documentMode||9<document.documentMode)}function Hy(){Dl&&(Dl.detachEvent("onpropertychange",Fy),Ol=Dl=null)}function Fy(s){if(s.propertyName==="value"&&Fu(Ol)){var r=[];zy(r,Ol,s,Pn(s)),Ps(Aw,r)}}function ww(s,r,l){s==="focusin"?(Hy(),Dl=r,Ol=l,Dl.attachEvent("onpropertychange",Fy)):s==="focusout"&&Hy()}function xw(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Fu(Ol)}function Rw(s,r){if(s==="click")return Fu(r)}function Cw(s,r){if(s==="input"||s==="change")return Fu(r)}function Iw(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var xn=typeof Object.is=="function"?Object.is:Iw;function Ml(s,r){if(xn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Se.call(r,g)||!xn(s[g],r[g]))return!1}return!0}function qy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Gy(s,r){var l=qy(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=r&&u>=r)return{node:l,offset:r-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=qy(l)}}function Yy(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Yy(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Ky(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Di(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=Di(s.document)}return r}function Id(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var Dw=Ln&&"documentMode"in document&&11>=document.documentMode,eo=null,Dd=null,Nl=null,Od=!1;function Qy(s,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Od||eo==null||eo!==Di(u)||(u=eo,"selectionStart"in u&&Id(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Nl&&Ml(Nl,u)||(Nl=u,u=Oh(Dd,"onSelect"),0<u.length&&(r=new Ni("onSelect","select",null,r,l),s.push({event:r,listeners:u}),r.target=eo)))}function Jr(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var no={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},Md={},Wy={};Ln&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Zr(s){if(Md[s])return Md[s];if(!no[s])return s;var r=no[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in Wy)return Md[s]=r[l];return s}var Xy=Zr("animationend"),$y=Zr("animationiteration"),Jy=Zr("animationstart"),Ow=Zr("transitionrun"),Mw=Zr("transitionstart"),Nw=Zr("transitioncancel"),Zy=Zr("transitionend"),t_=new Map,Nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nd.push("scrollEnd");function ci(s,r){t_.set(s,r),Ci(r,[s])}var qu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Un=[],io=0,kd=0;function Gu(){for(var s=io,r=kd=io=0;r<s;){var l=Un[r];Un[r++]=null;var u=Un[r];Un[r++]=null;var g=Un[r];Un[r++]=null;var p=Un[r];if(Un[r++]=null,u!==null&&g!==null){var b=u.pending;b===null?g.next=g:(g.next=b.next,b.next=g),u.pending=g}p!==0&&e_(l,g,p)}}function Yu(s,r,l,u){Un[io++]=s,Un[io++]=r,Un[io++]=l,Un[io++]=u,kd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Vd(s,r,l,u){return Yu(s,r,l,u),Ku(s)}function ta(s,r){return Yu(s,null,null,r),Ku(s)}function e_(s,r,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&r!==null&&(g=31-ye(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[r]:u.push(r),r.lane=l|536870912),p):null}function Ku(s){if(50<ec)throw ec=0,qg=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var so={};function kw(s,r,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(s,r,l,u){return new kw(s,r,l,u)}function Pd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ns(s,r){var l=s.alternate;return l===null?(l=Rn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function n_(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Qu(s,r,l,u,g,p){var b=0;if(u=s,typeof s=="function")Pd(s)&&(b=1);else if(typeof s=="string")b=Ux(s,l,ct.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case C:return s=Rn(31,l,r,g),s.elementType=C,s.lanes=p,s;case O:return ea(l.children,g,p,r);case N:b=8,g|=24;break;case B:return s=Rn(12,l,r,g|2),s.elementType=B,s.lanes=p,s;case Q:return s=Rn(13,l,r,g),s.elementType=Q,s.lanes=p,s;case st:return s=Rn(19,l,r,g),s.elementType=st,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case nt:b=10;break t;case tt:b=9;break t;case rt:b=11;break t;case R:b=14;break t;case x:b=16,u=null;break t}b=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Rn(b,l,r,g),r.elementType=s,r.type=u,r.lanes=p,r}function ea(s,r,l,u){return s=Rn(7,s,u,r),s.lanes=l,s}function Ld(s,r,l){return s=Rn(6,s,null,r),s.lanes=l,s}function i_(s){var r=Rn(18,null,null,0);return r.stateNode=s,r}function zd(s,r,l){return r=Rn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var s_=new WeakMap;function Bn(s,r){if(typeof s=="object"&&s!==null){var l=s_.get(s);return l!==void 0?l:(r={value:s,source:r,stack:ul(r)},s_.set(s,r),r)}return{value:s,source:r,stack:ul(r)}}var ro=[],ao=0,Wu=null,kl=0,jn=[],Hn=0,Bs=null,Li=1,zi="";function is(s,r){ro[ao++]=kl,ro[ao++]=Wu,Wu=s,kl=r}function r_(s,r,l){jn[Hn++]=Li,jn[Hn++]=zi,jn[Hn++]=Bs,Bs=s;var u=Li;s=zi;var g=32-ye(u)-1;u&=~(1<<g),l+=1;var p=32-ye(r)+g;if(30<p){var b=g-g%5;p=(u&(1<<b)-1).toString(32),u>>=b,g-=b,Li=1<<32-ye(r)+g|l<<g|u,zi=p+s}else Li=1<<p|l<<g|u,zi=s}function Ud(s){s.return!==null&&(is(s,1),r_(s,1,0))}function Bd(s){for(;s===Wu;)Wu=ro[--ao],ro[ao]=null,kl=ro[--ao],ro[ao]=null;for(;s===Bs;)Bs=jn[--Hn],jn[Hn]=null,zi=jn[--Hn],jn[Hn]=null,Li=jn[--Hn],jn[Hn]=null}function a_(s,r){jn[Hn++]=Li,jn[Hn++]=zi,jn[Hn++]=Bs,Li=r.id,zi=r.overflow,Bs=s}var We=null,oe=null,Ut=!1,js=null,Fn=!1,jd=Error(i(519));function Hs(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(Bn(r,s)),jd}function o_(s){var r=s.stateNode,l=s.type,u=s.memoizedProps;switch(r[we]=s,r[je]=u,l){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(l=0;l<ic.length;l++)Ot(ic[l],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),Cu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Ns(r,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||u.suppressHydrationWarning===!0||A0(r.textContent,l)?(u.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),u.onScroll!=null&&Ot("scroll",r),u.onScrollEnd!=null&&Ot("scrollend",r),u.onClick!=null&&(r.onclick=si),r=!0):r=!1,r||Hs(s,!0)}function l_(s){for(We=s.return;We;)switch(We.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:We=We.return}}function oo(s){if(s!==We)return!1;if(!Ut)return l_(s),Ut=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||rm(s.type,s.memoizedProps)),l=!l),l&&oe&&Hs(s),l_(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=N0(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=N0(s)}else r===27?(r=oe,nr(s.type)?(s=um,um=null,oe=s):oe=r):oe=We?Gn(s.stateNode.nextSibling):null;return!0}function na(){oe=We=null,Ut=!1}function Hd(){var s=js;return s!==null&&(_n===null?_n=s:_n.push.apply(_n,s),js=null),s}function Vl(s){js===null?js=[s]:js.push(s)}var Fd=L(null),ia=null,ss=null;function Fs(s,r,l){lt(Fd,r._currentValue),r._currentValue=l}function rs(s){s._currentValue=Fd.current,X(Fd)}function qd(s,r,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===l)break;s=s.return}}function Gd(s,r,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var b=g.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=g;for(var k=0;k<r.length;k++)if(S.context===r[k]){p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),qd(p.return,l,s),u||(b=null);break t}p=S.next}}else if(g.tag===18){if(b=g.return,b===null)throw Error(i(341));b.lanes|=l,p=b.alternate,p!==null&&(p.lanes|=l),qd(b,l,s),b=null}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===s){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}}function lo(s,r,l,u){s=null;for(var g=r,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var b=g.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var S=g.type;xn(g.pendingProps.value,b.value)||(s!==null?s.push(S):s=[S])}}else if(g===Bt.current){if(b=g.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(lc):s=[lc])}g=g.return}s!==null&&Gd(r,s,l,u),r.flags|=262144}function Xu(s){for(s=s.firstContext;s!==null;){if(!xn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function sa(s){ia=s,ss=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Xe(s){return c_(ia,s)}function $u(s,r){return ia===null&&sa(s),c_(s,r)}function c_(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},ss===null){if(s===null)throw Error(i(308));ss=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ss=ss.next=r;return l}var Vw=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},Pw=n.unstable_scheduleCallback,Lw=n.unstable_NormalPriority,Ce={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yd(){return{controller:new Vw,data:new Map,refCount:0}}function Pl(s){s.refCount--,s.refCount===0&&Pw(Lw,function(){s.controller.abort()})}var Ll=null,Kd=0,co=0,uo=null;function zw(s,r){if(Ll===null){var l=Ll=[];Kd=0,co=Xg(),uo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Kd++,r.then(u_,u_),r}function u_(){if(--Kd===0&&Ll!==null){uo!==null&&(uo.status="fulfilled");var s=Ll;Ll=null,co=0,uo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function Uw(s,r){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var h_=Y.S;Y.S=function(s,r){Qv=un(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&zw(s,r),h_!==null&&h_(s,r)};var ra=L(null);function Qd(){var s=ra.current;return s!==null?s:se.pooledCache}function Ju(s,r){r===null?lt(ra,ra.current):lt(ra,r.pool)}function f_(){var s=Qd();return s===null?null:{parent:Ce._currentValue,pool:s}}var ho=Error(i(460)),Wd=Error(i(474)),Zu=Error(i(542)),th={then:function(){}};function d_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function g_(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(si,si),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,p_(s),s;default:if(typeof r.status=="string")r.then(si,si);else{if(s=se,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,p_(s),s}throw oa=r,ho}}function aa(s){try{var r=s._init;return r(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(oa=l,ho):l}}var oa=null;function m_(){if(oa===null)throw Error(i(459));var s=oa;return oa=null,s}function p_(s){if(s===ho||s===Zu)throw Error(i(483))}var fo=null,zl=0;function eh(s){var r=zl;return zl+=1,fo===null&&(fo=[]),g_(fo,s,r)}function Ul(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function nh(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function y_(s){function r(U,z){if(s){var H=U.deletions;H===null?(U.deletions=[z],U.flags|=16):H.push(z)}}function l(U,z){if(!s)return null;for(;z!==null;)r(U,z),z=z.sibling;return null}function u(U){for(var z=new Map;U!==null;)U.key!==null?z.set(U.key,U):z.set(U.index,U),U=U.sibling;return z}function g(U,z){return U=ns(U,z),U.index=0,U.sibling=null,U}function p(U,z,H){return U.index=H,s?(H=U.alternate,H!==null?(H=H.index,H<z?(U.flags|=67108866,z):H):(U.flags|=67108866,z)):(U.flags|=1048576,z)}function b(U){return s&&U.alternate===null&&(U.flags|=67108866),U}function S(U,z,H,$){return z===null||z.tag!==6?(z=Ld(H,U.mode,$),z.return=U,z):(z=g(z,H),z.return=U,z)}function k(U,z,H,$){var mt=H.type;return mt===O?W(U,z,H.props.children,$,H.key):z!==null&&(z.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===x&&aa(mt)===z.type)?(z=g(z,H.props),Ul(z,H),z.return=U,z):(z=Qu(H.type,H.key,H.props,null,U.mode,$),Ul(z,H),z.return=U,z)}function F(U,z,H,$){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=zd(H,U.mode,$),z.return=U,z):(z=g(z,H.children||[]),z.return=U,z)}function W(U,z,H,$,mt){return z===null||z.tag!==7?(z=ea(H,U.mode,$,mt),z.return=U,z):(z=g(z,H),z.return=U,z)}function J(U,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Ld(""+z,U.mode,H),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return H=Qu(z.type,z.key,z.props,null,U.mode,H),Ul(H,z),H.return=U,H;case I:return z=zd(z,U.mode,H),z.return=U,z;case x:return z=aa(z),J(U,z,H)}if(Rt(z)||P(z))return z=ea(z,U.mode,H,null),z.return=U,z;if(typeof z.then=="function")return J(U,eh(z),H);if(z.$$typeof===nt)return J(U,$u(U,z),H);nh(U,z)}return null}function q(U,z,H,$){var mt=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return mt!==null?null:S(U,z,""+H,$);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===mt?k(U,z,H,$):null;case I:return H.key===mt?F(U,z,H,$):null;case x:return H=aa(H),q(U,z,H,$)}if(Rt(H)||P(H))return mt!==null?null:W(U,z,H,$,null);if(typeof H.then=="function")return q(U,z,eh(H),$);if(H.$$typeof===nt)return q(U,z,$u(U,H),$);nh(U,H)}return null}function K(U,z,H,$,mt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(H)||null,S(z,U,""+$,mt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return U=U.get($.key===null?H:$.key)||null,k(z,U,$,mt);case I:return U=U.get($.key===null?H:$.key)||null,F(z,U,$,mt);case x:return $=aa($),K(U,z,H,$,mt)}if(Rt($)||P($))return U=U.get(H)||null,W(z,U,$,mt,null);if(typeof $.then=="function")return K(U,z,H,eh($),mt);if($.$$typeof===nt)return K(U,z,H,$u(z,$),mt);nh(z,$)}return null}function ft(U,z,H,$){for(var mt=null,qt=null,dt=z,Ct=z=0,kt=null;dt!==null&&Ct<H.length;Ct++){dt.index>Ct?(kt=dt,dt=null):kt=dt.sibling;var Gt=q(U,dt,H[Ct],$);if(Gt===null){dt===null&&(dt=kt);break}s&&dt&&Gt.alternate===null&&r(U,dt),z=p(Gt,z,Ct),qt===null?mt=Gt:qt.sibling=Gt,qt=Gt,dt=kt}if(Ct===H.length)return l(U,dt),Ut&&is(U,Ct),mt;if(dt===null){for(;Ct<H.length;Ct++)dt=J(U,H[Ct],$),dt!==null&&(z=p(dt,z,Ct),qt===null?mt=dt:qt.sibling=dt,qt=dt);return Ut&&is(U,Ct),mt}for(dt=u(dt);Ct<H.length;Ct++)kt=K(dt,U,Ct,H[Ct],$),kt!==null&&(s&&kt.alternate!==null&&dt.delete(kt.key===null?Ct:kt.key),z=p(kt,z,Ct),qt===null?mt=kt:qt.sibling=kt,qt=kt);return s&&dt.forEach(function(or){return r(U,or)}),Ut&&is(U,Ct),mt}function _t(U,z,H,$){if(H==null)throw Error(i(151));for(var mt=null,qt=null,dt=z,Ct=z=0,kt=null,Gt=H.next();dt!==null&&!Gt.done;Ct++,Gt=H.next()){dt.index>Ct?(kt=dt,dt=null):kt=dt.sibling;var or=q(U,dt,Gt.value,$);if(or===null){dt===null&&(dt=kt);break}s&&dt&&or.alternate===null&&r(U,dt),z=p(or,z,Ct),qt===null?mt=or:qt.sibling=or,qt=or,dt=kt}if(Gt.done)return l(U,dt),Ut&&is(U,Ct),mt;if(dt===null){for(;!Gt.done;Ct++,Gt=H.next())Gt=J(U,Gt.value,$),Gt!==null&&(z=p(Gt,z,Ct),qt===null?mt=Gt:qt.sibling=Gt,qt=Gt);return Ut&&is(U,Ct),mt}for(dt=u(dt);!Gt.done;Ct++,Gt=H.next())Gt=K(dt,U,Ct,Gt.value,$),Gt!==null&&(s&&Gt.alternate!==null&&dt.delete(Gt.key===null?Ct:Gt.key),z=p(Gt,z,Ct),qt===null?mt=Gt:qt.sibling=Gt,qt=Gt);return s&&dt.forEach(function(Xx){return r(U,Xx)}),Ut&&is(U,Ct),mt}function ie(U,z,H,$){if(typeof H=="object"&&H!==null&&H.type===O&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:t:{for(var mt=H.key;z!==null;){if(z.key===mt){if(mt=H.type,mt===O){if(z.tag===7){l(U,z.sibling),$=g(z,H.props.children),$.return=U,U=$;break t}}else if(z.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===x&&aa(mt)===z.type){l(U,z.sibling),$=g(z,H.props),Ul($,H),$.return=U,U=$;break t}l(U,z);break}else r(U,z);z=z.sibling}H.type===O?($=ea(H.props.children,U.mode,$,H.key),$.return=U,U=$):($=Qu(H.type,H.key,H.props,null,U.mode,$),Ul($,H),$.return=U,U=$)}return b(U);case I:t:{for(mt=H.key;z!==null;){if(z.key===mt)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){l(U,z.sibling),$=g(z,H.children||[]),$.return=U,U=$;break t}else{l(U,z);break}else r(U,z);z=z.sibling}$=zd(H,U.mode,$),$.return=U,U=$}return b(U);case x:return H=aa(H),ie(U,z,H,$)}if(Rt(H))return ft(U,z,H,$);if(P(H)){if(mt=P(H),typeof mt!="function")throw Error(i(150));return H=mt.call(H),_t(U,z,H,$)}if(typeof H.then=="function")return ie(U,z,eh(H),$);if(H.$$typeof===nt)return ie(U,z,$u(U,H),$);nh(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(l(U,z.sibling),$=g(z,H),$.return=U,U=$):(l(U,z),$=Ld(H,U.mode,$),$.return=U,U=$),b(U)):l(U,z)}return function(U,z,H,$){try{zl=0;var mt=ie(U,z,H,$);return fo=null,mt}catch(dt){if(dt===ho||dt===Zu)throw dt;var qt=Rn(29,dt,null,U.mode);return qt.lanes=$,qt.return=U,qt}}}var la=y_(!0),__=y_(!1),qs=!1;function Xd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $d(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Gs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ys(s,r,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=Ku(s),e_(s,null,l),r}return Yu(s,u,r,l),Ku(s)}function Bl(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,dl(s,l)}}function Jd(s,r){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?g=p=r:p=p.next=r}else g=p=r;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var Zd=!1;function jl(){if(Zd){var s=uo;if(s!==null)throw s}}function Hl(s,r,l,u){Zd=!1;var g=s.updateQueue;qs=!1;var p=g.firstBaseUpdate,b=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var k=S,F=k.next;k.next=null,b===null?p=F:b.next=F,b=k;var W=s.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==b&&(S===null?W.firstBaseUpdate=F:S.next=F,W.lastBaseUpdate=k))}if(p!==null){var J=g.baseState;b=0,W=F=k=null,S=p;do{var q=S.lane&-536870913,K=q!==S.lane;if(K?(Nt&q)===q:(u&q)===q){q!==0&&q===co&&(Zd=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ft=s,_t=S;q=r;var ie=l;switch(_t.tag){case 1:if(ft=_t.payload,typeof ft=="function"){J=ft.call(ie,J,q);break t}J=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=_t.payload,q=typeof ft=="function"?ft.call(ie,J,q):ft,q==null)break t;J=v({},J,q);break t;case 2:qs=!0}}q=S.callback,q!==null&&(s.flags|=64,K&&(s.flags|=8192),K=g.callbacks,K===null?g.callbacks=[q]:K.push(q))}else K={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(F=W=K,k=J):W=W.next=K,b|=q;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;K=S,S=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);W===null&&(k=J),g.baseState=k,g.firstBaseUpdate=F,g.lastBaseUpdate=W,p===null&&(g.shared.lanes=0),$s|=b,s.lanes=b,s.memoizedState=J}}function v_(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function b_(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)v_(l[s],r)}var go=L(null),ih=L(0);function E_(s,r){s=gs,lt(ih,s),lt(go,r),gs=s|r.baseLanes}function tg(){lt(ih,gs),lt(go,go.current)}function eg(){gs=ih.current,X(go),X(ih)}var Cn=L(null),qn=null;function Ks(s){var r=s.alternate;lt(ve,ve.current&1),lt(Cn,s),qn===null&&(r===null||go.current!==null||r.memoizedState!==null)&&(qn=s)}function ng(s){lt(ve,ve.current),lt(Cn,s),qn===null&&(qn=s)}function T_(s){s.tag===22?(lt(ve,ve.current),lt(Cn,s),qn===null&&(qn=s)):Qs()}function Qs(){lt(ve,ve.current),lt(Cn,Cn.current)}function In(s){X(Cn),qn===s&&(qn=null),X(ve)}var ve=L(0);function sh(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||lm(l)||cm(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var as=0,xt=null,ee=null,Ie=null,rh=!1,mo=!1,ca=!1,ah=0,Fl=0,po=null,Bw=0;function me(){throw Error(i(321))}function ig(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!xn(s[l],r[l]))return!1;return!0}function sg(s,r,l,u,g,p){return as=p,xt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=s===null||s.memoizedState===null?rv:vg,ca=!1,p=l(u,g),ca=!1,mo&&(p=A_(r,l,u,g)),S_(s),p}function S_(s){Y.H=Yl;var r=ee!==null&&ee.next!==null;if(as=0,Ie=ee=xt=null,rh=!1,Fl=0,po=null,r)throw Error(i(300));s===null||De||(s=s.dependencies,s!==null&&Xu(s)&&(De=!0))}function A_(s,r,l,u){xt=s;var g=0;do{if(mo&&(po=null),Fl=0,mo=!1,25<=g)throw Error(i(301));if(g+=1,Ie=ee=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=av,p=r(l,u)}while(mo);return p}function jw(){var s=Y.H,r=s.useState()[0];return r=typeof r.then=="function"?ql(r):r,s=s.useState()[0],(ee!==null?ee.memoizedState:null)!==s&&(xt.flags|=1024),r}function rg(){var s=ah!==0;return ah=0,s}function ag(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function og(s){if(rh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}rh=!1}as=0,Ie=ee=xt=null,mo=!1,Fl=ah=0,po=null}function fn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?xt.memoizedState=Ie=s:Ie=Ie.next=s,Ie}function be(){if(ee===null){var s=xt.alternate;s=s!==null?s.memoizedState:null}else s=ee.next;var r=Ie===null?xt.memoizedState:Ie.next;if(r!==null)Ie=r,ee=s;else{if(s===null)throw xt.alternate===null?Error(i(467)):Error(i(310));ee=s,s={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ie===null?xt.memoizedState=Ie=s:Ie=Ie.next=s}return Ie}function oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(s){var r=Fl;return Fl+=1,po===null&&(po=[]),s=g_(po,s,r),r=xt,(Ie===null?r.memoizedState:Ie.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?rv:vg),s}function lh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ql(s);if(s.$$typeof===nt)return Xe(s)}throw Error(i(438,String(s)))}function lg(s){var r=null,l=xt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var u=xt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=oh(),xt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),u=0;u<s;u++)l[u]=V;return r.index++,l}function os(s,r){return typeof r=="function"?r(s):r}function ch(s){var r=be();return cg(r,ee,s)}function cg(s,r,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var b=g.next;g.next=p.next,p.next=b}r.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{r=g.next;var S=b=null,k=null,F=r,W=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(Nt&J)===J:(as&J)===J){var q=F.revertLane;if(q===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===co&&(W=!0);else if((as&q)===q){F=F.next,q===co&&(W=!0);continue}else J={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(S=k=J,b=p):k=k.next=J,xt.lanes|=q,$s|=q;J=F.action,ca&&l(p,J),p=F.hasEagerState?F.eagerState:l(p,J)}else q={lane:J,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(S=k=q,b=p):k=k.next=q,xt.lanes|=J,$s|=J;F=F.next}while(F!==null&&F!==r);if(k===null?b=p:k.next=S,!xn(p,s.memoizedState)&&(De=!0,W&&(l=uo,l!==null)))throw l;s.memoizedState=p,s.baseState=b,s.baseQueue=k,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function ug(s){var r=be(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=r.memoizedState;if(g!==null){l.pending=null;var b=g=g.next;do p=s(p,b.action),b=b.next;while(b!==g);xn(p,r.memoizedState)||(De=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),l.lastRenderedState=p}return[p,u]}function w_(s,r,l){var u=xt,g=be(),p=Ut;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=r();var b=!xn((ee||g).memoizedState,l);if(b&&(g.memoizedState=l,De=!0),g=g.queue,dg(C_.bind(null,u,g,s),[s]),g.getSnapshot!==r||b||Ie!==null&&Ie.memoizedState.tag&1){if(u.flags|=2048,yo(9,{destroy:void 0},R_.bind(null,u,g,l,r),null),se===null)throw Error(i(349));p||(as&127)!==0||x_(u,r,l)}return l}function x_(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=xt.updateQueue,r===null?(r=oh(),xt.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function R_(s,r,l,u){r.value=l,r.getSnapshot=u,I_(r)&&D_(s)}function C_(s,r,l){return l(function(){I_(r)&&D_(s)})}function I_(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!xn(s,l)}catch{return!0}}function D_(s){var r=ta(s,2);r!==null&&vn(r,s,2)}function hg(s){var r=fn();if(typeof s=="function"){var l=s;if(s=l(),ca){kn(!0);try{l()}finally{kn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:s},r}function O_(s,r,l,u){return s.baseState=l,cg(s,ee,typeof u=="function"?u:os)}function Hw(s,r,l,u,g){if(fh(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};Y.T!==null?l(!0):p.isTransition=!1,u(p),l=r.pending,l===null?(p.next=r.pending=p,M_(r,p)):(p.next=l.next,r.pending=l.next=p)}}function M_(s,r){var l=r.action,u=r.payload,g=s.state;if(r.isTransition){var p=Y.T,b={};Y.T=b;try{var S=l(g,u),k=Y.S;k!==null&&k(b,S),N_(s,r,S)}catch(F){fg(s,r,F)}finally{p!==null&&b.types!==null&&(p.types=b.types),Y.T=p}}else try{p=l(g,u),N_(s,r,p)}catch(F){fg(s,r,F)}}function N_(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){k_(s,r,u)},function(u){return fg(s,r,u)}):k_(s,r,l)}function k_(s,r,l){r.status="fulfilled",r.value=l,V_(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,M_(s,l)))}function fg(s,r,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=l,V_(r),r=r.next;while(r!==u)}s.action=null}function V_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function P_(s,r){return r}function L_(s,r){if(Ut){var l=se.formState;if(l!==null){t:{var u=xt;if(Ut){if(oe){e:{for(var g=oe,p=Fn;g.nodeType!==8;){if(!p){g=null;break e}if(g=Gn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){oe=Gn(g.nextSibling),u=g.data==="F!";break t}}Hs(u)}u=!1}u&&(r=l[0])}}return l=fn(),l.memoizedState=l.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:P_,lastRenderedState:r},l.queue=u,l=nv.bind(null,xt,u),u.dispatch=l,u=hg(!1),p=_g.bind(null,xt,!1,u.queue),u=fn(),g={state:r,dispatch:null,action:s,pending:null},u.queue=g,l=Hw.bind(null,xt,g,p,l),g.dispatch=l,u.memoizedState=s,[r,l,!1]}function z_(s){var r=be();return U_(r,ee,s)}function U_(s,r,l){if(r=cg(s,r,P_)[0],s=ch(os)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ql(r)}catch(b){throw b===ho?Zu:b}else u=r;r=be();var g=r.queue,p=g.dispatch;return l!==r.memoizedState&&(xt.flags|=2048,yo(9,{destroy:void 0},Fw.bind(null,g,l),null)),[u,p,s]}function Fw(s,r){s.action=r}function B_(s){var r=be(),l=ee;if(l!==null)return U_(r,l,s);be(),r=r.memoizedState,l=be();var u=l.queue.dispatch;return l.memoizedState=s,[r,u,!1]}function yo(s,r,l,u){return s={tag:s,create:l,deps:u,inst:r,next:null},r=xt.updateQueue,r===null&&(r=oh(),xt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,r.lastEffect=s),s}function j_(){return be().memoizedState}function uh(s,r,l,u){var g=fn();xt.flags|=s,g.memoizedState=yo(1|r,{destroy:void 0},l,u===void 0?null:u)}function hh(s,r,l,u){var g=be();u=u===void 0?null:u;var p=g.memoizedState.inst;ee!==null&&u!==null&&ig(u,ee.memoizedState.deps)?g.memoizedState=yo(r,p,l,u):(xt.flags|=s,g.memoizedState=yo(1|r,p,l,u))}function H_(s,r){uh(8390656,8,s,r)}function dg(s,r){hh(2048,8,s,r)}function qw(s){xt.flags|=4;var r=xt.updateQueue;if(r===null)r=oh(),xt.updateQueue=r,r.events=[s];else{var l=r.events;l===null?r.events=[s]:l.push(s)}}function F_(s){var r=be().memoizedState;return qw({ref:r,nextImpl:s}),function(){if((Kt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function q_(s,r){return hh(4,2,s,r)}function G_(s,r){return hh(4,4,s,r)}function Y_(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function K_(s,r,l){l=l!=null?l.concat([s]):null,hh(4,4,Y_.bind(null,r,s),l)}function gg(){}function Q_(s,r){var l=be();r=r===void 0?null:r;var u=l.memoizedState;return r!==null&&ig(r,u[1])?u[0]:(l.memoizedState=[s,r],s)}function W_(s,r){var l=be();r=r===void 0?null:r;var u=l.memoizedState;if(r!==null&&ig(r,u[1]))return u[0];if(u=s(),ca){kn(!0);try{s()}finally{kn(!1)}}return l.memoizedState=[u,r],u}function mg(s,r,l){return l===void 0||(as&1073741824)!==0&&(Nt&261930)===0?s.memoizedState=r:(s.memoizedState=l,s=Xv(),xt.lanes|=s,$s|=s,l)}function X_(s,r,l,u){return xn(l,r)?l:go.current!==null?(s=mg(s,l,u),xn(s,r)||(De=!0),s):(as&42)===0||(as&1073741824)!==0&&(Nt&261930)===0?(De=!0,s.memoizedState=l):(s=Xv(),xt.lanes|=s,$s|=s,r)}function $_(s,r,l,u,g){var p=at.p;at.p=p!==0&&8>p?p:8;var b=Y.T,S={};Y.T=S,_g(s,!1,r,l);try{var k=g(),F=Y.S;if(F!==null&&F(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var W=Uw(k,u);Gl(s,r,W,Mn(s))}else Gl(s,r,u,Mn(s))}catch(J){Gl(s,r,{then:function(){},status:"rejected",reason:J},Mn())}finally{at.p=p,b!==null&&S.types!==null&&(b.types=S.types),Y.T=b}}function Gw(){}function pg(s,r,l,u){if(s.tag!==5)throw Error(i(476));var g=J_(s).queue;$_(s,g,r,gt,l===null?Gw:function(){return Z_(s),l(u)})}function J_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:gt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Z_(s){var r=J_(s);r.next===null&&(r=s.alternate.memoizedState),Gl(s,r.next.queue,{},Mn())}function yg(){return Xe(lc)}function tv(){return be().memoizedState}function ev(){return be().memoizedState}function Yw(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Mn();s=Gs(l);var u=Ys(r,s,l);u!==null&&(vn(u,r,l),Bl(u,r,l)),r={cache:Yd()},s.payload=r;return}r=r.return}}function Kw(s,r,l){var u=Mn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fh(s)?iv(r,l):(l=Vd(s,r,l,u),l!==null&&(vn(l,s,u),sv(l,r,u)))}function nv(s,r,l){var u=Mn();Gl(s,r,l,u)}function Gl(s,r,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(fh(s))iv(r,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,S=p(b,l);if(g.hasEagerState=!0,g.eagerState=S,xn(S,b))return Yu(s,r,g,0),se===null&&Gu(),!1}catch{}if(l=Vd(s,r,g,u),l!==null)return vn(l,s,u),sv(l,r,u),!0}return!1}function _g(s,r,l,u){if(u={lane:2,revertLane:Xg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},fh(s)){if(r)throw Error(i(479))}else r=Vd(s,l,u,2),r!==null&&vn(r,s,2)}function fh(s){var r=s.alternate;return s===xt||r!==null&&r===xt}function iv(s,r){mo=rh=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function sv(s,r,l){if((l&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,dl(s,l)}}var Yl={readContext:Xe,use:lh,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};Yl.useEffectEvent=me;var rv={readContext:Xe,use:lh,useCallback:function(s,r){return fn().memoizedState=[s,r===void 0?null:r],s},useContext:Xe,useEffect:H_,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,uh(4194308,4,Y_.bind(null,r,s),l)},useLayoutEffect:function(s,r){return uh(4194308,4,s,r)},useInsertionEffect:function(s,r){uh(4,2,s,r)},useMemo:function(s,r){var l=fn();r=r===void 0?null:r;var u=s();if(ca){kn(!0);try{s()}finally{kn(!1)}}return l.memoizedState=[u,r],u},useReducer:function(s,r,l){var u=fn();if(l!==void 0){var g=l(r);if(ca){kn(!0);try{l(r)}finally{kn(!1)}}}else g=r;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=Kw.bind(null,xt,s),[u.memoizedState,s]},useRef:function(s){var r=fn();return s={current:s},r.memoizedState=s},useState:function(s){s=hg(s);var r=s.queue,l=nv.bind(null,xt,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:gg,useDeferredValue:function(s,r){var l=fn();return mg(l,s,r)},useTransition:function(){var s=hg(!1);return s=$_.bind(null,xt,s.queue,!0,!1),fn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var u=xt,g=fn();if(Ut){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),se===null)throw Error(i(349));(Nt&127)!==0||x_(u,r,l)}g.memoizedState=l;var p={value:l,getSnapshot:r};return g.queue=p,H_(C_.bind(null,u,p,s),[s]),u.flags|=2048,yo(9,{destroy:void 0},R_.bind(null,u,p,l,r),null),l},useId:function(){var s=fn(),r=se.identifierPrefix;if(Ut){var l=zi,u=Li;l=(u&~(1<<32-ye(u)-1)).toString(32)+l,r="_"+r+"R_"+l,l=ah++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=Bw++,r="_"+r+"r_"+l.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:yg,useFormState:L_,useActionState:L_,useOptimistic:function(s){var r=fn();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=_g.bind(null,xt,!0,l),l.dispatch=r,[s,r]},useMemoCache:lg,useCacheRefresh:function(){return fn().memoizedState=Yw.bind(null,xt)},useEffectEvent:function(s){var r=fn(),l={impl:s};return r.memoizedState=l,function(){if((Kt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},vg={readContext:Xe,use:lh,useCallback:Q_,useContext:Xe,useEffect:dg,useImperativeHandle:K_,useInsertionEffect:q_,useLayoutEffect:G_,useMemo:W_,useReducer:ch,useRef:j_,useState:function(){return ch(os)},useDebugValue:gg,useDeferredValue:function(s,r){var l=be();return X_(l,ee.memoizedState,s,r)},useTransition:function(){var s=ch(os)[0],r=be().memoizedState;return[typeof s=="boolean"?s:ql(s),r]},useSyncExternalStore:w_,useId:tv,useHostTransitionStatus:yg,useFormState:z_,useActionState:z_,useOptimistic:function(s,r){var l=be();return O_(l,ee,s,r)},useMemoCache:lg,useCacheRefresh:ev};vg.useEffectEvent=F_;var av={readContext:Xe,use:lh,useCallback:Q_,useContext:Xe,useEffect:dg,useImperativeHandle:K_,useInsertionEffect:q_,useLayoutEffect:G_,useMemo:W_,useReducer:ug,useRef:j_,useState:function(){return ug(os)},useDebugValue:gg,useDeferredValue:function(s,r){var l=be();return ee===null?mg(l,s,r):X_(l,ee.memoizedState,s,r)},useTransition:function(){var s=ug(os)[0],r=be().memoizedState;return[typeof s=="boolean"?s:ql(s),r]},useSyncExternalStore:w_,useId:tv,useHostTransitionStatus:yg,useFormState:B_,useActionState:B_,useOptimistic:function(s,r){var l=be();return ee!==null?O_(l,ee,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:lg,useCacheRefresh:ev};av.useEffectEvent=F_;function bg(s,r,l,u){r=s.memoizedState,l=l(u,r),l=l==null?r:v({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Eg={enqueueSetState:function(s,r,l){s=s._reactInternals;var u=Mn(),g=Gs(u);g.payload=r,l!=null&&(g.callback=l),r=Ys(s,g,u),r!==null&&(vn(r,s,u),Bl(r,s,u))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var u=Mn(),g=Gs(u);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Ys(s,g,u),r!==null&&(vn(r,s,u),Bl(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Mn(),u=Gs(l);u.tag=2,r!=null&&(u.callback=r),r=Ys(s,u,l),r!==null&&(vn(r,s,l),Bl(r,s,l))}};function ov(s,r,l,u,g,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):r.prototype&&r.prototype.isPureReactComponent?!Ml(l,u)||!Ml(g,p):!0}function lv(s,r,l,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==s&&Eg.enqueueReplaceState(r,r.state,null)}function ua(s,r){var l=r;if("ref"in r){l={};for(var u in r)u!=="ref"&&(l[u]=r[u])}if(s=s.defaultProps){l===r&&(l=v({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function cv(s){qu(s)}function uv(s){console.error(s)}function hv(s){qu(s)}function dh(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function fv(s,r,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Tg(s,r,l){return l=Gs(l),l.tag=3,l.payload={element:null},l.callback=function(){dh(s,r)},l}function dv(s){return s=Gs(s),s.tag=3,s}function gv(s,r,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){fv(r,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){fv(r,l,u),typeof g!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function Qw(s,r,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=l.alternate,r!==null&&lo(r,l,g,!0),l=Cn.current,l!==null){switch(l.tag){case 31:case 13:return qn===null?wh():l.alternate===null&&pe===0&&(pe=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===th?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([u]):r.add(u),Kg(s,u,g)),!1;case 22:return l.flags|=65536,u===th?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([u]):l.add(u)),Kg(s,u,g)),!1}throw Error(i(435,l.tag))}return Kg(s,u,g),wh(),!1}if(Ut)return r=Cn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==jd&&(s=Error(i(422),{cause:u}),Vl(Bn(s,l)))):(u!==jd&&(r=Error(i(423),{cause:u}),Vl(Bn(r,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Bn(u,l),g=Tg(s.stateNode,u,g),Jd(s,g),pe!==4&&(pe=2)),!1;var p=Error(i(520),{cause:u});if(p=Bn(p,l),tc===null?tc=[p]:tc.push(p),pe!==4&&(pe=2),r===null)return!0;u=Bn(u,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Tg(l.stateNode,u,s),Jd(l,s),!1;case 1:if(r=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Js===null||!Js.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=dv(g),gv(g,s,l,u),Jd(l,g),!1}l=l.return}while(l!==null);return!1}var Sg=Error(i(461)),De=!1;function $e(s,r,l,u){r.child=s===null?__(r,null,l,u):la(r,s.child,l,u)}function mv(s,r,l,u,g){l=l.render;var p=r.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return sa(r),u=sg(s,r,l,b,p,g),S=rg(),s!==null&&!De?(ag(s,r,g),ls(s,r,g)):(Ut&&S&&Ud(r),r.flags|=1,$e(s,r,u,g),r.child)}function pv(s,r,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!Pd(p)&&p.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=p,yv(s,r,p,u,g)):(s=Qu(l.type,null,u,r,r.mode,g),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!Og(s,g)){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:Ml,l(b,u)&&s.ref===r.ref)return ls(s,r,g)}return r.flags|=1,s=ns(p,u),s.ref=r.ref,s.return=r,r.child=s}function yv(s,r,l,u,g){if(s!==null){var p=s.memoizedProps;if(Ml(p,u)&&s.ref===r.ref)if(De=!1,r.pendingProps=u=p,Og(s,g))(s.flags&131072)!==0&&(De=!0);else return r.lanes=s.lanes,ls(s,r,g)}return Ag(s,r,l,u,g)}function _v(s,r,l,u){var g=u.children,p=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=r.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,r.child=null;return vv(s,r,p,l,u)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ju(r,p!==null?p.cachePool:null),p!==null?E_(r,p):tg(),T_(r);else return u=r.lanes=536870912,vv(s,r,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(Ju(r,p.cachePool),E_(r,p),Qs(),r.memoizedState=null):(s!==null&&Ju(r,null),tg(),Qs());return $e(s,r,g,l),r.child}function Kl(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function vv(s,r,l,u,g){var p=Qd();return p=p===null?null:{parent:Ce._currentValue,pool:p},r.memoizedState={baseLanes:l,cachePool:p},s!==null&&Ju(r,null),tg(),T_(r),s!==null&&lo(s,r,u,!0),r.childLanes=g,null}function gh(s,r){return r=ph({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function bv(s,r,l){return la(r,s.child,null,l),s=gh(r,r.pendingProps),s.flags|=2,In(r),r.memoizedState=null,s}function Ww(s,r,l){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Ut){if(u.mode==="hidden")return s=gh(r,u),r.lanes=536870912,Kl(null,s);if(ng(r),(s=oe)?(s=M0(s,Fn),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Bs!==null?{id:Li,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},l=i_(s),l.return=r,r.child=l,We=r,oe=null)):s=null,s===null)throw Hs(r);return r.lanes=536870912,null}return gh(r,u)}var p=s.memoizedState;if(p!==null){var b=p.dehydrated;if(ng(r),g)if(r.flags&256)r.flags&=-257,r=bv(s,r,l);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(De||lo(s,r,l,!1),g=(l&s.childLanes)!==0,De||g){if(u=se,u!==null&&(b=gl(u,l),b!==0&&b!==p.retryLane))throw p.retryLane=b,ta(s,b),vn(u,s,b),Sg;wh(),r=bv(s,r,l)}else s=p.treeContext,oe=Gn(b.nextSibling),We=r,Ut=!0,js=null,Fn=!1,s!==null&&a_(r,s),r=gh(r,u),r.flags|=4096;return r}return s=ns(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function mh(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function Ag(s,r,l,u,g){return sa(r),l=sg(s,r,l,u,void 0,g),u=rg(),s!==null&&!De?(ag(s,r,g),ls(s,r,g)):(Ut&&u&&Ud(r),r.flags|=1,$e(s,r,l,g),r.child)}function Ev(s,r,l,u,g,p){return sa(r),r.updateQueue=null,l=A_(r,u,l,g),S_(s),u=rg(),s!==null&&!De?(ag(s,r,p),ls(s,r,p)):(Ut&&u&&Ud(r),r.flags|=1,$e(s,r,l,p),r.child)}function Tv(s,r,l,u,g){if(sa(r),r.stateNode===null){var p=so,b=l.contextType;typeof b=="object"&&b!==null&&(p=Xe(b)),p=new l(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Eg,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Xd(r),b=l.contextType,p.context=typeof b=="object"&&b!==null?Xe(b):so,p.state=r.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(bg(r,l,b,u),p.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Eg.enqueueReplaceState(p,p.state,null),Hl(r,u,p,g),jl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var S=r.memoizedProps,k=ua(l,S);p.props=k;var F=p.context,W=l.contextType;b=so,typeof W=="object"&&W!==null&&(b=Xe(W));var J=l.getDerivedStateFromProps;W=typeof J=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||F!==b)&&lv(r,p,u,b),qs=!1;var q=r.memoizedState;p.state=q,Hl(r,u,p,g),jl(),F=r.memoizedState,S||q!==F||qs?(typeof J=="function"&&(bg(r,l,J,u),F=r.memoizedState),(k=qs||ov(r,l,k,u,q,F,b))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=F),p.props=u,p.state=F,p.context=b,u=k):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,$d(s,r),b=r.memoizedProps,W=ua(l,b),p.props=W,J=r.pendingProps,q=p.context,F=l.contextType,k=so,typeof F=="object"&&F!==null&&(k=Xe(F)),S=l.getDerivedStateFromProps,(F=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==J||q!==k)&&lv(r,p,u,k),qs=!1,q=r.memoizedState,p.state=q,Hl(r,u,p,g),jl();var K=r.memoizedState;b!==J||q!==K||qs||s!==null&&s.dependencies!==null&&Xu(s.dependencies)?(typeof S=="function"&&(bg(r,l,S,u),K=r.memoizedState),(W=qs||ov(r,l,W,u,q,K,k)||s!==null&&s.dependencies!==null&&Xu(s.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,K,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,K,k)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&q===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&q===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=K),p.props=u,p.state=K,p.context=k,u=W):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&q===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&q===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,mh(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=la(r,s.child,null,g),r.child=la(r,null,l,g)):$e(s,r,l,g),r.memoizedState=p.state,s=r.child):s=ls(s,r,g),s}function Sv(s,r,l,u){return na(),r.flags|=256,$e(s,r,l,u),r.child}var wg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xg(s){return{baseLanes:s,cachePool:f_()}}function Rg(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=On),s}function Av(s,r,l){var u=r.pendingProps,g=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(ve.current&2)!==0),b&&(g=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ut){if(g?Ks(r):Qs(),(s=oe)?(s=M0(s,Fn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Bs!==null?{id:Li,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},l=i_(s),l.return=r,r.child=l,We=r,oe=null)):s=null,s===null)throw Hs(r);return cm(s)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,g?(Qs(),g=r.mode,S=ph({mode:"hidden",children:S},g),u=ea(u,g,l,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=xg(l),u.childLanes=Rg(s,b,l),r.memoizedState=wg,Kl(null,u)):(Ks(r),Cg(r,S))}var k=s.memoizedState;if(k!==null&&(S=k.dehydrated,S!==null)){if(p)r.flags&256?(Ks(r),r.flags&=-257,r=Ig(s,r,l)):r.memoizedState!==null?(Qs(),r.child=s.child,r.flags|=128,r=null):(Qs(),S=u.fallback,g=r.mode,u=ph({mode:"visible",children:u.children},g),S=ea(S,g,l,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,la(r,s.child,null,l),u=r.child,u.memoizedState=xg(l),u.childLanes=Rg(s,b,l),r.memoizedState=wg,r=Kl(null,u));else if(Ks(r),cm(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var F=b.dgst;b=F,u=Error(i(419)),u.stack="",u.digest=b,Vl({value:u,source:null,stack:null}),r=Ig(s,r,l)}else if(De||lo(s,r,l,!1),b=(l&s.childLanes)!==0,De||b){if(b=se,b!==null&&(u=gl(b,l),u!==0&&u!==k.retryLane))throw k.retryLane=u,ta(s,u),vn(b,s,u),Sg;lm(S)||wh(),r=Ig(s,r,l)}else lm(S)?(r.flags|=192,r.child=s.child,r=null):(s=k.treeContext,oe=Gn(S.nextSibling),We=r,Ut=!0,js=null,Fn=!1,s!==null&&a_(r,s),r=Cg(r,u.children),r.flags|=4096);return r}return g?(Qs(),S=u.fallback,g=r.mode,k=s.child,F=k.sibling,u=ns(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,F!==null?S=ns(F,S):(S=ea(S,g,l,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Kl(null,u),u=r.child,S=s.child.memoizedState,S===null?S=xg(l):(g=S.cachePool,g!==null?(k=Ce._currentValue,g=g.parent!==k?{parent:k,pool:k}:g):g=f_(),S={baseLanes:S.baseLanes|l,cachePool:g}),u.memoizedState=S,u.childLanes=Rg(s,b,l),r.memoizedState=wg,Kl(s.child,u)):(Ks(r),l=s.child,s=l.sibling,l=ns(l,{mode:"visible",children:u.children}),l.return=r,l.sibling=null,s!==null&&(b=r.deletions,b===null?(r.deletions=[s],r.flags|=16):b.push(s)),r.child=l,r.memoizedState=null,l)}function Cg(s,r){return r=ph({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function ph(s,r){return s=Rn(22,s,null,r),s.lanes=0,s}function Ig(s,r,l){return la(r,s.child,null,l),s=Cg(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function wv(s,r,l){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),qd(s.return,r,l)}function Dg(s,r,l,u,g,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=g,b.treeForkCount=p)}function xv(s,r,l){var u=r.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var b=ve.current,S=(b&2)!==0;if(S?(b=b&1|2,r.flags|=128):b&=1,lt(ve,b),$e(s,r,u,l),u=Ut?kl:0,!S&&s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wv(s,l,r);else if(s.tag===19)wv(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=r.child,g=null;l!==null;)s=l.alternate,s!==null&&sh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),Dg(r,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(s=g.alternate,s!==null&&sh(s)===null){r.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Dg(r,!0,l,null,p,u);break;case"together":Dg(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ls(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),$s|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(lo(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=ns(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=ns(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Og(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Xu(s)))}function Xw(s,r,l){switch(r.tag){case 3:Pe(r,r.stateNode.containerInfo),Fs(r,Ce,s.memoizedState.cache),na();break;case 27:case 5:Pr(r);break;case 4:Pe(r,r.stateNode.containerInfo);break;case 10:Fs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ng(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ks(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Av(s,r,l):(Ks(r),s=ls(s,r,l),s!==null?s.sibling:null);Ks(r);break;case 19:var g=(s.flags&128)!==0;if(u=(l&r.childLanes)!==0,u||(lo(s,r,l,!1),u=(l&r.childLanes)!==0),g){if(u)return xv(s,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),lt(ve,ve.current),u)break;return null;case 22:return r.lanes=0,_v(s,r,l,r.pendingProps);case 24:Fs(r,Ce,s.memoizedState.cache)}return ls(s,r,l)}function Rv(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)De=!0;else{if(!Og(s,l)&&(r.flags&128)===0)return De=!1,Xw(s,r,l);De=(s.flags&131072)!==0}else De=!1,Ut&&(r.flags&1048576)!==0&&r_(r,kl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(s=aa(r.elementType),r.type=s,typeof s=="function")Pd(s)?(u=ua(s,u),r.tag=1,r=Tv(null,r,s,u,l)):(r.tag=0,r=Ag(null,r,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===rt){r.tag=11,r=mv(null,r,s,u,l);break t}else if(g===R){r.tag=14,r=pv(null,r,s,u,l);break t}}throw r=zt(s)||s,Error(i(306,r,""))}}return r;case 0:return Ag(s,r,r.type,r.pendingProps,l);case 1:return u=r.type,g=ua(u,r.pendingProps),Tv(s,r,u,g,l);case 3:t:{if(Pe(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;g=p.element,$d(s,r),Hl(r,u,null,l);var b=r.memoizedState;if(u=b.cache,Fs(r,Ce,u),u!==p.cache&&Gd(r,[Ce],l,!0),jl(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Sv(s,r,u,l);break t}else if(u!==g){g=Bn(Error(i(424)),r),Vl(g),r=Sv(s,r,u,l);break t}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,oe=Gn(s.firstChild),We=r,Ut=!0,js=null,Fn=!0,l=__(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(na(),u===g){r=ls(s,r,l);break t}$e(s,r,u,l)}r=r.child}return r;case 26:return mh(s,r),s===null?(l=z0(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ut||(l=r.type,s=r.pendingProps,u=Mh(vt.current).createElement(l),u[we]=r,u[je]=s,Je(u,l,s),xe(u),r.stateNode=u):r.memoizedState=z0(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Pr(r),s===null&&Ut&&(u=r.stateNode=V0(r.type,r.pendingProps,vt.current),We=r,Fn=!0,g=oe,nr(r.type)?(um=g,oe=Gn(u.firstChild)):oe=g),$e(s,r,r.pendingProps.children,l),mh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ut&&((g=u=oe)&&(u=xx(u,r.type,r.pendingProps,Fn),u!==null?(r.stateNode=u,We=r,oe=Gn(u.firstChild),Fn=!1,g=!0):g=!1),g||Hs(r)),Pr(r),g=r.type,p=r.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,rm(g,p)?u=null:b!==null&&rm(g,b)&&(r.flags|=32),r.memoizedState!==null&&(g=sg(s,r,jw,null,null,l),lc._currentValue=g),mh(s,r),$e(s,r,u,l),r.child;case 6:return s===null&&Ut&&((s=l=oe)&&(l=Rx(l,r.pendingProps,Fn),l!==null?(r.stateNode=l,We=r,oe=null,s=!0):s=!1),s||Hs(r)),null;case 13:return Av(s,r,l);case 4:return Pe(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=la(r,null,u,l):$e(s,r,u,l),r.child;case 11:return mv(s,r,r.type,r.pendingProps,l);case 7:return $e(s,r,r.pendingProps,l),r.child;case 8:return $e(s,r,r.pendingProps.children,l),r.child;case 12:return $e(s,r,r.pendingProps.children,l),r.child;case 10:return u=r.pendingProps,Fs(r,r.type,u.value),$e(s,r,u.children,l),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,sa(r),g=Xe(g),u=u(g),r.flags|=1,$e(s,r,u,l),r.child;case 14:return pv(s,r,r.type,r.pendingProps,l);case 15:return yv(s,r,r.type,r.pendingProps,l);case 19:return xv(s,r,l);case 31:return Ww(s,r,l);case 22:return _v(s,r,l,r.pendingProps);case 24:return sa(r),u=Xe(Ce),s===null?(g=Qd(),g===null&&(g=se,p=Yd(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),r.memoizedState={parent:u,cache:g},Xd(r),Fs(r,Ce,g)):((s.lanes&l)!==0&&($d(s,r),Hl(r,null,null,l),jl()),g=s.memoizedState,p=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Fs(r,Ce,u)):(u=p.cache,Fs(r,Ce,u),u!==g.cache&&Gd(r,[Ce],l,!0))),$e(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function cs(s){s.flags|=4}function Mg(s,r,l,u,g){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(t0())s.flags|=8192;else throw oa=th,Wd}else s.flags&=-16777217}function Cv(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!F0(r))if(t0())s.flags|=8192;else throw oa=th,Wd}function yh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Su():536870912,s.lanes|=r,Eo|=r)}function Ql(s,r){if(!Ut)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function le(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(r)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,r}function $w(s,r,l){var u=r.pendingProps;switch(Bd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(r),null;case 1:return le(r),null;case 3:return l=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),rs(Ce),he(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(oo(r)?cs(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Hd())),le(r),null;case 26:var g=r.type,p=r.memoizedState;return s===null?(cs(r),p!==null?(le(r),Cv(r,p)):(le(r),Mg(r,g,null,u,l))):p?p!==s.memoizedState?(cs(r),le(r),Cv(r,p)):(le(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&cs(r),le(r),Mg(r,g,s,u,l)),null;case 27:if(Ua(r),l=vt.current,g=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&cs(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return le(r),null}s=ct.current,oo(r)?o_(r):(s=V0(g,u,l),r.stateNode=s,cs(r))}return le(r),null;case 5:if(Ua(r),g=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&cs(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return le(r),null}if(p=ct.current,oo(r))o_(r);else{var b=Mh(vt.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(g,{is:u.is}):b.createElement(g)}}p[we]=r,p[je]=u;t:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break t;for(;b.sibling===null;){if(b.return===null||b.return===r)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;t:switch(Je(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&cs(r)}}return le(r),Mg(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,l),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&cs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=vt.current,oo(r)){if(s=r.stateNode,l=r.memoizedProps,u=null,g=We,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[we]=r,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||A0(s.nodeValue,l)),s||Hs(r,!0)}else s=Mh(s).createTextNode(u),s[we]=r,r.stateNode=s}return le(r),null;case 31:if(l=r.memoizedState,s===null||s.memoizedState!==null){if(u=oo(r),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[we]=r}else na(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;le(r),s=!1}else l=Hd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return r.flags&256?(In(r),r):(In(r),null);if((r.flags&128)!==0)throw Error(i(558))}return le(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=oo(r),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[we]=r}else na(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;le(r),g=!1}else g=Hd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(In(r),r):(In(r),null)}return In(r),(r.flags&128)!==0?(r.lanes=l,r):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==s&&l&&(r.child.flags|=8192),yh(r,r.updateQueue),le(r),null);case 4:return he(),s===null&&tm(r.stateNode.containerInfo),le(r),null;case 10:return rs(r.type),le(r),null;case 19:if(X(ve),u=r.memoizedState,u===null)return le(r),null;if(g=(r.flags&128)!==0,p=u.rendering,p===null)if(g)Ql(u,!1);else{if(pe!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=sh(s),p!==null){for(r.flags|=128,Ql(u,!1),s=p.updateQueue,r.updateQueue=s,yh(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)n_(l,s),l=l.sibling;return lt(ve,ve.current&1|2),Ut&&is(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&un()>Th&&(r.flags|=128,g=!0,Ql(u,!1),r.lanes=4194304)}else{if(!g)if(s=sh(p),s!==null){if(r.flags|=128,g=!0,s=s.updateQueue,r.updateQueue=s,yh(r,s),Ql(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ut)return le(r),null}else 2*un()-u.renderingStartTime>Th&&l!==536870912&&(r.flags|=128,g=!0,Ql(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(s=u.last,s!==null?s.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=un(),s.sibling=null,l=ve.current,lt(ve,g?l&1|2:l&1),Ut&&is(r,u.treeForkCount),s):(le(r),null);case 22:case 23:return In(r),eg(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(l&536870912)!==0&&(r.flags&128)===0&&(le(r),r.subtreeFlags&6&&(r.flags|=8192)):le(r),l=r.updateQueue,l!==null&&yh(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==l&&(r.flags|=2048),s!==null&&X(ra),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),rs(Ce),le(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function Jw(s,r){switch(Bd(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return rs(Ce),he(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Ua(r),null;case 31:if(r.memoizedState!==null){if(In(r),r.alternate===null)throw Error(i(340));na()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(In(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));na()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return X(ve),null;case 4:return he(),null;case 10:return rs(r.type),null;case 22:case 23:return In(r),eg(),s!==null&&X(ra),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return rs(Ce),null;case 25:return null;default:return null}}function Iv(s,r){switch(Bd(r),r.tag){case 3:rs(Ce),he();break;case 26:case 27:case 5:Ua(r);break;case 4:he();break;case 31:r.memoizedState!==null&&In(r);break;case 13:In(r);break;case 19:X(ve);break;case 10:rs(r.type);break;case 22:case 23:In(r),eg(),s!==null&&X(ra);break;case 24:rs(Ce)}}function Wl(s,r){try{var l=r.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,b=l.inst;u=p(),b.destroy=u}l=l.next}while(l!==g)}}catch(S){Jt(r,r.return,S)}}function Ws(s,r,l){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,g=r;var k=l,F=S;try{F()}catch(W){Jt(g,k,W)}}}u=u.next}while(u!==p)}}catch(W){Jt(r,r.return,W)}}function Dv(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{b_(r,l)}catch(u){Jt(s,s.return,u)}}}function Ov(s,r,l){l.props=ua(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Jt(s,r,u)}}function Xl(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){Jt(s,r,g)}}function Ui(s,r){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Jt(s,r,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Jt(s,r,g)}else l.current=null}function Mv(s){var r=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Jt(s,s.return,g)}}function Ng(s,r,l){try{var u=s.stateNode;bx(u,s.type,l,r),u[je]=r}catch(g){Jt(s,s.return,g)}}function Nv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&nr(s.type)||s.tag===4}function kg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Nv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&nr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vg(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=si));else if(u!==4&&(u===27&&nr(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(Vg(s,r,l),s=s.sibling;s!==null;)Vg(s,r,l),s=s.sibling}function _h(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(u!==4&&(u===27&&nr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(_h(s,r,l),s=s.sibling;s!==null;)_h(s,r,l),s=s.sibling}function kv(s){var r=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Je(r,u,l),r[we]=s,r[je]=l}catch(p){Jt(s,s.return,p)}}var us=!1,Oe=!1,Pg=!1,Vv=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Zw(s,r){if(s=s.containerInfo,im=Uh,s=Ky(s),Id(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var b=0,S=-1,k=-1,F=0,W=0,J=s,q=null;e:for(;;){for(var K;J!==l||g!==0&&J.nodeType!==3||(S=b+g),J!==p||u!==0&&J.nodeType!==3||(k=b+u),J.nodeType===3&&(b+=J.nodeValue.length),(K=J.firstChild)!==null;)q=J,J=K;for(;;){if(J===s)break e;if(q===l&&++F===g&&(S=b),q===p&&++W===u&&(k=b),(K=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=K}l=S===-1||k===-1?null:{start:S,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(sm={focusedElem:s,selectionRange:l},Uh=!1,Fe=r;Fe!==null;)if(r=Fe,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Fe=s;else for(;Fe!==null;){switch(r=Fe,p=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=r,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var ft=ua(l.type,g);s=u.getSnapshotBeforeUpdate(ft,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(_t){Jt(l,l.return,_t)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)om(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":om(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Fe=s;break}Fe=r.return}}function Pv(s,r,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:fs(s,l),u&4&&Wl(5,l);break;case 1:if(fs(s,l),u&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(b){Jt(l,l.return,b)}else{var g=ua(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(g,r,s.__reactInternalSnapshotBeforeUpdate)}catch(b){Jt(l,l.return,b)}}u&64&&Dv(l),u&512&&Xl(l,l.return);break;case 3:if(fs(s,l),u&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{b_(s,r)}catch(b){Jt(l,l.return,b)}}break;case 27:r===null&&u&4&&kv(l);case 26:case 5:fs(s,l),r===null&&u&4&&Mv(l),u&512&&Xl(l,l.return);break;case 12:fs(s,l);break;case 31:fs(s,l),u&4&&Uv(s,l);break;case 13:fs(s,l),u&4&&Bv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=lx.bind(null,l),Cx(s,l))));break;case 22:if(u=l.memoizedState!==null||us,!u){r=r!==null&&r.memoizedState!==null||Oe,g=us;var p=Oe;us=u,(Oe=r)&&!p?ds(s,l,(l.subtreeFlags&8772)!==0):fs(s,l),us=g,Oe=p}break;case 30:break;default:fs(s,l)}}function Lv(s){var r=s.alternate;r!==null&&(s.alternate=null,Lv(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&qa(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var de=null,mn=!1;function hs(s,r,l){for(l=l.child;l!==null;)zv(s,r,l),l=l.sibling}function zv(s,r,l){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ti,l)}catch{}switch(l.tag){case 26:Oe||Ui(l,r),hs(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Oe||Ui(l,r);var u=de,g=mn;nr(l.type)&&(de=l.stateNode,mn=!1),hs(s,r,l),rc(l.stateNode),de=u,mn=g;break;case 5:Oe||Ui(l,r);case 6:if(u=de,g=mn,de=null,hs(s,r,l),de=u,mn=g,de!==null)if(mn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(l.stateNode)}catch(p){Jt(l,r,p)}else try{de.removeChild(l.stateNode)}catch(p){Jt(l,r,p)}break;case 18:de!==null&&(mn?(s=de,D0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Io(s)):D0(de,l.stateNode));break;case 4:u=de,g=mn,de=l.stateNode.containerInfo,mn=!0,hs(s,r,l),de=u,mn=g;break;case 0:case 11:case 14:case 15:Ws(2,l,r),Oe||Ws(4,l,r),hs(s,r,l);break;case 1:Oe||(Ui(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Ov(l,r,u)),hs(s,r,l);break;case 21:hs(s,r,l);break;case 22:Oe=(u=Oe)||l.memoizedState!==null,hs(s,r,l),Oe=u;break;default:hs(s,r,l)}}function Uv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Io(s)}catch(l){Jt(r,r.return,l)}}}function Bv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Io(s)}catch(l){Jt(r,r.return,l)}}function tx(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Vv),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Vv),r;default:throw Error(i(435,s.tag))}}function vh(s,r){var l=tx(s);r.forEach(function(u){if(!l.has(u)){l.add(u);var g=cx.bind(null,s,u);u.then(g,g)}})}function pn(s,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,b=r,S=b;t:for(;S!==null;){switch(S.tag){case 27:if(nr(S.type)){de=S.stateNode,mn=!1;break t}break;case 5:de=S.stateNode,mn=!1;break t;case 3:case 4:de=S.stateNode.containerInfo,mn=!0;break t}S=S.return}if(de===null)throw Error(i(160));zv(p,b,g),de=null,mn=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)jv(r,s),r=r.sibling}var ui=null;function jv(s,r){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:pn(r,s),yn(s),u&4&&(Ws(3,s,s.return),Wl(3,s),Ws(5,s,s.return));break;case 1:pn(r,s),yn(s),u&512&&(Oe||l===null||Ui(l,l.return)),u&64&&us&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=ui;if(pn(r,s),yn(s),u&512&&(Oe||l===null||Ui(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[wi]||p[we]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),Je(p,u,l),p[we]=s,xe(p),u=p;break t;case"link":var b=j0("link","href",g).get(u+(l.href||""));if(b){for(var S=0;S<b.length;S++)if(p=b[S],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(S,1);break e}}p=g.createElement(u),Je(p,u,l),g.head.appendChild(p);break;case"meta":if(b=j0("meta","content",g).get(u+(l.content||""))){for(S=0;S<b.length;S++)if(p=b[S],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(S,1);break e}}p=g.createElement(u),Je(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[we]=s,xe(p),u=p}s.stateNode=u}else H0(g,s.type,s.stateNode);else s.stateNode=B0(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?H0(g,s.type,s.stateNode):B0(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Ng(s,s.memoizedProps,l.memoizedProps)}break;case 27:pn(r,s),yn(s),u&512&&(Oe||l===null||Ui(l,l.return)),l!==null&&u&4&&Ng(s,s.memoizedProps,l.memoizedProps);break;case 5:if(pn(r,s),yn(s),u&512&&(Oe||l===null||Ui(l,l.return)),s.flags&32){g=s.stateNode;try{gn(g,"")}catch(ft){Jt(s,s.return,ft)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Ng(s,g,l!==null?l.memoizedProps:g)),u&1024&&(Pg=!0);break;case 6:if(pn(r,s),yn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ft){Jt(s,s.return,ft)}}break;case 3:if(Vh=null,g=ui,ui=Nh(r.containerInfo),pn(r,s),ui=g,yn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Io(r.containerInfo)}catch(ft){Jt(s,s.return,ft)}Pg&&(Pg=!1,Hv(s));break;case 4:u=ui,ui=Nh(s.stateNode.containerInfo),pn(r,s),yn(s),ui=u;break;case 12:pn(r,s),yn(s);break;case 31:pn(r,s),yn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,vh(s,u)));break;case 13:pn(r,s),yn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Eh=un()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,vh(s,u)));break;case 22:g=s.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,F=us,W=Oe;if(us=F||g,Oe=W||k,pn(r,s),Oe=W,us=F,yn(s),u&8192)t:for(r=s.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||k||us||Oe||ha(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){k=l=r;try{if(p=k.stateNode,g)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=k.stateNode;var J=k.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ft){Jt(k,k.return,ft)}}}else if(r.tag===6){if(l===null){k=r;try{k.stateNode.nodeValue=g?"":k.memoizedProps}catch(ft){Jt(k,k.return,ft)}}}else if(r.tag===18){if(l===null){k=r;try{var K=k.stateNode;g?O0(K,!0):O0(k.stateNode,!1)}catch(ft){Jt(k,k.return,ft)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,vh(s,l))));break;case 19:pn(r,s),yn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,vh(s,u)));break;case 30:break;case 21:break;default:pn(r,s),yn(s)}}function yn(s){var r=s.flags;if(r&2){try{for(var l,u=s.return;u!==null;){if(Nv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=kg(s);_h(s,p,g);break;case 5:var b=l.stateNode;l.flags&32&&(gn(b,""),l.flags&=-33);var S=kg(s);_h(s,S,b);break;case 3:case 4:var k=l.stateNode.containerInfo,F=kg(s);Vg(s,F,k);break;default:throw Error(i(161))}}catch(W){Jt(s,s.return,W)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Hv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Hv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function fs(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Pv(s,r.alternate,r),r=r.sibling}function ha(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Ws(4,r,r.return),ha(r);break;case 1:Ui(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Ov(r,r.return,l),ha(r);break;case 27:rc(r.stateNode);case 26:case 5:Ui(r,r.return),ha(r);break;case 22:r.memoizedState===null&&ha(r);break;case 30:ha(r);break;default:ha(r)}s=s.sibling}}function ds(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=s,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:ds(g,p,l),Wl(4,p);break;case 1:if(ds(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(F){Jt(u,u.return,F)}if(u=p,g=u.updateQueue,g!==null){var S=u.stateNode;try{var k=g.shared.hiddenCallbacks;if(k!==null)for(g.shared.hiddenCallbacks=null,g=0;g<k.length;g++)v_(k[g],S)}catch(F){Jt(u,u.return,F)}}l&&b&64&&Dv(p),Xl(p,p.return);break;case 27:kv(p);case 26:case 5:ds(g,p,l),l&&u===null&&b&4&&Mv(p),Xl(p,p.return);break;case 12:ds(g,p,l);break;case 31:ds(g,p,l),l&&b&4&&Uv(g,p);break;case 13:ds(g,p,l),l&&b&4&&Bv(g,p);break;case 22:p.memoizedState===null&&ds(g,p,l),Xl(p,p.return);break;case 30:break;default:ds(g,p,l)}r=r.sibling}}function Lg(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Pl(l))}function zg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Pl(s))}function hi(s,r,l,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Fv(s,r,l,u),r=r.sibling}function Fv(s,r,l,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:hi(s,r,l,u),g&2048&&Wl(9,r);break;case 1:hi(s,r,l,u);break;case 3:hi(s,r,l,u),g&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Pl(s)));break;case 12:if(g&2048){hi(s,r,l,u),s=r.stateNode;try{var p=r.memoizedProps,b=p.id,S=p.onPostCommit;typeof S=="function"&&S(b,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(k){Jt(r,r.return,k)}}else hi(s,r,l,u);break;case 31:hi(s,r,l,u);break;case 13:hi(s,r,l,u);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?hi(s,r,l,u):$l(s,r):p._visibility&2?hi(s,r,l,u):(p._visibility|=2,_o(s,r,l,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Lg(b,r);break;case 24:hi(s,r,l,u),g&2048&&zg(r.alternate,r);break;default:hi(s,r,l,u)}}function _o(s,r,l,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=s,b=r,S=l,k=u,F=b.flags;switch(b.tag){case 0:case 11:case 15:_o(p,b,S,k,g),Wl(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&2?_o(p,b,S,k,g):$l(p,b):(W._visibility|=2,_o(p,b,S,k,g)),g&&F&2048&&Lg(b.alternate,b);break;case 24:_o(p,b,S,k,g),g&&F&2048&&zg(b.alternate,b);break;default:_o(p,b,S,k,g)}r=r.sibling}}function $l(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,u=r,g=u.flags;switch(u.tag){case 22:$l(l,u),g&2048&&Lg(u.alternate,u);break;case 24:$l(l,u),g&2048&&zg(u.alternate,u);break;default:$l(l,u)}r=r.sibling}}var Jl=8192;function vo(s,r,l){if(s.subtreeFlags&Jl)for(s=s.child;s!==null;)qv(s,r,l),s=s.sibling}function qv(s,r,l){switch(s.tag){case 26:vo(s,r,l),s.flags&Jl&&s.memoizedState!==null&&Bx(l,ui,s.memoizedState,s.memoizedProps);break;case 5:vo(s,r,l);break;case 3:case 4:var u=ui;ui=Nh(s.stateNode.containerInfo),vo(s,r,l),ui=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Jl,Jl=16777216,vo(s,r,l),Jl=u):vo(s,r,l));break;default:vo(s,r,l)}}function Gv(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Zl(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];Fe=u,Kv(u,s)}Gv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Yv(s),s=s.sibling}function Yv(s){switch(s.tag){case 0:case 11:case 15:Zl(s),s.flags&2048&&Ws(9,s,s.return);break;case 3:Zl(s);break;case 12:Zl(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,bh(s)):Zl(s);break;default:Zl(s)}}function bh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];Fe=u,Kv(u,s)}Gv(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Ws(8,r,r.return),bh(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,bh(r));break;default:bh(r)}s=s.sibling}}function Kv(s,r){for(;Fe!==null;){var l=Fe;switch(l.tag){case 0:case 11:case 15:Ws(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Pl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Fe=u;else t:for(l=s;Fe!==null;){u=Fe;var g=u.sibling,p=u.return;if(Lv(u),u===l){Fe=null;break t}if(g!==null){g.return=p,Fe=g;break t}Fe=p}}}var ex={getCacheForType:function(s){var r=Xe(Ce),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l},cacheSignal:function(){return Xe(Ce).controller.signal}},nx=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,Dt=null,Nt=0,$t=0,Dn=null,Xs=!1,bo=!1,Ug=!1,gs=0,pe=0,$s=0,fa=0,Bg=0,On=0,Eo=0,tc=null,_n=null,jg=!1,Eh=0,Qv=0,Th=1/0,Sh=null,Js=null,ze=0,Zs=null,To=null,ms=0,Hg=0,Fg=null,Wv=null,ec=0,qg=null;function Mn(){return(Kt&2)!==0&&Nt!==0?Nt&-Nt:Y.T!==null?Xg():Au()}function Xv(){if(On===0)if((Nt&536870912)===0||Ut){var s=Ur;Ur<<=1,(Ur&3932160)===0&&(Ur=262144),On=s}else On=536870912;return s=Cn.current,s!==null&&(s.flags|=32),On}function vn(s,r,l){(s===se&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(So(s,0),tr(s,Nt,On,!1)),Br(s,l),((Kt&2)===0||s!==se)&&(s===se&&((Kt&2)===0&&(fa|=l),pe===4&&tr(s,Nt,On,!1)),Bi(s))}function $v(s,r,l){if((Kt&6)!==0)throw Error(i(327));var u=!l&&(r&127)===0&&(r&s.expiredLanes)===0||ei(s,r),g=u?rx(s,r):Yg(s,r,!0),p=u;do{if(g===0){bo&&!u&&tr(s,r,0,!1);break}else{if(l=s.current.alternate,p&&!ix(l)){g=Yg(s,r,!1),p=!1;continue}if(g===2){if(p=r,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var S=s;g=tc;var k=S.current.memoizedState.isDehydrated;if(k&&(So(S,b).flags|=256),b=Yg(S,b,!1),b!==2){if(Ug&&!k){S.errorRecoveryDisabledLanes|=p,fa|=p,g=4;break t}p=_n,_n=g,p!==null&&(_n===null?_n=p:_n.push.apply(_n,p))}g=b}if(p=!1,g!==2)continue}}if(g===1){So(s,0),tr(s,r,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:tr(u,r,On,!Xs);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=Eh+300-un(),10<g)){if(tr(u,r,On,!Xs),Ti(u,0,!0)!==0)break t;ms=r,u.timeoutHandle=C0(Jv.bind(null,u,l,_n,Sh,jg,r,On,fa,Eo,Xs,p,"Throttled",-0,0),g);break t}Jv(u,l,_n,Sh,jg,r,On,fa,Eo,Xs,p,null,-0,0)}}break}while(!0);Bi(s)}function Jv(s,r,l,u,g,p,b,S,k,F,W,J,q,K){if(s.timeoutHandle=-1,J=r.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},qv(r,p,J);var ft=(p&62914560)===p?Eh-un():(p&4194048)===p?Qv-un():0;if(ft=jx(J,ft),ft!==null){ms=p,s.cancelPendingCommit=ft(a0.bind(null,s,r,p,l,u,g,b,S,k,W,J,null,q,K)),tr(s,p,b,!F);return}}a0(s,r,p,l,u,g,b,S,k)}function ix(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!xn(p(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function tr(s,r,l,u){r&=~Bg,r&=~fa,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var g=r;0<g;){var p=31-ye(g),b=1<<p;u[p]=-1,g&=~b}l!==0&&jr(s,l,r)}function Ah(){return(Kt&6)===0?(nc(0),!1):!0}function Gg(){if(Dt!==null){if($t===0)var s=Dt.return;else s=Dt,ss=ia=null,og(s),fo=null,zl=0,s=Dt;for(;s!==null;)Iv(s.alternate,s),s=s.return;Dt=null}}function So(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,Sx(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),ms=0,Gg(),se=s,Dt=l=ns(s.current,null),Nt=r,$t=0,Dn=null,Xs=!1,bo=ei(s,r),Ug=!1,Eo=On=Bg=fa=$s=pe=0,_n=tc=null,jg=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var g=31-ye(u),p=1<<g;r|=s[g],u&=~p}return gs=r,Gu(),l}function Zv(s,r){xt=null,Y.H=Yl,r===ho||r===Zu?(r=m_(),$t=3):r===Wd?(r=m_(),$t=4):$t=r===Sg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,Dt===null&&(pe=1,dh(s,Bn(r,s.current)))}function t0(){var s=Cn.current;return s===null?!0:(Nt&4194048)===Nt?qn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?s===qn:!1}function e0(){var s=Y.H;return Y.H=Yl,s===null?Yl:s}function n0(){var s=Y.A;return Y.A=ex,s}function wh(){pe=4,Xs||(Nt&4194048)!==Nt&&Cn.current!==null||(bo=!0),($s&134217727)===0&&(fa&134217727)===0||se===null||tr(se,Nt,On,!1)}function Yg(s,r,l){var u=Kt;Kt|=2;var g=e0(),p=n0();(se!==s||Nt!==r)&&(Sh=null,So(s,r)),r=!1;var b=pe;t:do try{if($t!==0&&Dt!==null){var S=Dt,k=Dn;switch($t){case 8:Gg(),b=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(r=!0);var F=$t;if($t=0,Dn=null,Ao(s,S,k,F),l&&bo){b=0;break t}break;default:F=$t,$t=0,Dn=null,Ao(s,S,k,F)}}sx(),b=pe;break}catch(W){Zv(s,W)}while(!0);return r&&s.shellSuspendCounter++,ss=ia=null,Kt=u,Y.H=g,Y.A=p,Dt===null&&(se=null,Nt=0,Gu()),b}function sx(){for(;Dt!==null;)i0(Dt)}function rx(s,r){var l=Kt;Kt|=2;var u=e0(),g=n0();se!==s||Nt!==r?(Sh=null,Th=un()+500,So(s,r)):bo=ei(s,r);t:do try{if($t!==0&&Dt!==null){r=Dt;var p=Dn;e:switch($t){case 1:$t=0,Dn=null,Ao(s,r,p,1);break;case 2:case 9:if(d_(p)){$t=0,Dn=null,s0(r);break}r=function(){$t!==2&&$t!==9||se!==s||($t=7),Bi(s)},p.then(r,r);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:d_(p)?($t=0,Dn=null,s0(r)):($t=0,Dn=null,Ao(s,r,p,7));break;case 5:var b=null;switch(Dt.tag){case 26:b=Dt.memoizedState;case 5:case 27:var S=Dt;if(b?F0(b):S.stateNode.complete){$t=0,Dn=null;var k=S.sibling;if(k!==null)Dt=k;else{var F=S.return;F!==null?(Dt=F,xh(F)):Dt=null}break e}}$t=0,Dn=null,Ao(s,r,p,5);break;case 6:$t=0,Dn=null,Ao(s,r,p,6);break;case 8:Gg(),pe=6;break t;default:throw Error(i(462))}}ax();break}catch(W){Zv(s,W)}while(!0);return ss=ia=null,Y.H=u,Y.A=g,Kt=l,Dt!==null?0:(se=null,Nt=0,Gu(),pe)}function ax(){for(;Dt!==null&&!Td();)i0(Dt)}function i0(s){var r=Rv(s.alternate,s,gs);s.memoizedProps=s.pendingProps,r===null?xh(s):Dt=r}function s0(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=Ev(l,r,r.pendingProps,r.type,void 0,Nt);break;case 11:r=Ev(l,r,r.pendingProps,r.type.render,r.ref,Nt);break;case 5:og(r);default:Iv(l,r),r=Dt=n_(r,gs),r=Rv(l,r,gs)}s.memoizedProps=s.pendingProps,r===null?xh(s):Dt=r}function Ao(s,r,l,u){ss=ia=null,og(r),fo=null,zl=0;var g=r.return;try{if(Qw(s,g,r,l,Nt)){pe=1,dh(s,Bn(l,s.current)),Dt=null;return}}catch(p){if(g!==null)throw Dt=g,p;pe=1,dh(s,Bn(l,s.current)),Dt=null;return}r.flags&32768?(Ut||u===1?s=!0:bo||(Nt&536870912)!==0?s=!1:(Xs=s=!0,(u===2||u===9||u===3||u===6)&&(u=Cn.current,u!==null&&u.tag===13&&(u.flags|=16384))),r0(r,s)):xh(r)}function xh(s){var r=s;do{if((r.flags&32768)!==0){r0(r,Xs);return}s=r.return;var l=$w(r.alternate,r,gs);if(l!==null){Dt=l;return}if(r=r.sibling,r!==null){Dt=r;return}Dt=r=s}while(r!==null);pe===0&&(pe=5)}function r0(s,r){do{var l=Jw(s.alternate,s);if(l!==null){l.flags&=32767,Dt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){Dt=s;return}Dt=s=l}while(s!==null);pe=6,Dt=null}function a0(s,r,l,u,g,p,b,S,k){s.cancelPendingCommit=null;do Rh();while(ze!==0);if((Kt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=kd,wd(s,l,p,b,S,k),s===se&&(Dt=se=null,Nt=0),To=r,Zs=s,ms=l,Hg=p,Fg=g,Wv=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ux(Ds,function(){return h0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,g=at.p,at.p=2,b=Kt,Kt|=4;try{Zw(s,r,l)}finally{Kt=b,at.p=g,Y.T=u}}ze=1,o0(),l0(),c0()}}function o0(){if(ze===1){ze=0;var s=Zs,r=To,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var u=at.p;at.p=2;var g=Kt;Kt|=4;try{jv(r,s);var p=sm,b=Ky(s.containerInfo),S=p.focusedElem,k=p.selectionRange;if(b!==S&&S&&S.ownerDocument&&Yy(S.ownerDocument.documentElement,S)){if(k!==null&&Id(S)){var F=k.start,W=k.end;if(W===void 0&&(W=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(W,S.value.length);else{var J=S.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var K=q.getSelection(),ft=S.textContent.length,_t=Math.min(k.start,ft),ie=k.end===void 0?_t:Math.min(k.end,ft);!K.extend&&_t>ie&&(b=ie,ie=_t,_t=b);var U=Gy(S,_t),z=Gy(S,ie);if(U&&z&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==z.node||K.focusOffset!==z.offset)){var H=J.createRange();H.setStart(U.node,U.offset),K.removeAllRanges(),_t>ie?(K.addRange(H),K.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),K.addRange(H))}}}}for(J=[],K=S;K=K.parentNode;)K.nodeType===1&&J.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var $=J[S];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Uh=!!im,sm=im=null}finally{Kt=g,at.p=u,Y.T=l}}s.current=r,ze=2}}function l0(){if(ze===2){ze=0;var s=Zs,r=To,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var u=at.p;at.p=2;var g=Kt;Kt|=4;try{Pv(s,r.alternate,r)}finally{Kt=g,at.p=u,Y.T=l}}ze=3}}function c0(){if(ze===4||ze===3){ze=0,yu();var s=Zs,r=To,l=ms,u=Wv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ze=5:(ze=0,To=Zs=null,u0(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Js=null),Ji(l),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ti,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Y.T,g=at.p,at.p=2,Y.T=null;try{for(var p=s.onRecoverableError,b=0;b<u.length;b++){var S=u[b];p(S.value,{componentStack:S.stack})}}finally{Y.T=r,at.p=g}}(ms&3)!==0&&Rh(),Bi(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===qg?ec++:(ec=0,qg=s):ec=0,nc(0)}}function u0(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Pl(r)))}function Rh(){return o0(),l0(),c0(),h0()}function h0(){if(ze!==5)return!1;var s=Zs,r=Hg;Hg=0;var l=Ji(ms),u=Y.T,g=at.p;try{at.p=32>l?32:l,Y.T=null,l=Fg,Fg=null;var p=Zs,b=ms;if(ze=0,To=Zs=null,ms=0,(Kt&6)!==0)throw Error(i(331));var S=Kt;if(Kt|=4,Yv(p.current),Fv(p,p.current,b,l),Kt=S,nc(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ti,p)}catch{}return!0}finally{at.p=g,Y.T=u,u0(s,r)}}function f0(s,r,l){r=Bn(l,r),r=Tg(s.stateNode,r,2),s=Ys(s,r,2),s!==null&&(Br(s,2),Bi(s))}function Jt(s,r,l){if(s.tag===3)f0(s,s,l);else for(;r!==null;){if(r.tag===3){f0(r,s,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Js===null||!Js.has(u))){s=Bn(l,s),l=dv(2),u=Ys(r,l,2),u!==null&&(gv(l,u,r,s),Br(u,2),Bi(u));break}}r=r.return}}function Kg(s,r,l){var u=s.pingCache;if(u===null){u=s.pingCache=new nx;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(l)||(Ug=!0,g.add(l),s=ox.bind(null,s,r,l),r.then(s,s))}function ox(s,r,l){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,se===s&&(Nt&l)===l&&(pe===4||pe===3&&(Nt&62914560)===Nt&&300>un()-Eh?(Kt&2)===0&&So(s,0):Bg|=l,Eo===Nt&&(Eo=0)),Bi(s)}function d0(s,r){r===0&&(r=Su()),s=ta(s,r),s!==null&&(Br(s,r),Bi(s))}function lx(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),d0(s,l)}function cx(s,r){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),d0(s,l)}function ux(s,r){return Le(s,r)}var Ch=null,wo=null,Qg=!1,Ih=!1,Wg=!1,er=0;function Bi(s){s!==wo&&s.next===null&&(wo===null?Ch=wo=s:wo=wo.next=s),Ih=!0,Qg||(Qg=!0,fx())}function nc(s,r){if(!Wg&&Ih){Wg=!0;do for(var l=!1,u=Ch;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var b=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-ye(42|s)+1)-1,p&=g&~(b&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,y0(u,p))}else p=Nt,p=Ti(u,u===se?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ei(u,p)||(l=!0,y0(u,p));u=u.next}while(l);Wg=!1}}function hx(){g0()}function g0(){Ih=Qg=!1;var s=0;er!==0&&Tx()&&(s=er);for(var r=un(),l=null,u=Ch;u!==null;){var g=u.next,p=m0(u,r);p===0?(u.next=null,l===null?Ch=g:l.next=g,g===null&&(wo=l)):(l=u,(s!==0||(p&3)!==0)&&(Ih=!0)),u=g}ze!==0&&ze!==5||nc(s),er!==0&&(er=0)}function m0(s,r){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-ye(p),S=1<<b,k=g[b];k===-1?((S&l)===0||(S&u)!==0)&&(g[b]=Ad(S,r)):k<=r&&(s.expiredLanes|=S),p&=~S}if(r=se,l=Nt,l=Ti(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===r&&($t===2||$t===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Is(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ei(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(u!==null&&Is(u),Ji(l)){case 2:case 8:l=fl;break;case 32:l=Ds;break;case 268435456:l=_u;break;default:l=Ds}return u=p0.bind(null,s),l=Le(l,u),s.callbackPriority=r,s.callbackNode=l,r}return u!==null&&u!==null&&Is(u),s.callbackPriority=2,s.callbackNode=null,2}function p0(s,r){if(ze!==0&&ze!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Rh()&&s.callbackNode!==l)return null;var u=Nt;return u=Ti(s,s===se?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:($v(s,u,r),m0(s,un()),s.callbackNode!=null&&s.callbackNode===l?p0.bind(null,s):null)}function y0(s,r){if(Rh())return null;$v(s,r,!0)}function fx(){Ax(function(){(Kt&6)!==0?Le(hl,hx):g0()})}function Xg(){if(er===0){var s=co;s===0&&(s=bi,bi<<=1,(bi&261888)===0&&(bi=256)),er=s}return er}function _0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Qa(""+s)}function v0(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function dx(s,r,l,u,g){if(r==="submit"&&l&&l.stateNode===g){var p=_0((g[je]||null).action),b=u.submitter;b&&(r=(r=b[je]||null)?_0(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var S=new Ni("action","action",null,u,g);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(er!==0){var k=b?v0(g,b):new FormData(g);pg(l,{pending:!0,data:k,method:g.method,action:p},null,k)}}else typeof p=="function"&&(S.preventDefault(),k=b?v0(g,b):new FormData(g),pg(l,{pending:!0,data:k,method:g.method,action:p},p,k))},currentTarget:g}]})}}for(var $g=0;$g<Nd.length;$g++){var Jg=Nd[$g],gx=Jg.toLowerCase(),mx=Jg[0].toUpperCase()+Jg.slice(1);ci(gx,"on"+mx)}ci(Xy,"onAnimationEnd"),ci($y,"onAnimationIteration"),ci(Jy,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(Ow,"onTransitionRun"),ci(Mw,"onTransitionStart"),ci(Nw,"onTransitionCancel"),ci(Zy,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),px=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ic));function b0(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var b=u.length-1;0<=b;b--){var S=u[b],k=S.instance,F=S.currentTarget;if(S=S.listener,k!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=F;try{p(g)}catch(W){qu(W)}g.currentTarget=null,p=k}else for(b=0;b<u.length;b++){if(S=u[b],k=S.instance,F=S.currentTarget,S=S.listener,k!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=F;try{p(g)}catch(W){qu(W)}g.currentTarget=null,p=k}}}}function Ot(s,r){var l=r[Fa];l===void 0&&(l=r[Fa]=new Set);var u=s+"__bubble";l.has(u)||(E0(r,s,2,!1),l.add(u))}function Zg(s,r,l){var u=0;r&&(u|=4),E0(l,s,u,r)}var Dh="_reactListening"+Math.random().toString(36).slice(2);function tm(s){if(!s[Dh]){s[Dh]=!0,ml.forEach(function(l){l!=="selectionchange"&&(px.has(l)||Zg(l,!1,s),Zg(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Dh]||(r[Dh]=!0,Zg("selectionchange",!1,r))}}function E0(s,r,l,u){switch(X0(r)){case 2:var g=qx;break;case 8:g=Gx;break;default:g=mm}l=g.bind(null,r,l,s),g=void 0,!Yr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(r,l,{capture:!0,passive:g}):s.addEventListener(r,l,!0):g!==void 0?s.addEventListener(r,l,{passive:g}):s.addEventListener(r,l,!1)}function em(s,r,l,u,g){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===g)break;if(b===4)for(b=u.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===g)return;b=b.return}for(;S!==null;){if(b=xi(S),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){u=p=b;continue t}S=S.parentNode}}u=u.return}Ps(function(){var F=p,W=Pn(l),J=[];t:{var q=t_.get(s);if(q!==void 0){var K=Ni,ft=s;switch(s){case"keypress":if(Qr(l)===0)break t;case"keydown":case"keyup":K=ju;break;case"focusin":ft="focus",K=Xr;break;case"focusout":ft="blur",K=Xr;break;case"beforeblur":case"afterblur":K=Xr;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=_;break;case Xy:case $y:case Jy:K=ku;break;case Zy:K=w;break;case"scroll":case"scrollend":K=Rl;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=Vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=es;break;case"toggle":case"beforetoggle":K=wt}var _t=(r&4)!==0,ie=!_t&&(s==="scroll"||s==="scrollend"),U=_t?q!==null?q+"Capture":null:q;_t=[];for(var z=F,H;z!==null;){var $=z;if(H=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||H===null||U===null||($=ri(z,U),$!=null&&_t.push(sc(z,$,H))),ie)break;z=z.return}0<_t.length&&(q=new K(q,ft,null,l,W),J.push({event:q,listeners:_t}))}}if((r&7)===0){t:{if(q=s==="mouseover"||s==="pointerover",K=s==="mouseout"||s==="pointerout",q&&l!==Al&&(ft=l.relatedTarget||l.fromElement)&&(xi(ft)||ft[Ai]))break t;if((K||q)&&(q=W.window===W?W:(q=W.ownerDocument)?q.defaultView||q.parentWindow:window,K?(ft=l.relatedTarget||l.toElement,K=F,ft=ft?xi(ft):null,ft!==null&&(ie=o(ft),_t=ft.tag,ft!==ie||_t!==5&&_t!==27&&_t!==6)&&(ft=null)):(K=null,ft=F),K!==ft)){if(_t=Cl,$="onMouseLeave",U="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(_t=es,$="onPointerLeave",U="onPointerEnter",z="pointer"),ie=K==null?q:An(K),H=ft==null?q:An(ft),q=new _t($,z+"leave",K,l,W),q.target=ie,q.relatedTarget=H,$=null,xi(W)===F&&(_t=new _t(U,z+"enter",ft,l,W),_t.target=H,_t.relatedTarget=ie,$=_t),ie=$,K&&ft)e:{for(_t=yx,U=K,z=ft,H=0,$=U;$;$=_t($))H++;$=0;for(var mt=z;mt;mt=_t(mt))$++;for(;0<H-$;)U=_t(U),H--;for(;0<$-H;)z=_t(z),$--;for(;H--;){if(U===z||z!==null&&U===z.alternate){_t=U;break e}U=_t(U),z=_t(z)}_t=null}else _t=null;K!==null&&T0(J,q,K,_t,!1),ft!==null&&ie!==null&&T0(J,ie,ft,_t,!0)}}t:{if(q=F?An(F):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var qt=Uy;else if(Ly(q))if(By)qt=Cw;else{qt=xw;var dt=ww}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?F&&Ka(F.elementType)&&(qt=Uy):qt=Rw;if(qt&&(qt=qt(s,F))){zy(J,qt,l,W);break t}dt&&dt(s,q,F),s==="focusout"&&F&&q.type==="number"&&F.memoizedProps.value!=null&&El(q,"number",q.value)}switch(dt=F?An(F):window,s){case"focusin":(Ly(dt)||dt.contentEditable==="true")&&(eo=dt,Dd=F,Nl=null);break;case"focusout":Nl=Dd=eo=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,Qy(J,l,W);break;case"selectionchange":if(Dw)break;case"keydown":case"keyup":Qy(J,l,W)}var Ct;if(Yt)t:{switch(s){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else to?$r(s,l)&&(kt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(kt="onCompositionStart");kt&&(Pi&&l.locale!=="ko"&&(to||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&to&&(Ct=xl()):(Mi=W,wl="value"in Mi?Mi.value:Mi.textContent,to=!0)),dt=Oh(F,kt),0<dt.length&&(kt=new Vi(kt,s,null,l,W),J.push({event:kt,listeners:dt}),Ct?kt.data=Ct:(Ct=Za(l),Ct!==null&&(kt.data=Ct)))),(Ct=zn?Ew(s,l):Tw(s,l))&&(kt=Oh(F,"onBeforeInput"),0<kt.length&&(dt=new Vi("onBeforeInput","beforeinput",null,l,W),J.push({event:dt,listeners:kt}),dt.data=Ct)),dx(J,s,F,l,W)}b0(J,r)})}function sc(s,r,l){return{instance:s,listener:r,currentTarget:l}}function Oh(s,r){for(var l=r+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=ri(s,l),g!=null&&u.unshift(sc(s,g,p)),g=ri(s,r),g!=null&&u.push(sc(s,g,p))),s.tag===3)return u;s=s.return}return[]}function yx(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function T0(s,r,l,u,g){for(var p=r._reactName,b=[];l!==null&&l!==u;){var S=l,k=S.alternate,F=S.stateNode;if(S=S.tag,k!==null&&k===u)break;S!==5&&S!==26&&S!==27||F===null||(k=F,g?(F=ri(l,p),F!=null&&b.unshift(sc(l,F,k))):g||(F=ri(l,p),F!=null&&b.push(sc(l,F,k)))),l=l.return}b.length!==0&&s.push({event:r,listeners:b})}var _x=/\r\n?/g,vx=/\u0000|\uFFFD/g;function S0(s){return(typeof s=="string"?s:""+s).replace(_x,`
`).replace(vx,"")}function A0(s,r){return r=S0(r),S0(s)===r}function ne(s,r,l,u,g,p){switch(l){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||gn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&gn(s,""+u);break;case"className":wn(s,"class",u);break;case"tabIndex":wn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(s,l,u);break;case"style":Sl(s,u,p);break;case"data":if(r!=="object"){wn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Qa(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(r!=="input"&&ne(s,r,"name",g.name,g,null),ne(s,r,"formEncType",g.formEncType,g,null),ne(s,r,"formMethod",g.formMethod,g,null),ne(s,r,"formTarget",g.formTarget,g,null)):(ne(s,r,"encType",g.encType,g,null),ne(s,r,"method",g.method,g,null),ne(s,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Qa(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=si);break;case"onScroll":u!=null&&Ot("scroll",s);break;case"onScrollEnd":u!=null&&Ot("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Qa(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Ot("beforetoggle",s),Ot("toggle",s),Ga(s,"popover",u);break;case"xlinkActuate":Re(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Re(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Re(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Re(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Re(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Re(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Re(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Re(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Re(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ga(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ou.get(l)||l,Ga(s,l,u))}}function nm(s,r,l,u,g,p){switch(l){case"style":Sl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?gn(s,u):(typeof u=="number"||typeof u=="bigint")&&gn(s,""+u);break;case"onScroll":u!=null&&Ot("scroll",s);break;case"onScrollEnd":u!=null&&Ot("scrollend",s);break;case"onClick":u!=null&&(s.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),p=s[je]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(r,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Ga(s,l,u)}}}function Je(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",s),Ot("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var b=l[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ne(s,r,p,b,l,null)}}g&&ne(s,r,"srcSet",l.srcSet,l,null),u&&ne(s,r,"src",l.src,l,null);return;case"input":Ot("invalid",s);var S=p=b=g=null,k=null,F=null;for(u in l)if(l.hasOwnProperty(u)){var W=l[u];if(W!=null)switch(u){case"name":g=W;break;case"type":b=W;break;case"checked":k=W;break;case"defaultChecked":F=W;break;case"value":p=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:ne(s,r,u,W,l,null)}}Cu(s,p,S,k,F,b,g,!1);return;case"select":Ot("invalid",s),u=b=p=null;for(g in l)if(l.hasOwnProperty(g)&&(S=l[g],S!=null))switch(g){case"value":p=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:ne(s,r,g,S,l,null)}r=p,l=b,s.multiple=!!u,r!=null?Ms(s,!!u,r,!1):l!=null&&Ms(s,!!u,l,!0);return;case"textarea":Ot("invalid",s),p=g=u=null;for(b in l)if(l.hasOwnProperty(b)&&(S=l[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":g=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ne(s,r,b,S,l,null)}Ns(s,u,g,p);return;case"option":for(k in l)l.hasOwnProperty(k)&&(u=l[k],u!=null)&&(k==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ne(s,r,k,u,l,null));return;case"dialog":Ot("beforetoggle",s),Ot("toggle",s),Ot("cancel",s),Ot("close",s);break;case"iframe":case"object":Ot("load",s);break;case"video":case"audio":for(u=0;u<ic.length;u++)Ot(ic[u],s);break;case"image":Ot("error",s),Ot("load",s);break;case"details":Ot("toggle",s);break;case"embed":case"source":case"link":Ot("error",s),Ot("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(u=l[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ne(s,r,F,u,l,null)}return;default:if(Ka(r)){for(W in l)l.hasOwnProperty(W)&&(u=l[W],u!==void 0&&nm(s,r,W,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&ne(s,r,S,u,l,null))}function bx(s,r,l,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,b=null,S=null,k=null,F=null,W=null;for(K in l){var J=l[K];if(l.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=J;default:u.hasOwnProperty(K)||ne(s,r,K,null,u,J)}}for(var q in u){var K=u[q];if(J=l[q],u.hasOwnProperty(q)&&(K!=null||J!=null))switch(q){case"type":p=K;break;case"name":g=K;break;case"checked":F=K;break;case"defaultChecked":W=K;break;case"value":b=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:K!==J&&ne(s,r,q,K,u,J)}}Ya(s,b,S,k,F,W,p,g);return;case"select":K=b=S=q=null;for(p in l)if(k=l[p],l.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":K=k;default:u.hasOwnProperty(p)||ne(s,r,p,null,u,k)}for(g in u)if(p=u[g],k=l[g],u.hasOwnProperty(g)&&(p!=null||k!=null))switch(g){case"value":q=p;break;case"defaultValue":S=p;break;case"multiple":b=p;default:p!==k&&ne(s,r,g,p,u,k)}r=S,l=b,u=K,q!=null?Ms(s,!!l,q,!1):!!u!=!!l&&(r!=null?Ms(s,!!l,r,!0):Ms(s,!!l,l?[]:"",!1));return;case"textarea":K=q=null;for(S in l)if(g=l[S],l.hasOwnProperty(S)&&g!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ne(s,r,S,null,u,g)}for(b in u)if(g=u[b],p=l[b],u.hasOwnProperty(b)&&(g!=null||p!=null))switch(b){case"value":q=g;break;case"defaultValue":K=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&ne(s,r,b,g,u,p)}Iu(s,q,K);return;case"option":for(var ft in l)q=l[ft],l.hasOwnProperty(ft)&&q!=null&&!u.hasOwnProperty(ft)&&(ft==="selected"?s.selected=!1:ne(s,r,ft,null,u,q));for(k in u)q=u[k],K=l[k],u.hasOwnProperty(k)&&q!==K&&(q!=null||K!=null)&&(k==="selected"?s.selected=q&&typeof q!="function"&&typeof q!="symbol":ne(s,r,k,q,u,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in l)q=l[_t],l.hasOwnProperty(_t)&&q!=null&&!u.hasOwnProperty(_t)&&ne(s,r,_t,null,u,q);for(F in u)if(q=u[F],K=l[F],u.hasOwnProperty(F)&&q!==K&&(q!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:ne(s,r,F,q,u,K)}return;default:if(Ka(r)){for(var ie in l)q=l[ie],l.hasOwnProperty(ie)&&q!==void 0&&!u.hasOwnProperty(ie)&&nm(s,r,ie,void 0,u,q);for(W in u)q=u[W],K=l[W],!u.hasOwnProperty(W)||q===K||q===void 0&&K===void 0||nm(s,r,W,q,u,K);return}}for(var U in l)q=l[U],l.hasOwnProperty(U)&&q!=null&&!u.hasOwnProperty(U)&&ne(s,r,U,null,u,q);for(J in u)q=u[J],K=l[J],!u.hasOwnProperty(J)||q===K||q==null&&K==null||ne(s,r,J,q,u,K)}function w0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ex(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,b=g.initiatorType,S=g.duration;if(p&&S&&w0(b)){for(b=0,S=g.responseEnd,u+=1;u<l.length;u++){var k=l[u],F=k.startTime;if(F>S)break;var W=k.transferSize,J=k.initiatorType;W&&w0(J)&&(k=k.responseEnd,b+=W*(k<S?1:(S-F)/(k-F)))}if(--u,r+=8*(p+b)/(g.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var im=null,sm=null;function Mh(s){return s.nodeType===9?s:s.ownerDocument}function x0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R0(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function rm(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var am=null;function Tx(){var s=window.event;return s&&s.type==="popstate"?s===am?!1:(am=s,!0):(am=null,!1)}var C0=typeof setTimeout=="function"?setTimeout:void 0,Sx=typeof clearTimeout=="function"?clearTimeout:void 0,I0=typeof Promise=="function"?Promise:void 0,Ax=typeof queueMicrotask=="function"?queueMicrotask:typeof I0<"u"?function(s){return I0.resolve(null).then(s).catch(wx)}:C0;function wx(s){setTimeout(function(){throw s})}function nr(s){return s==="head"}function D0(s,r){var l=r,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),Io(r);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")rc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,rc(l);for(var p=l.firstChild;p;){var b=p.nextSibling,S=p.nodeName;p[wi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=b}}else l==="body"&&rc(s.ownerDocument.body);l=g}while(l);Io(r)}function O0(s,r){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function om(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":om(l),qa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function xx(s,r,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[wi])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Gn(s.nextSibling),s===null)break}return null}function Rx(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Gn(s.nextSibling),s===null))return null;return s}function M0(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Gn(s.nextSibling),s===null))return null;return s}function lm(s){return s.data==="$?"||s.data==="$~"}function cm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function Cx(s,r){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||l.readyState!=="loading")r();else{var u=function(){r(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Gn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var um=null;function N0(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(r===0)return Gn(s.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}s=s.nextSibling}return null}function k0(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return s;r--}else l!=="/$"&&l!=="/&"||r++}s=s.previousSibling}return null}function V0(s,r,l){switch(r=Mh(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function rc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);qa(s)}var Yn=new Map,P0=new Set;function Nh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ps=at.d;at.d={f:Ix,r:Dx,D:Ox,C:Mx,L:Nx,m:kx,X:Px,S:Vx,M:Lx};function Ix(){var s=ps.f(),r=Ah();return s||r}function Dx(s){var r=Vn(s);r!==null&&r.tag===5&&r.type==="form"?Z_(r):ps.r(s)}var xo=typeof document>"u"?null:document;function L0(s,r,l){var u=xo;if(u&&typeof r=="string"&&r){var g=dn(r);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),P0.has(g)||(P0.add(g),s={rel:s,crossOrigin:l,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),Je(r,"link",s),xe(r),u.head.appendChild(r)))}}function Ox(s){ps.D(s),L0("dns-prefetch",s,null)}function Mx(s,r){ps.C(s,r),L0("preconnect",s,r)}function Nx(s,r,l){ps.L(s,r,l);var u=xo;if(u&&s&&r){var g='link[rel="preload"][as="'+dn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+dn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+dn(l.imageSizes)+'"]')):g+='[href="'+dn(s)+'"]';var p=g;switch(r){case"style":p=Ro(s);break;case"script":p=Co(s)}Yn.has(p)||(s=v({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),Yn.set(p,s),u.querySelector(g)!==null||r==="style"&&u.querySelector(ac(p))||r==="script"&&u.querySelector(oc(p))||(r=u.createElement("link"),Je(r,"link",s),xe(r),u.head.appendChild(r)))}}function kx(s,r){ps.m(s,r);var l=xo;if(l&&s){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+dn(u)+'"][href="'+dn(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Co(s)}if(!Yn.has(p)&&(s=v({rel:"modulepreload",href:s},r),Yn.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(oc(p)))return}u=l.createElement("link"),Je(u,"link",s),xe(u),l.head.appendChild(u)}}}function Vx(s,r,l){ps.S(s,r,l);var u=xo;if(u&&s){var g=Ri(u).hoistableStyles,p=Ro(s);r=r||"default";var b=g.get(p);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(ac(p)))S.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},l),(l=Yn.get(p))&&hm(s,l);var k=b=u.createElement("link");xe(k),Je(k,"link",s),k._p=new Promise(function(F,W){k.onload=F,k.onerror=W}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,kh(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:S},g.set(p,b)}}}function Px(s,r){ps.X(s,r);var l=xo;if(l&&s){var u=Ri(l).hoistableScripts,g=Co(s),p=u.get(g);p||(p=l.querySelector(oc(g)),p||(s=v({src:s,async:!0},r),(r=Yn.get(g))&&fm(s,r),p=l.createElement("script"),xe(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function Lx(s,r){ps.M(s,r);var l=xo;if(l&&s){var u=Ri(l).hoistableScripts,g=Co(s),p=u.get(g);p||(p=l.querySelector(oc(g)),p||(s=v({src:s,async:!0,type:"module"},r),(r=Yn.get(g))&&fm(s,r),p=l.createElement("script"),xe(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function z0(s,r,l,u){var g=(g=vt.current)?Nh(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Ro(l.href),l=Ri(g).hoistableStyles,u=l.get(r),u||(u={type:"style",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Ro(l.href);var p=Ri(g).hoistableStyles,b=p.get(s);if(b||(g=g.ownerDocument||g,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=g.querySelector(ac(s)))&&!p._p&&(b.instance=p,b.state.loading=5),Yn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Yn.set(s,l),p||zx(g,s,l,b.state))),r&&u===null)throw Error(i(528,""));return b}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Co(l),l=Ri(g).hoistableScripts,u=l.get(r),u||(u={type:"script",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ro(s){return'href="'+dn(s)+'"'}function ac(s){return'link[rel="stylesheet"]['+s+"]"}function U0(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function zx(s,r,l,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Je(r,"link",l),xe(r),s.head.appendChild(r))}function Co(s){return'[src="'+dn(s)+'"]'}function oc(s){return"script[async]"+s}function B0(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+dn(l.href)+'"]');if(u)return r.instance=u,xe(u),u;var g=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),xe(u),Je(u,"style",g),kh(u,l.precedence,s),r.instance=u;case"stylesheet":g=Ro(l.href);var p=s.querySelector(ac(g));if(p)return r.state.loading|=4,r.instance=p,xe(p),p;u=U0(l),(g=Yn.get(g))&&hm(u,g),p=(s.ownerDocument||s).createElement("link"),xe(p);var b=p;return b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),Je(p,"link",u),r.state.loading|=4,kh(p,l.precedence,s),r.instance=p;case"script":return p=Co(l.src),(g=s.querySelector(oc(p)))?(r.instance=g,xe(g),g):(u=l,(g=Yn.get(p))&&(u=v({},l),fm(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),xe(g),Je(g,"link",u),s.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,kh(u,l.precedence,s));return r.instance}function kh(s,r,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===r)p=S;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function hm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function fm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Vh=null;function j0(s,r,l){if(Vh===null){var u=new Map,g=Vh=new Map;g.set(l,u)}else g=Vh,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[wi]||p[we]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=s+b;var S=u.get(b);S?S.push(p):u.set(b,[p])}}return u}function H0(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function Ux(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function F0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function Bx(s,r,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Ro(u.href),p=r.querySelector(ac(g));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=Ph.bind(s),r.then(s,s)),l.state.loading|=4,l.instance=p,xe(p);return}p=r.ownerDocument||r,u=U0(u),(g=Yn.get(g))&&hm(u,g),p=p.createElement("link"),xe(p);var b=p;b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),Je(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Ph.bind(s),r.addEventListener("load",l),r.addEventListener("error",l))}}var dm=0;function jx(s,r){return s.stylesheets&&s.count===0&&zh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&zh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+r);0<s.imgBytes&&dm===0&&(dm=62500*Ex());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&zh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>dm?50:800)+r);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Ph(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Lh=null;function zh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Lh=new Map,r.forEach(Hx,s),Lh=null,Ph.call(s))}function Hx(s,r){if(!(r.state.loading&4)){var l=Lh.get(s);if(l)var u=l.get(null);else{l=new Map,Lh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var b=g[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}g=r.instance,b=g.getAttribute("data-precedence"),p=l.get(b)||u,p===u&&l.set(null,g),l.set(b,g),this.count++,u=Ph.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),r.state.loading|=4}}var lc={$$typeof:nt,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function Fx(s,r,l,u,g,p,b,S,k){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function q0(s,r,l,u,g,p,b,S,k,F,W,J){return s=new Fx(s,r,l,b,k,F,W,J,S),r=1,p===!0&&(r|=24),p=Rn(3,null,null,r),s.current=p,p.stateNode=s,r=Yd(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:r},Xd(p),s}function G0(s){return s?(s=so,s):so}function Y0(s,r,l,u,g,p){g=G0(g),u.context===null?u.context=g:u.pendingContext=g,u=Gs(r),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=Ys(s,u,r),l!==null&&(vn(l,s,r),Bl(l,s,r))}function K0(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function gm(s,r){K0(s,r),(s=s.alternate)&&K0(s,r)}function Q0(s){if(s.tag===13||s.tag===31){var r=ta(s,67108864);r!==null&&vn(r,s,67108864),gm(s,67108864)}}function W0(s){if(s.tag===13||s.tag===31){var r=Mn();r=Hr(r);var l=ta(s,r);l!==null&&vn(l,s,r),gm(s,r)}}var Uh=!0;function qx(s,r,l,u){var g=Y.T;Y.T=null;var p=at.p;try{at.p=2,mm(s,r,l,u)}finally{at.p=p,Y.T=g}}function Gx(s,r,l,u){var g=Y.T;Y.T=null;var p=at.p;try{at.p=8,mm(s,r,l,u)}finally{at.p=p,Y.T=g}}function mm(s,r,l,u){if(Uh){var g=pm(u);if(g===null)em(s,r,u,Bh,l),$0(s,u);else if(Kx(g,s,r,l,u))u.stopPropagation();else if($0(s,u),r&4&&-1<Yx.indexOf(s)){for(;g!==null;){var p=Vn(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Ei(p.pendingLanes);if(b!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var k=1<<31-ye(b);S.entanglements[1]|=k,b&=~k}Bi(p),(Kt&6)===0&&(Th=un()+500,nc(0))}}break;case 31:case 13:S=ta(p,2),S!==null&&vn(S,p,2),Ah(),gm(p,2)}if(p=pm(u),p===null&&em(s,r,u,Bh,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else em(s,r,u,null,l)}}function pm(s){return s=Pn(s),ym(s)}var Bh=null;function ym(s){if(Bh=null,s=xi(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=c(r),s!==null)return s;s=null}else if(l===31){if(s=h(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Bh=s,null}function X0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zr()){case hl:return 2;case fl:return 8;case Ds:case Sd:return 32;case _u:return 268435456;default:return 32}default:return 32}}var _m=!1,ir=null,sr=null,rr=null,cc=new Map,uc=new Map,ar=[],Yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $0(s,r){switch(s){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":cc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(r.pointerId)}}function hc(s,r,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},r!==null&&(r=Vn(r),r!==null&&Q0(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),s)}function Kx(s,r,l,u,g){switch(r){case"focusin":return ir=hc(ir,s,r,l,u,g),!0;case"dragenter":return sr=hc(sr,s,r,l,u,g),!0;case"mouseover":return rr=hc(rr,s,r,l,u,g),!0;case"pointerover":var p=g.pointerId;return cc.set(p,hc(cc.get(p)||null,s,r,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,uc.set(p,hc(uc.get(p)||null,s,r,l,u,g)),!0}return!1}function J0(s){var r=xi(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){s.blockedOn=r,ni(s.priority,function(){W0(l)});return}}else if(r===31){if(r=h(l),r!==null){s.blockedOn=r,ni(s.priority,function(){W0(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function jh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=pm(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Al=u,l.target.dispatchEvent(u),Al=null}else return r=Vn(l),r!==null&&Q0(r),s.blockedOn=l,!1;r.shift()}return!0}function Z0(s,r,l){jh(s)&&l.delete(r)}function Qx(){_m=!1,ir!==null&&jh(ir)&&(ir=null),sr!==null&&jh(sr)&&(sr=null),rr!==null&&jh(rr)&&(rr=null),cc.forEach(Z0),uc.forEach(Z0)}function Hh(s,r){s.blockedOn===r&&(s.blockedOn=null,_m||(_m=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Qx)))}var Fh=null;function tb(s){Fh!==s&&(Fh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Fh===s&&(Fh=null);for(var r=0;r<s.length;r+=3){var l=s[r],u=s[r+1],g=s[r+2];if(typeof u!="function"){if(ym(u||l)===null)continue;break}var p=Vn(l);p!==null&&(s.splice(r,3),r-=3,pg(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function Io(s){function r(k){return Hh(k,s)}ir!==null&&Hh(ir,s),sr!==null&&Hh(sr,s),rr!==null&&Hh(rr,s),cc.forEach(r),uc.forEach(r);for(var l=0;l<ar.length;l++){var u=ar[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<ar.length&&(l=ar[0],l.blockedOn===null);)J0(l),l.blockedOn===null&&ar.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],b=g[je]||null;if(typeof p=="function")b||tb(l);else if(b){var S=null;if(p&&p.hasAttribute("formAction")){if(g=p,b=p[je]||null)S=b.formAction;else if(ym(g)!==null)continue}else S=b.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),tb(l)}}}function eb(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return g=b})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function vm(s){this._internalRoot=s}qh.prototype.render=vm.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,u=Mn();Y0(l,u,s,r,null,null)},qh.prototype.unmount=vm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Y0(s.current,2,null,s,null,null),Ah(),r[Ai]=null}};function qh(s){this._internalRoot=s}qh.prototype.unstable_scheduleHydration=function(s){if(s){var r=Au();s={blockedOn:null,target:s,priority:r};for(var l=0;l<ar.length&&r!==0&&r<ar[l].priority;l++);ar.splice(l,0,s),l===0&&J0(s)}};var nb=t.version;if(nb!=="19.2.4")throw Error(i(527,nb,"19.2.4"));at.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var Wx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{ti=Gh.inject(Wx),Ke=Gh}catch{}}return dc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,u="",g=cv,p=uv,b=hv;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=q0(s,1,!1,null,null,l,u,null,g,p,b,eb),s[Ai]=r.current,tm(s),new vm(r)},dc.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var u=!1,g="",p=cv,b=uv,S=hv,k=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(k=l.formState)),r=q0(s,1,!0,r,l??null,u,g,k,p,b,S,eb),r.context=G0(null),l=r.current,u=Mn(),u=Hr(u),g=Gs(u),g.callback=null,Ys(l,g,u),l=u,r.current.lanes=l,Br(r,l),Bi(r),s[Ai]=r.current,tm(s),new qh(r)},dc.version="19.2.4",dc}var fb;function aR(){if(fb)return Tm.exports;fb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Tm.exports=rR(),Tm.exports}var oR=aR();const lR=sS(oR),cR=()=>{};var db={};const rS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},uR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],c=n[e++],h=n[e++],d=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return t.join("")},aS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,d=a+2<n.length,m=d?n[a+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let T=(h&15)<<2|m>>6,A=m&63;d||(A=64,c||(T=64)),i.push(e[y],e[v],e[T],e[A])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(rS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):uR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const m=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||v==null)throw new hR;const T=o<<2|h>>4;if(i.push(T),m!==64){const A=h<<4&240|m>>2;if(i.push(A),v!==64){const I=m<<6&192|v;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class hR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fR=function(n){const t=rS(n);return aS.encodeByteArray(t,!0)},Af=function(n){return fR(n).replace(/\./g,"")},oS=function(n){try{return aS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function dR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const gR=()=>dR().__FIREBASE_DEFAULTS__,mR=()=>{if(typeof process>"u"||typeof db>"u")return;const n=db.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&oS(n[1]);return t&&JSON.parse(t)},Xf=()=>{try{return cR()||gR()||mR()||pR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},lS=n=>Xf()?.emulatorHosts?.[n],yR=n=>{const t=lS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},cS=()=>Xf()?.config,uS=n=>Xf()?.[`_${n}`];class _R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Zo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hS(n){return(await fetch(n,{credentials:"include"})).ok}function vR(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Af(JSON.stringify(e)),Af(JSON.stringify(c)),""].join(".")}const Dc={};function bR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Dc))Dc[t]?n.emulator.push(t):n.prod.push(t);return n}function ER(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let gb=!1;function fS(n,t){if(typeof window>"u"||typeof document>"u"||!Zo(window.location.host)||Dc[n]===t||Dc[n]||gb)return;Dc[n]=t;function e(T){return`__firebase__banner__${T}`}const i="__firebase__banner",o=bR().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{gb=!0,c()},T}function y(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=ER(i),A=e("text"),I=document.getElementById(A)||document.createElement("span"),O=e("learnmore"),N=document.getElementById(O)||document.createElement("a"),B=e("preprendIcon"),tt=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const nt=T.element;h(nt),y(N,O);const rt=m();d(tt,B),nt.append(tt,I,N,rt),document.body.appendChild(nt)}o?(I.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function SR(){const n=Xf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function xR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RR(){const n=cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function CR(){return!SR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IR(){try{return typeof indexedDB=="object"}catch{return!1}}function DR(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const OR="FirebaseError";class Cs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=OR,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],c=o?MR(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Cs(a,h,i)}}function MR(n,t){return n.replace(NR,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const NR=/\{\$([^}]+)}/g;function kR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function wa(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=n[a],c=t[a];if(mb(o)&&mb(c)){if(!wa(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function mb(n){return n!==null&&typeof n=="object"}function ru(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function bc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function Ec(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function VR(n,t){const e=new PR(n,t);return e.subscribe.bind(e)}class PR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");LR(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=xm),a.error===void 0&&(a.error=xm),a.complete===void 0&&(a.complete=xm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function xm(){}function Be(n){return n&&n._delegate?n._delegate:n}class xa{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const pa="[DEFAULT]";class zR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new _R;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(BR(t))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=pa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=pa){return this.instances.has(t)}getOptions(t=pa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:UR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=pa){return this.component?this.component.multipleInstances?t:pa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UR(n){return n===pa?void 0:n}function BR(n){return n.instantiationMode==="EAGER"}class jR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new zR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Vt||(Vt={}));const HR={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},FR=Vt.INFO,qR={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},GR=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=qR[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rp{constructor(t){this.name=t,this._logLevel=FR,this._logHandler=GR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const YR=(n,t)=>t.some(e=>n instanceof e);let pb,yb;function KR(){return pb||(pb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QR(){return yb||(yb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dS=new WeakMap,Km=new WeakMap,gS=new WeakMap,Rm=new WeakMap,Cp=new WeakMap;function WR(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(yr(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&dS.set(e,n)}).catch(()=>{}),Cp.set(t,n),t}function XR(n){if(Km.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Km.set(n,t)}let Qm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Km.get(n);if(t==="objectStoreNames")return n.objectStoreNames||gS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return yr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function $R(n){Qm=n(Qm)}function JR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Cm(this),t,...e);return gS.set(i,t.sort?t.sort():[t]),yr(i)}:QR().includes(n)?function(...t){return n.apply(Cm(this),t),yr(dS.get(this))}:function(...t){return yr(n.apply(Cm(this),t))}}function ZR(n){return typeof n=="function"?JR(n):(n instanceof IDBTransaction&&XR(n),YR(n,KR())?new Proxy(n,Qm):n)}function yr(n){if(n instanceof IDBRequest)return WR(n);if(Rm.has(n))return Rm.get(n);const t=ZR(n);return t!==n&&(Rm.set(n,t),Cp.set(t,n)),t}const Cm=n=>Cp.get(n);function tC(n,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(n,t),h=yr(c);return i&&c.addEventListener("upgradeneeded",d=>{i(yr(c.result),d.oldVersion,d.newVersion,yr(c.transaction),d)}),e&&c.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const eC=["get","getKey","getAll","getAllKeys","count"],nC=["put","add","delete","clear"],Im=new Map;function _b(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Im.get(t))return Im.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=nC.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||eC.includes(e)))return;const o=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),a&&d.done]))[0]};return Im.set(t,o),o}$R(n=>({...n,get:(t,e,i)=>_b(t,e)||n.get(t,e,i),has:(t,e)=>!!_b(t,e)||n.has(t,e)}));class iC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(sC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function sC(n){return n.getComponent()?.type==="VERSION"}const Wm="@firebase/app",vb="0.14.8";const As=new Rp("@firebase/app"),rC="@firebase/app-compat",aC="@firebase/analytics-compat",oC="@firebase/analytics",lC="@firebase/app-check-compat",cC="@firebase/app-check",uC="@firebase/auth",hC="@firebase/auth-compat",fC="@firebase/database",dC="@firebase/data-connect",gC="@firebase/database-compat",mC="@firebase/functions",pC="@firebase/functions-compat",yC="@firebase/installations",_C="@firebase/installations-compat",vC="@firebase/messaging",bC="@firebase/messaging-compat",EC="@firebase/performance",TC="@firebase/performance-compat",SC="@firebase/remote-config",AC="@firebase/remote-config-compat",wC="@firebase/storage",xC="@firebase/storage-compat",RC="@firebase/firestore",CC="@firebase/ai",IC="@firebase/firestore-compat",DC="firebase",OC="12.9.0";const Xm="[DEFAULT]",MC={[Wm]:"fire-core",[rC]:"fire-core-compat",[oC]:"fire-analytics",[aC]:"fire-analytics-compat",[cC]:"fire-app-check",[lC]:"fire-app-check-compat",[uC]:"fire-auth",[hC]:"fire-auth-compat",[fC]:"fire-rtdb",[dC]:"fire-data-connect",[gC]:"fire-rtdb-compat",[mC]:"fire-fn",[pC]:"fire-fn-compat",[yC]:"fire-iid",[_C]:"fire-iid-compat",[vC]:"fire-fcm",[bC]:"fire-fcm-compat",[EC]:"fire-perf",[TC]:"fire-perf-compat",[SC]:"fire-rc",[AC]:"fire-rc-compat",[wC]:"fire-gcs",[xC]:"fire-gcs-compat",[RC]:"fire-fst",[IC]:"fire-fst-compat",[CC]:"fire-vertex","fire-js":"fire-js",[DC]:"fire-js-all"};const wf=new Map,NC=new Map,$m=new Map;function bb(n,t){try{n.container.addComponent(t)}catch(e){As.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Fo(n){const t=n.name;if($m.has(t))return As.debug(`There were multiple attempts to register component ${t}.`),!1;$m.set(t,n);for(const e of wf.values())bb(e,n);for(const e of NC.values())bb(e,n);return!0}function Ip(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Qn(n){return n==null?!1:n.settings!==void 0}const kC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new su("app","Firebase",kC);class VC{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const tl=OC;function mS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Xm,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw _r.create("bad-app-name",{appName:String(a)});if(e||(e=cS()),!e)throw _r.create("no-options");const o=wf.get(a);if(o){if(wa(e,o.options)&&wa(i,o.config))return o;throw _r.create("duplicate-app",{appName:a})}const c=new jR(a);for(const d of $m.values())c.addComponent(d);const h=new VC(e,i,c);return wf.set(a,h),h}function pS(n=Xm){const t=wf.get(n);if(!t&&n===Xm&&cS())return mS();if(!t)throw _r.create("no-app",{appName:n});return t}function vr(n,t,e){let i=MC[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),As.warn(c.join(" "));return}Fo(new xa(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const PC="firebase-heartbeat-database",LC=1,jc="firebase-heartbeat-store";let Dm=null;function yS(){return Dm||(Dm=tC(PC,LC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(jc)}catch(e){console.warn(e)}}}}).catch(n=>{throw _r.create("idb-open",{originalErrorMessage:n.message})})),Dm}async function zC(n){try{const e=(await yS()).transaction(jc),i=await e.objectStore(jc).get(_S(n));return await e.done,i}catch(t){if(t instanceof Cs)As.warn(t.message);else{const e=_r.create("idb-get",{originalErrorMessage:t?.message});As.warn(e.message)}}}async function Eb(n,t){try{const i=(await yS()).transaction(jc,"readwrite");await i.objectStore(jc).put(t,_S(n)),await i.done}catch(e){if(e instanceof Cs)As.warn(e.message);else{const i=_r.create("idb-set",{originalErrorMessage:e?.message});As.warn(i.message)}}}function _S(n){return`${n.name}!${n.options.appId}`}const UC=1024,BC=30;class jC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new FC(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Tb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>BC){const a=qC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){As.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Tb(),{heartbeatsToSend:e,unsentEntries:i}=HC(this._heartbeatsCache.heartbeats),a=Af(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return As.warn(t),""}}}function Tb(){return new Date().toISOString().substring(0,10)}function HC(n,t=UC){const e=[];let i=n.slice();for(const a of n){const o=e.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),Sb(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),Sb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class FC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IR()?DR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await zC(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Eb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Eb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Sb(n){return Af(JSON.stringify({version:2,heartbeats:n})).length}function qC(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function GC(n){Fo(new xa("platform-logger",t=>new iC(t),"PRIVATE")),Fo(new xa("heartbeat",t=>new jC(t),"PRIVATE")),vr(Wm,vb,n),vr(Wm,vb,"esm2020"),vr("fire-js","")}GC("");function vS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YC=vS,bS=new su("auth","Firebase",vS());const xf=new Rp("@firebase/auth");function KC(n,...t){xf.logLevel<=Vt.WARN&&xf.warn(`Auth (${tl}): ${n}`,...t)}function ff(n,...t){xf.logLevel<=Vt.ERROR&&xf.error(`Auth (${tl}): ${n}`,...t)}function pi(n,...t){throw Dp(n,...t)}function Gi(n,...t){return Dp(n,...t)}function ES(n,t,e){const i={...YC(),[t]:e};return new su("auth","Firebase",i).create(t,{appName:n.name})}function Ss(n){return ES(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return bS.create(n,...t)}function bt(n,t,...e){if(!n)throw Dp(t,...e)}function Es(n){const t="INTERNAL ASSERTION FAILED: "+n;throw ff(t),new Error(t)}function ws(n,t){n||Es(t)}function Jm(){return typeof self<"u"&&self.location?.href||""}function QC(){return Ab()==="http:"||Ab()==="https:"}function Ab(){return typeof self<"u"&&self.location?.protocol||null}function WC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QC()||wR()||"connection"in navigator)?navigator.onLine:!0}function XC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class au{constructor(t,e){this.shortDelay=t,this.longDelay=e,ws(e>t,"Short delay should be less than long delay!"),this.isMobile=TR()||xR()}get(){return WC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Op(n,t){ws(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class TS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $C={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const JC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZC=new au(3e4,6e4);function Or(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Mr(n,t,e,i,a={}){return SS(n,a,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=ru({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:d,...o};return AR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Zo(n.emulatorConfig.host)&&(m.credentials="include"),TS.fetch()(await AS(n,n.config.apiHost,e,h),m)})}async function SS(n,t,e){n._canInitEmulator=!1;const i={...$C,...t};try{const a=new e2(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Yh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yh(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Yh(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw Yh(n,"user-disabled",c);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw ES(n,y,m);pi(n,y)}}catch(a){if(a instanceof Cs)throw a;pi(n,"network-request-failed",{message:String(a)})}}async function ou(n,t,e,i,a={}){const o=await Mr(n,t,e,i,a);return"mfaPendingCredential"in o&&pi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function AS(n,t,e,i){const a=`${t}${e}?${i}`,o=n,c=o.config.emulator?Op(n.config,a):`${n.config.apiScheme}://${a}`;return JC.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function t2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Gi(this.auth,"network-request-failed")),ZC.get())})}}function Yh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=Gi(n,t,i);return a.customData._tokenResponse=e,a}function wb(n){return n!==void 0&&n.enterprise!==void 0}class n2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return t2(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function i2(n,t){return Mr(n,"GET","/v2/recaptchaConfig",Or(n,t))}async function s2(n,t){return Mr(n,"POST","/v1/accounts:delete",t)}async function Rf(n,t){return Mr(n,"POST","/v1/accounts:lookup",t)}function Oc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function r2(n,t=!1){const e=Be(n),i=await e.getIdToken(t),a=Mp(i);bt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:Oc(Om(a.auth_time)),issuedAtTime:Oc(Om(a.iat)),expirationTime:Oc(Om(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Om(n){return Number(n)*1e3}function Mp(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=oS(e);return a?JSON.parse(a):(ff("Failed to decode base64 JWT payload"),null)}catch(a){return ff("Caught error parsing JWT payload as JSON",a?.toString()),null}}function xb(n){const t=Mp(n);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Hc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Cs&&a2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function a2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class o2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zm{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Cf(n){const t=n.auth,e=await n.getIdToken(),i=await Hc(n,Rf(t,{idToken:e}));bt(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?wS(a.providerUserInfo):[],c=c2(n.providerData,o),h=n.isAnonymous,d=!(n.email&&a.passwordHash)&&!c?.length,m=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Zm(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function l2(n){const t=Be(n);await Cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function c2(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function wS(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function u2(n,t){const e=await SS(n,{},async()=>{const i=ru({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await AS(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&Zo(n.emulatorConfig.host)&&(d.credentials="include"),TS.fetch()(c,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function h2(n,t){return Mr(n,"POST","/v2/accounts:revokeToken",Or(n,t))}class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):xb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const e=xb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:o}=await u2(t,e);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:o}=e,c=new Po;return i&&(bt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(bt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),o&&(bt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return Es("not implemented")}}function lr(n,t){bt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class fi{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new o2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Zm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Hc(this,this.stsTokenManager.getToken(this.auth,t));return bt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return r2(this,t)}reload(){return l2(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new fi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Cf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Ss(this.auth));const t=await this.getIdToken();return await Hc(this,s2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,d=e._redirectEventId??void 0,m=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:A,providerData:I,stsTokenManager:O}=e;bt(v&&O,t,"internal-error");const N=Po.fromJSON(this.name,O);bt(typeof v=="string",t,"internal-error"),lr(i,t.name),lr(a,t.name),bt(typeof T=="boolean",t,"internal-error"),bt(typeof A=="boolean",t,"internal-error"),lr(o,t.name),lr(c,t.name),lr(h,t.name),lr(d,t.name),lr(m,t.name),lr(y,t.name);const B=new fi({uid:v,auth:t,email:a,emailVerified:T,displayName:i,isAnonymous:A,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:N,createdAt:m,lastLoginAt:y});return I&&Array.isArray(I)&&(B.providerData=I.map(tt=>({...tt}))),d&&(B._redirectEventId=d),B}static async _fromIdTokenResponse(t,e,i=!1){const a=new Po;a.updateFromServerResponse(e);const o=new fi({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await Cf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];bt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?wS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new Po;h.updateFromIdToken(i);const d=new fi({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Zm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,m),d}}const Rb=new Map;function Ts(n){ws(n instanceof Function,"Expected a class definition");let t=Rb.get(n);return t?(ws(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Rb.set(n,t),t)}class xS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}xS.type="NONE";const Cb=xS;function df(n,t,e){return`firebase:${n}:${t}:${e}`}class Lo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=df(this.userKey,a.apiKey,o),this.fullPersistenceKey=df("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Rf(this.auth,{idToken:t}).catch(()=>{});return e?fi._fromGetAccountInfoResponse(this.auth,e,t):null}return fi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Lo(Ts(Cb),t,i);const a=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Ts(Cb);const c=df(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const y=await m._get(c);if(y){let v;if(typeof y=="string"){const T=await Rf(t,{idToken:y}).catch(()=>{});if(!T)break;v=await fi._fromGetAccountInfoResponse(t,T,y)}else v=fi._fromJSON(t,y);m!==o&&(h=v),o=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Lo(o,t,i):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Lo(o,t,i))}}function Ib(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(DS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(RS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(MS(t))return"Blackberry";if(NS(t))return"Webos";if(CS(t))return"Safari";if((t.includes("chrome/")||IS(t))&&!t.includes("edge/"))return"Chrome";if(OS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function RS(n=cn()){return/firefox\//i.test(n)}function CS(n=cn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function IS(n=cn()){return/crios\//i.test(n)}function DS(n=cn()){return/iemobile/i.test(n)}function OS(n=cn()){return/android/i.test(n)}function MS(n=cn()){return/blackberry/i.test(n)}function NS(n=cn()){return/webos/i.test(n)}function Np(n=cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function f2(n=cn()){return Np(n)&&!!window.navigator?.standalone}function d2(){return RR()&&document.documentMode===10}function kS(n=cn()){return Np(n)||OS(n)||NS(n)||MS(n)||/windows phone/i.test(n)||DS(n)}function VS(n,t=[]){let e;switch(n){case"Browser":e=Ib(cn());break;case"Worker":e=`${Ib(cn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${tl}/${i}`}class g2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const d=t(o);c(d)}catch(d){h(d)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function m2(n,t={}){return Mr(n,"GET","/v2/passwordPolicy",Or(n,t))}const p2=6;class y2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??p2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class _2{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Db(this),this.idTokenSubscription=new Db(this),this.beforeStateQueue=new g2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ts(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Lo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Rf(this,{idToken:t}),i=await fi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Qn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Cf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=XC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qn(this.app))return Promise.reject(Ss(this));const e=t?Be(t):null;return e&&bt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qn(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await m2(this),e=new y2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new su("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await h2(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ts(t)||this._popupRedirectResolver;bt(e,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[Ts(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,a);return()=>{c=!0,d()}}else{const d=t.addObserver(e);return()=>{c=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=VS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&KC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ka(n){return Be(n)}class Db{constructor(t){this.auth=t,this.observer=null,this.addObserver=VR(e=>this.observer=e)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v2(n){$f=n}function PS(n){return $f.loadJS(n)}function b2(){return $f.recaptchaEnterpriseScript}function E2(){return $f.gapiScript}function T2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class S2{constructor(){this.enterprise=new A2}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class A2{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const w2="recaptcha-enterprise",LS="NO_RECAPTCHA";class x2{constructor(t){this.type=w2,this.auth=ka(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{i2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new n2(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(d=>{h(d)})})}function a(o,c,h){const d=window.grecaptcha;wb(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(m=>{c(m)}).catch(()=>{c(LS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S2().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&wb(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=b2();d.length!==0&&(d+=h),PS(d).then(()=>{a(h,o,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function Ob(n,t,e,i=!1,a=!1){const o=new x2(n);let c;if(a)c=LS;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function tp(n,t,e,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ob(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Ob(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}function R2(n,t){const e=Ip(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(wa(o,t??{}))return a;pi(a,"already-initialized")}return e.initialize({options:t})}function C2(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ts);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function I2(n,t,e){const i=ka(n);bt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,o=zS(t),{host:c,port:h}=D2(t),d=h===null?"":`:${h}`,m={url:`${o}//${c}${d}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){bt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),bt(wa(m,i.config.emulator)&&wa(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Zo(c)?(hS(`${o}//${c}${d}`),fS("Auth",!0)):O2()}function zS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function D2(n){const t=zS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:Mb(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:Mb(c)}}}function Mb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function O2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class kp{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Es("not implemented")}_getIdTokenResponse(t){return Es("not implemented")}_linkToIdToken(t,e){return Es("not implemented")}_getReauthenticationResolver(t){return Es("not implemented")}}async function M2(n,t){return Mr(n,"POST","/v1/accounts:signUp",t)}async function N2(n,t){return ou(n,"POST","/v1/accounts:signInWithPassword",Or(n,t))}async function k2(n,t){return ou(n,"POST","/v1/accounts:signInWithEmailLink",Or(n,t))}async function V2(n,t){return ou(n,"POST","/v1/accounts:signInWithEmailLink",Or(n,t))}class Fc extends kp{constructor(t,e,i,a=null){super("password",i),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new Fc(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Fc(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(t,e,"signInWithPassword",N2);case"emailLink":return k2(t,{email:this._email,oobCode:this._password});default:pi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(t,i,"signUpPassword",M2);case"emailLink":return V2(t,{idToken:e,email:this._email,oobCode:this._password});default:pi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function zo(n,t){return ou(n,"POST","/v1/accounts:signInWithIdp",Or(n,t))}const P2="http://localhost";class Ra extends kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):pi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...o}=e;if(!i||!a)return null;const c=new Ra(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return zo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,zo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,zo(t,e)}buildRequest(){const t={requestUri:P2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ru(e)}return t}}function L2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z2(n){const t=bc(Ec(n)).link,e=t?bc(Ec(t)).deep_link_id:null,i=bc(Ec(n)).deep_link_id;return(i?bc(Ec(i)).link:null)||i||e||t||n}class Vp{constructor(t){const e=bc(Ec(t)),i=e.apiKey??null,a=e.oobCode??null,o=L2(e.mode??null);bt(i&&a&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=z2(t);try{return new Vp(e)}catch{return null}}}class el{constructor(){this.providerId=el.PROVIDER_ID}static credential(t,e){return Fc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Vp.parseLink(e);return bt(i,"argument-error"),Fc._fromEmailAndCode(t,i.code,i.tenantId)}}el.PROVIDER_ID="password";el.EMAIL_PASSWORD_SIGN_IN_METHOD="password";el.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class US{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class lu extends US{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ur extends lu{constructor(){super("facebook.com")}static credential(t){return Ra._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ur.credential(t.oauthAccessToken)}catch{return null}}}ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";ur.PROVIDER_ID="facebook.com";class hr extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ra._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return hr.credential(e,i)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";class fr extends lu{constructor(){super("github.com")}static credential(t){return Ra._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fr.credential(t.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";class dr extends lu{constructor(){super("twitter.com")}static credential(t,e){return Ra._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return dr.credential(e,i)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";async function U2(n,t){return ou(n,"POST","/v1/accounts:signUp",Or(n,t))}class Ca{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const o=await fi._fromIdTokenResponse(t,i,a),c=Nb(i);return new Ca({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=Nb(i);return new Ca({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function Nb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class If extends Cs{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,If.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new If(t,e,i,a)}}function BS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(n,o,t,i):o})}async function B2(n,t,e=!1){const i=await Hc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ca._forOperation(n,"link",i)}async function j2(n,t,e=!1){const{auth:i}=n;if(Qn(i.app))return Promise.reject(Ss(i));const a="reauthenticate";try{const o=await Hc(n,BS(i,a,t,n),e);bt(o.idToken,i,"internal-error");const c=Mp(o.idToken);bt(c,i,"internal-error");const{sub:h}=c;return bt(n.uid===h,i,"user-mismatch"),Ca._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&pi(i,"user-mismatch"),o}}async function jS(n,t,e=!1){if(Qn(n.app))return Promise.reject(Ss(n));const i="signIn",a=await BS(n,i,t),o=await Ca._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(o.user),o}async function H2(n,t){return jS(ka(n),t)}async function HS(n){const t=ka(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function F2(n,t,e){if(Qn(n.app))return Promise.reject(Ss(n));const i=ka(n),c=await tp(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U2).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&HS(n),d}),h=await Ca._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function q2(n,t,e){return Qn(n.app)?Promise.reject(Ss(n)):H2(Be(n),el.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&HS(n),i})}function G2(n,t,e,i){return Be(n).onIdTokenChanged(t,e,i)}function Y2(n,t,e){return Be(n).beforeAuthStateChanged(t,e)}function K2(n,t,e,i){return Be(n).onAuthStateChanged(t,e,i)}function Q2(n){return Be(n).signOut()}const Df="__sak";class FS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Df,"1"),this.storage.removeItem(Df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const W2=1e3,X2=10;class qS extends FS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);d2()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,X2):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},W2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}qS.type="LOCAL";const $2=qS;class GS extends FS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}GS.type="SESSION";const YS=GS;function J2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Jf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new Jf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:o}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async m=>m(e.origin,o)),d=await J2(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jf.receivers=[];function Pp(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class Z2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const m=Pp("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Yi(){return window}function tI(n){Yi().location.href=n}function KS(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function eI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nI(){return navigator?.serviceWorker?.controller||null}function iI(){return KS()?self:null}const QS="firebaseLocalStorageDb",sI=1,Of="firebaseLocalStorage",WS="fbase_key";class cu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Zf(n,t){return n.transaction([Of],t?"readwrite":"readonly").objectStore(Of)}function rI(){const n=indexedDB.deleteDatabase(QS);return new cu(n).toPromise()}function ep(){const n=indexedDB.open(QS,sI);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Of,{keyPath:WS})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Of)?t(i):(i.close(),await rI(),t(await ep()))})})}async function kb(n,t,e){const i=Zf(n,!0).put({[WS]:t,value:e});return new cu(i).toPromise()}async function aI(n,t){const e=Zf(n,!1).get(t),i=await new cu(e).toPromise();return i===void 0?null:i.value}function Vb(n,t){const e=Zf(n,!0).delete(t);return new cu(e).toPromise()}const oI=800,lI=3;class XS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>lI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jf._getInstance(iI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eI(),!this.activeServiceWorker)return;this.sender=new Z2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ep();return await kb(t,Df,"1"),await Vb(t,Df),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>kb(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>aI(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Vb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=Zf(a,!1).getAll();return new cu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XS.type="LOCAL";const cI=XS;new au(3e4,6e4);function uI(n,t){return t?Ts(t):(bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Lp extends kp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return zo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return zo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function hI(n){return jS(n.auth,new Lp(n),n.bypassAuthState)}function fI(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),j2(e,new Lp(n),n.bypassAuthState)}async function dI(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),B2(e,new Lp(n),n.bypassAuthState)}class $S{constructor(t,e,i,a,o=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hI;case"linkViaPopup":case"linkViaRedirect":return dI;case"reauthViaPopup":case"reauthViaRedirect":return fI;default:pi(this.auth,"internal-error")}}resolve(t){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gI=new au(2e3,1e4);class Vo extends $S{constructor(t,e,i,a,o){super(t,e,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){ws(this.filter.length===1,"Popup operations only handle one event");const t=Pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gI.get())};t()}}Vo.currentPopupAction=null;const mI="pendingRedirect",gf=new Map;class pI extends $S{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=gf.get(this.auth._key());if(!t){try{const i=await yI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}gf.set(this.auth._key(),t)}return this.bypassAuthState||gf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yI(n,t){const e=bI(t),i=vI(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function _I(n,t){gf.set(n._key(),t)}function vI(n){return Ts(n._redirectPersistence)}function bI(n){return df(mI,n.config.apiKey,n.name)}async function EI(n,t,e=!1){if(Qn(n.app))return Promise.reject(Ss(n));const i=ka(n),a=uI(i,t),c=await new pI(i,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}const TI=600*1e3;class SI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!AI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!JS(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Gi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=TI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pb(t))}saveEventToCache(t){this.cachedEventUids.add(Pb(t)),this.lastProcessedEventTime=Date.now()}}function Pb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function JS({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function AI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JS(n);default:return!1}}async function wI(n,t={}){return Mr(n,"GET","/v1/projects",t)}const xI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RI=/^https?/;async function CI(n){if(n.config.emulator)return;const{authorizedDomains:t}=await wI(n);for(const e of t)try{if(II(e))return}catch{}pi(n,"unauthorized-domain")}function II(n){const t=Jm(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!RI.test(e))return!1;if(xI.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const DI=new au(3e4,6e4);function Lb(){const n=Yi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function OI(n){return new Promise((t,e)=>{function i(){Lb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lb(),e(Gi(n,"network-request-failed"))},timeout:DI.get()})}if(Yi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Yi().gapi?.load)i();else{const a=T2("iframefcb");return Yi()[a]=()=>{gapi.load?i():e(Gi(n,"network-request-failed"))},PS(`${E2()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw mf=null,t})}let mf=null;function MI(n){return mf=mf||OI(n),mf}const NI=new au(5e3,15e3),kI="__/auth/iframe",VI="emulator/auth/iframe",PI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zI(n){const t=n.config;bt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Op(t,VI):`https://${n.config.authDomain}/${kI}`,i={apiKey:t.apiKey,appName:n.name,v:tl},a=LI.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${ru(i).slice(1)}`}async function UI(n){const t=await MI(n),e=Yi().gapi;return bt(e,n,"internal-error"),t.open({where:document.body,url:zI(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PI,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=Gi(n,"network-request-failed"),h=Yi().setTimeout(()=>{o(c)},NI.get());function d(){Yi().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{o(c)})}))}const BI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jI=500,HI=600,FI="_blank",qI="http://localhost";class zb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GI(n,t,e,i=jI,a=HI){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...BI,width:i.toString(),height:a.toString(),top:o,left:c},m=cn().toLowerCase();e&&(h=IS(m)?FI:e),RS(m)&&(t=t||qI,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[A,I])=>`${T}${A}=${I},`,"");if(f2(m)&&h!=="_self")return YI(t||"",h),new zb(null);const v=window.open(t||"",h,y);bt(v,n,"popup-blocked");try{v.focus()}catch{}return new zb(v)}function YI(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const KI="__/auth/handler",QI="emulator/auth/handler",WI=encodeURIComponent("fac");async function Ub(n,t,e,i,a,o){bt(n.config.authDomain,n,"auth-domain-config-required"),bt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:tl,eventId:a};if(t instanceof US){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",kR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(t instanceof lu){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),m=d?`#${WI}=${encodeURIComponent(d)}`:"";return`${XI(n)}?${ru(h).slice(1)}${m}`}function XI({config:n}){return n.emulator?Op(n,QI):`https://${n.authDomain}/${KI}`}const Mm="webStorageSupport";class $I{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YS,this._completeRedirectFn=EI,this._overrideRedirectResult=_I}async _openPopup(t,e,i,a){ws(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Ub(t,e,i,Jm(),a);return GI(t,o,Pp())}async _openRedirect(t,e,i,a){await this._originValidation(t);const o=await Ub(t,e,i,Jm(),a);return tI(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(ws(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await UI(t),i=new SI(t);return e.register("authEvent",a=>(bt(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Mm,{type:Mm},a=>{const o=a?.[0]?.[Mm];o!==void 0&&e(!!o),pi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=CI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return kS()||CS()||Np()}}const JI=$I;var Bb="@firebase/auth",jb="1.12.0";class ZI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eD(n){Fo(new xa("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VS(n)},m=new _2(i,a,o,d);return C2(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Fo(new xa("auth-internal",t=>{const e=ka(t.getProvider("auth").getImmediate());return(i=>new ZI(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(Bb,jb,tD(n)),vr(Bb,jb,"esm2020")}const nD=300,iD=uS("authIdTokenMaxAge")||nD;let Hb=null;const sD=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>iD)return;const a=e?.token;Hb!==a&&(Hb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function rD(n=pS()){const t=Ip(n,"auth");if(t.isInitialized())return t.getImmediate();const e=R2(n,{popupRedirectResolver:JI,persistence:[cI,$2,YS]}),i=uS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=sD(o.toString());Y2(e,c,()=>c(e.currentUser)),G2(e,h=>c(h))}}const a=lS("auth");return a&&I2(e,`http://${a}`),e}function aD(){return document.getElementsByTagName("head")?.[0]??document}v2({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const o=Gi("internal-error");o.customData=a,e(o)},i.type="text/javascript",i.charset="UTF-8",aD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eD("Browser");var oD="firebase",lD="12.9.0";vr(oD,lD,"app");var Fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var br,ZS;(function(){var n;function t(R,x){function C(){}C.prototype=x.prototype,R.F=x.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(V,M,P){for(var D=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)D[zt-2]=arguments[zt];return x.prototype[M].apply(V,D)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,x,C){C||(C=0);const V=Array(16);if(typeof x=="string")for(var M=0;M<16;++M)V[M]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(M=0;M<16;++M)V[M]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=R.g[0],C=R.g[1],M=R.g[2];let P=R.g[3],D;D=x+(P^C&(M^P))+V[0]+3614090360&4294967295,x=C+(D<<7&4294967295|D>>>25),D=P+(M^x&(C^M))+V[1]+3905402710&4294967295,P=x+(D<<12&4294967295|D>>>20),D=M+(C^P&(x^C))+V[2]+606105819&4294967295,M=P+(D<<17&4294967295|D>>>15),D=C+(x^M&(P^x))+V[3]+3250441966&4294967295,C=M+(D<<22&4294967295|D>>>10),D=x+(P^C&(M^P))+V[4]+4118548399&4294967295,x=C+(D<<7&4294967295|D>>>25),D=P+(M^x&(C^M))+V[5]+1200080426&4294967295,P=x+(D<<12&4294967295|D>>>20),D=M+(C^P&(x^C))+V[6]+2821735955&4294967295,M=P+(D<<17&4294967295|D>>>15),D=C+(x^M&(P^x))+V[7]+4249261313&4294967295,C=M+(D<<22&4294967295|D>>>10),D=x+(P^C&(M^P))+V[8]+1770035416&4294967295,x=C+(D<<7&4294967295|D>>>25),D=P+(M^x&(C^M))+V[9]+2336552879&4294967295,P=x+(D<<12&4294967295|D>>>20),D=M+(C^P&(x^C))+V[10]+4294925233&4294967295,M=P+(D<<17&4294967295|D>>>15),D=C+(x^M&(P^x))+V[11]+2304563134&4294967295,C=M+(D<<22&4294967295|D>>>10),D=x+(P^C&(M^P))+V[12]+1804603682&4294967295,x=C+(D<<7&4294967295|D>>>25),D=P+(M^x&(C^M))+V[13]+4254626195&4294967295,P=x+(D<<12&4294967295|D>>>20),D=M+(C^P&(x^C))+V[14]+2792965006&4294967295,M=P+(D<<17&4294967295|D>>>15),D=C+(x^M&(P^x))+V[15]+1236535329&4294967295,C=M+(D<<22&4294967295|D>>>10),D=x+(M^P&(C^M))+V[1]+4129170786&4294967295,x=C+(D<<5&4294967295|D>>>27),D=P+(C^M&(x^C))+V[6]+3225465664&4294967295,P=x+(D<<9&4294967295|D>>>23),D=M+(x^C&(P^x))+V[11]+643717713&4294967295,M=P+(D<<14&4294967295|D>>>18),D=C+(P^x&(M^P))+V[0]+3921069994&4294967295,C=M+(D<<20&4294967295|D>>>12),D=x+(M^P&(C^M))+V[5]+3593408605&4294967295,x=C+(D<<5&4294967295|D>>>27),D=P+(C^M&(x^C))+V[10]+38016083&4294967295,P=x+(D<<9&4294967295|D>>>23),D=M+(x^C&(P^x))+V[15]+3634488961&4294967295,M=P+(D<<14&4294967295|D>>>18),D=C+(P^x&(M^P))+V[4]+3889429448&4294967295,C=M+(D<<20&4294967295|D>>>12),D=x+(M^P&(C^M))+V[9]+568446438&4294967295,x=C+(D<<5&4294967295|D>>>27),D=P+(C^M&(x^C))+V[14]+3275163606&4294967295,P=x+(D<<9&4294967295|D>>>23),D=M+(x^C&(P^x))+V[3]+4107603335&4294967295,M=P+(D<<14&4294967295|D>>>18),D=C+(P^x&(M^P))+V[8]+1163531501&4294967295,C=M+(D<<20&4294967295|D>>>12),D=x+(M^P&(C^M))+V[13]+2850285829&4294967295,x=C+(D<<5&4294967295|D>>>27),D=P+(C^M&(x^C))+V[2]+4243563512&4294967295,P=x+(D<<9&4294967295|D>>>23),D=M+(x^C&(P^x))+V[7]+1735328473&4294967295,M=P+(D<<14&4294967295|D>>>18),D=C+(P^x&(M^P))+V[12]+2368359562&4294967295,C=M+(D<<20&4294967295|D>>>12),D=x+(C^M^P)+V[5]+4294588738&4294967295,x=C+(D<<4&4294967295|D>>>28),D=P+(x^C^M)+V[8]+2272392833&4294967295,P=x+(D<<11&4294967295|D>>>21),D=M+(P^x^C)+V[11]+1839030562&4294967295,M=P+(D<<16&4294967295|D>>>16),D=C+(M^P^x)+V[14]+4259657740&4294967295,C=M+(D<<23&4294967295|D>>>9),D=x+(C^M^P)+V[1]+2763975236&4294967295,x=C+(D<<4&4294967295|D>>>28),D=P+(x^C^M)+V[4]+1272893353&4294967295,P=x+(D<<11&4294967295|D>>>21),D=M+(P^x^C)+V[7]+4139469664&4294967295,M=P+(D<<16&4294967295|D>>>16),D=C+(M^P^x)+V[10]+3200236656&4294967295,C=M+(D<<23&4294967295|D>>>9),D=x+(C^M^P)+V[13]+681279174&4294967295,x=C+(D<<4&4294967295|D>>>28),D=P+(x^C^M)+V[0]+3936430074&4294967295,P=x+(D<<11&4294967295|D>>>21),D=M+(P^x^C)+V[3]+3572445317&4294967295,M=P+(D<<16&4294967295|D>>>16),D=C+(M^P^x)+V[6]+76029189&4294967295,C=M+(D<<23&4294967295|D>>>9),D=x+(C^M^P)+V[9]+3654602809&4294967295,x=C+(D<<4&4294967295|D>>>28),D=P+(x^C^M)+V[12]+3873151461&4294967295,P=x+(D<<11&4294967295|D>>>21),D=M+(P^x^C)+V[15]+530742520&4294967295,M=P+(D<<16&4294967295|D>>>16),D=C+(M^P^x)+V[2]+3299628645&4294967295,C=M+(D<<23&4294967295|D>>>9),D=x+(M^(C|~P))+V[0]+4096336452&4294967295,x=C+(D<<6&4294967295|D>>>26),D=P+(C^(x|~M))+V[7]+1126891415&4294967295,P=x+(D<<10&4294967295|D>>>22),D=M+(x^(P|~C))+V[14]+2878612391&4294967295,M=P+(D<<15&4294967295|D>>>17),D=C+(P^(M|~x))+V[5]+4237533241&4294967295,C=M+(D<<21&4294967295|D>>>11),D=x+(M^(C|~P))+V[12]+1700485571&4294967295,x=C+(D<<6&4294967295|D>>>26),D=P+(C^(x|~M))+V[3]+2399980690&4294967295,P=x+(D<<10&4294967295|D>>>22),D=M+(x^(P|~C))+V[10]+4293915773&4294967295,M=P+(D<<15&4294967295|D>>>17),D=C+(P^(M|~x))+V[1]+2240044497&4294967295,C=M+(D<<21&4294967295|D>>>11),D=x+(M^(C|~P))+V[8]+1873313359&4294967295,x=C+(D<<6&4294967295|D>>>26),D=P+(C^(x|~M))+V[15]+4264355552&4294967295,P=x+(D<<10&4294967295|D>>>22),D=M+(x^(P|~C))+V[6]+2734768916&4294967295,M=P+(D<<15&4294967295|D>>>17),D=C+(P^(M|~x))+V[13]+1309151649&4294967295,C=M+(D<<21&4294967295|D>>>11),D=x+(M^(C|~P))+V[4]+4149444226&4294967295,x=C+(D<<6&4294967295|D>>>26),D=P+(C^(x|~M))+V[11]+3174756917&4294967295,P=x+(D<<10&4294967295|D>>>22),D=M+(x^(P|~C))+V[2]+718787259&4294967295,M=P+(D<<15&4294967295|D>>>17),D=C+(P^(M|~x))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+P&4294967295}i.prototype.v=function(R,x){x===void 0&&(x=R.length);const C=x-this.blockSize,V=this.C;let M=this.h,P=0;for(;P<x;){if(M==0)for(;P<=C;)a(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<x;)if(V[M++]=R.charCodeAt(P++),M==this.blockSize){a(this,V),M=0;break}}else for(;P<x;)if(V[M++]=R[P++],M==this.blockSize){a(this,V),M=0;break}}this.h=M,this.o+=x},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)R[x++]=this.g[C]>>>V&255;return R};function o(R,x){var C=h;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=x(R)}function c(R,x){this.h=x;const C=[];let V=!0;for(let M=R.length-1;M>=0;M--){const P=R[M]|0;V&&P==x||(C[M]=P,V=!1)}this.g=C}var h={};function d(R){return-128<=R&&R<128?o(R,function(x){return new c([x|0],x<0?-1:0)}):new c([R|0],R<0?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return N(m(-R));const x=[];let C=1;for(let V=0;R>=C;V++)x[V]=R/C|0,C*=4294967296;return new c(x,0)}function y(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return N(y(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(x,8));let V=v;for(let P=0;P<R.length;P+=8){var M=Math.min(8,R.length-P);const D=parseInt(R.substring(P,P+M),x);M<8?(M=m(Math.pow(x,M)),V=V.j(M).add(m(D))):(V=V.j(C),V=V.add(m(D)))}return V}var v=d(0),T=d(1),A=d(16777216);n=c.prototype,n.m=function(){if(O(this))return-N(this).m();let R=0,x=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);R+=(V>=0?V:4294967296+V)*x,x*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I(this))return"0";if(O(this))return"-"+N(this).toString(R);const x=m(Math.pow(R,6));var C=this;let V="";for(;;){const M=rt(C,x).g;C=B(C,M.j(x));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=M,I(C))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function I(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function O(R){return R.h==-1}n.l=function(R){return R=B(this,R),O(R)?-1:I(R)?0:1};function N(R){const x=R.g.length,C=[];for(let V=0;V<x;V++)C[V]=~R.g[V];return new c(C,~R.h).add(T)}n.abs=function(){return O(this)?N(this):this},n.add=function(R){const x=Math.max(this.g.length,R.g.length),C=[];let V=0;for(let M=0;M<=x;M++){let P=V+(this.i(M)&65535)+(R.i(M)&65535),D=(P>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);V=D>>>16,P&=65535,D&=65535,C[M]=D<<16|P}return new c(C,C[C.length-1]&-2147483648?-1:0)};function B(R,x){return R.add(N(x))}n.j=function(R){if(I(this)||I(R))return v;if(O(this))return O(R)?N(this).j(N(R)):N(N(this).j(R));if(O(R))return N(this.j(N(R)));if(this.l(A)<0&&R.l(A)<0)return m(this.m()*R.m());const x=this.g.length+R.g.length,C=[];for(var V=0;V<2*x;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<R.g.length;M++){const P=this.i(V)>>>16,D=this.i(V)&65535,zt=R.i(M)>>>16,Rt=R.i(M)&65535;C[2*V+2*M]+=D*Rt,tt(C,2*V+2*M),C[2*V+2*M+1]+=P*Rt,tt(C,2*V+2*M+1),C[2*V+2*M+1]+=D*zt,tt(C,2*V+2*M+1),C[2*V+2*M+2]+=P*zt,tt(C,2*V+2*M+2)}for(R=0;R<x;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=x;R<2*x;R++)C[R]=0;return new c(C,0)};function tt(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function nt(R,x){this.g=R,this.h=x}function rt(R,x){if(I(x))throw Error("division by zero");if(I(R))return new nt(v,v);if(O(R))return x=rt(N(R),x),new nt(N(x.g),N(x.h));if(O(x))return x=rt(R,N(x)),new nt(N(x.g),x.h);if(R.g.length>30){if(O(R)||O(x))throw Error("slowDivide_ only works with positive integers.");for(var C=T,V=x;V.l(R)<=0;)C=Q(C),V=Q(V);var M=st(C,1),P=st(V,1);for(V=st(V,2),C=st(C,2);!I(V);){var D=P.add(V);D.l(R)<=0&&(M=M.add(C),P=D),V=st(V,1),C=st(C,1)}return x=B(R,M.j(x)),new nt(M,x)}for(M=v;R.l(x)>=0;){for(C=Math.max(1,Math.floor(R.m()/x.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=m(C),D=P.j(x);O(D)||D.l(R)>0;)C-=V,P=m(C),D=P.j(x);I(P)&&(P=T),M=M.add(P),R=B(R,D)}return new nt(M,R)}n.B=function(R){return rt(this,R).h},n.and=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<x;V++)C[V]=this.i(V)&R.i(V);return new c(C,this.h&R.h)},n.or=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<x;V++)C[V]=this.i(V)|R.i(V);return new c(C,this.h|R.h)},n.xor=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<x;V++)C[V]=this.i(V)^R.i(V);return new c(C,this.h^R.h)};function Q(R){const x=R.g.length+1,C=[];for(let V=0;V<x;V++)C[V]=R.i(V)<<1|R.i(V-1)>>>31;return new c(C,R.h)}function st(R,x){const C=x>>5;x%=32;const V=R.g.length-C,M=[];for(let P=0;P<V;P++)M[P]=x>0?R.i(P+C)>>>x|R.i(P+C+1)<<32-x:R.i(P+C);return new c(M,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,ZS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,br=c}).apply(typeof Fb<"u"?Fb:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var t1,Tc,e1,pf,np,n1,i1,s1;(function(){var n,t=Object.defineProperty;function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function a(f,_){if(_)t:{var E=i;f=f.split(".");for(var w=0;w<f.length-1;w++){var j=f[w];if(!(j in E))break t;E=E[j]}f=f[f.length-1],w=E[f],_=_(w),_!=w&&_!=null&&t(E,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var E=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&E.push([w,_[w]]);return E}});var o=o||{},c=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function m(f,_,E){return m=d,m.apply(null,arguments)}function y(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),f.apply(this,w)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(w,j,G){for(var ot=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)ot[wt-2]=arguments[wt];return _.prototype[j].apply(w,ot)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const _=f.length;if(_>0){const E=Array(_);for(let w=0;w<_;w++)E[w]=f[w];return E}return[]}function I(f,_){for(let w=1;w<arguments.length;w++){const j=arguments[w];var E=typeof j;if(E=E!="object"?E:j?Array.isArray(j)?"array":E:"null",E=="array"||E=="object"&&typeof j.length=="number"){E=f.length||0;const G=j.length||0;f.length=E+G;for(let ot=0;ot<G;ot++)f[E+ot]=j[ot]}else f.push(j)}}class O{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(f){c.setTimeout(()=>{throw f},0)}function B(){var f=R;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class tt{constructor(){this.h=this.g=null}add(_,E){const w=nt.get();w.set(_,E),this.h?this.h.next=w:this.g=w,this.h=w}}var nt=new O(()=>new rt,f=>f.reset());class rt{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,st=!1,R=new tt,x=()=>{const f=Promise.resolve(void 0);Q=()=>{f.then(C)}};function C(){for(var f;f=B();){try{f.h.call(f.g)}catch(E){N(E)}var _=nt;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}st=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return f})();function D(f){return/^[\s\xa0]*$/.test(f)}function zt(f,_){M.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(zt,M),zt.prototype.init=function(f,_){const E=this.type=f.type,w=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&zt.Z.h.call(this)},zt.prototype.h=function(){zt.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Rt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function at(f,_,E,w,j){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!w,this.ha=j,this.key=++Y,this.da=this.fa=!1}function gt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function It(f,_,E){for(const w in f)_.call(E,f[w],w,f)}function Mt(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function L(f){const _={};for(const E in f)_[E]=f[E];return _}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(f,_){let E,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(E in w)f[E]=w[E];for(let G=0;G<X.length;G++)E=X[G],Object.prototype.hasOwnProperty.call(w,E)&&(f[E]=w[E])}}function ct(f){this.src=f,this.g={},this.h=0}ct.prototype.add=function(f,_,E,w,j){const G=f.toString();f=this.g[G],f||(f=this.g[G]=[],this.h++);const ot=vt(f,_,w,j);return ot>-1?(_=f[ot],E||(_.fa=!1)):(_=new at(_,this.src,G,!!w,j),_.fa=E,f.push(_)),_};function yt(f,_){const E=_.type;if(E in f.g){var w=f.g[E],j=Array.prototype.indexOf.call(w,_,void 0),G;(G=j>=0)&&Array.prototype.splice.call(w,j,1),G&&(gt(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function vt(f,_,E,w){for(let j=0;j<f.length;++j){const G=f[j];if(!G.da&&G.listener==_&&G.capture==!!E&&G.ha==w)return j}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Pe={};function he(f,_,E,w,j){if(Array.isArray(_)){for(let G=0;G<_.length;G++)he(f,_[G],E,w,j);return null}return E=ul(E),f&&f[Rt]?f.J(_,E,h(w)?!!w.capture:!1,j):Pr(f,_,E,!1,w,j)}function Pr(f,_,E,w,j,G){if(!_)throw Error("Invalid event type");const ot=h(j)?!!j.capture:!!j;let wt=Lr(f);if(wt||(f[Bt]=wt=new ct(f)),E=wt.add(_,E,w,ot,G),E.proxy)return E;if(w=Ua(),E.proxy=w,w.src=f,w.listener=E,f.addEventListener)P||(j=ot),j===void 0&&(j=!1),f.addEventListener(_.toString(),w,j);else if(f.attachEvent)f.attachEvent(vi(_.toString()),w);else if(f.addListener&&f.removeListener)f.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ua(){function f(E){return _.call(f.src,f.listener,E)}const _=ll;return f}function Ba(f,_,E,w,j){if(Array.isArray(_))for(var G=0;G<_.length;G++)Ba(f,_[G],E,w,j);else w=h(w)?!!w.capture:!!w,E=ul(E),f&&f[Rt]?(f=f.i,G=String(_).toString(),G in f.g&&(_=f.g[G],E=vt(_,E,w,j),E>-1&&(gt(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[G],f.h--)))):f&&(f=Lr(f))&&(_=f.g[_.toString()],f=-1,_&&(f=vt(_,E,w,j)),(E=f>-1?_[f]:null)&&ja(E))}function ja(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Rt])yt(_.i,f);else{var E=f.type,w=f.proxy;_.removeEventListener?_.removeEventListener(E,w,f.capture):_.detachEvent?_.detachEvent(vi(E),w):_.addListener&&_.removeListener&&_.removeListener(w),(E=Lr(_))?(yt(E,f),E.h==0&&(E.src=null,_[Bt]=null)):gt(f)}}}function vi(f){return f in Pe?Pe[f]:Pe[f]="on"+f}function ll(f,_){if(f.da)f=!0;else{_=new zt(_,this);const E=f.listener,w=f.ha||f.src;f.fa&&ja(f),f=E.call(w,_)}return f}function Lr(f){return f=f[Bt],f instanceof ct?f:null}var cl="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(f){return typeof f=="function"?f:(f[cl]||(f[cl]=function(_){return f.handleEvent(_)}),f[cl])}function Se(){V.call(this),this.i=new ct(this),this.M=this,this.G=null}v(Se,V),Se.prototype[Rt]=!0,Se.prototype.removeEventListener=function(f,_,E,w){Ba(this,f,_,E,w)};function Le(f,_){var E,w=f.G;if(w)for(E=[];w;w=w.G)E.push(w);if(f=f.M,w=_.type||_,typeof _=="string")_=new M(_,f);else if(_ instanceof M)_.target=_.target||f;else{var j=_;_=new M(w,f),lt(_,j)}j=!0;let G,ot;if(E)for(ot=E.length-1;ot>=0;ot--)G=_.g=E[ot],j=Is(G,w,!0,_)&&j;if(G=_.g=f,j=Is(G,w,!0,_)&&j,j=Is(G,w,!1,_)&&j,E)for(ot=0;ot<E.length;ot++)G=_.g=E[ot],j=Is(G,w,!1,_)&&j}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let w=0;w<E.length;w++)gt(E[w]);delete f.g[_],f.h--}}this.G=null},Se.prototype.J=function(f,_,E,w){return this.i.add(String(f),_,!1,E,w)},Se.prototype.K=function(f,_,E,w){return this.i.add(String(f),_,!0,E,w)};function Is(f,_,E,w){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let j=!0;for(let G=0;G<_.length;++G){const ot=_[G];if(ot&&!ot.da&&ot.capture==E){const wt=ot.listener,_e=ot.ha||ot.src;ot.fa&&yt(f.i,ot),j=wt.call(_e,w)!==!1&&j}}return j&&!w.defaultPrevented}function Td(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(f,_||0)}function yu(f){f.g=Td(()=>{f.g=null,f.i&&(f.i=!1,yu(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class un extends V{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:yu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(f){V.call(this),this.h=f,this.g={}}v(zr,V);var hl=[];function fl(f){It(f.g,function(_,E){this.g.hasOwnProperty(E)&&ja(_)},f),f.g={}}zr.prototype.N=function(){zr.Z.N.call(this),fl(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ds=c.JSON.stringify,Sd=c.JSON.parse,_u=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function vu(){}function bu(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){M.call(this,"d")}v(Ke,M);function kn(){M.call(this,"c")}v(kn,M);var ye={},Eu=null;function Ha(){return Eu=Eu||new Se}ye.Ia="serverreachability";function Tu(f){M.call(this,ye.Ia,f)}v(Tu,M);function bi(f){const _=Ha();Le(_,new Tu(_))}ye.STAT_EVENT="statevent";function Ur(f,_){M.call(this,ye.STAT_EVENT,f),this.stat=_}v(Ur,M);function Ae(f){const _=Ha();Le(_,new Ur(_,f))}ye.Ja="timingevent";function Ei(f,_){M.call(this,ye.Ja,f),this.size=_}v(Ei,M);function Ti(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},_)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function Ad(f,_,E,w,j,G){f.info(function(){if(f.g)if(G){var ot="",wt=G.split("&");for(let Yt=0;Yt<wt.length;Yt++){var _e=wt[Yt].split("=");if(_e.length>1){const fe=_e[0];_e=_e[1];const zn=fe.split("_");ot=zn.length>=2&&zn[1]=="type"?ot+(fe+"="+_e+"&"):ot+(fe+"=redacted&")}}}else ot=null;else ot=G;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+_+`
`+E+`
`+ot})}function Su(f,_,E,w,j,G,ot){f.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+_+`
`+E+`
`+G+" "+ot})}function Si(f,_,E,w){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+wd(f,E)+(w?" "+w:"")})}function Br(f,_){f.info(function(){return"TIMEOUT: "+_})}ei.prototype.info=function(){};function wd(f,_){if(!f.g)return _;if(!_)return null;try{const G=JSON.parse(_);if(G){for(f=0;f<G.length;f++)if(Array.isArray(G[f])){var E=G[f];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var j=w[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ot=1;ot<w.length;ot++)w[ot]=""}}}}return Ds(G)}catch{return _}}var jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function Hr(){}v(Hr,vu),Hr.prototype.g=function(){return new XMLHttpRequest},gl=new Hr;function Ji(f){return encodeURIComponent(String(f))}function Au(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function ni(f,_,E,w){this.j=f,this.i=_,this.l=E,this.S=w||1,this.V=new zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var we={},je={};function Ai(f,_,E){f.M=1,f.A=Fr(Re(_)),f.u=E,f.R=!0,Fa(f,null)}function Fa(f,_){f.F=Date.now(),wi(f),f.B=Re(f.A);var E=f.B,w=f.S;Array.isArray(w)||(w=[String(w)]),Ka(E.i,"t",w),f.C=0,E=f.j.L,f.h=new ii,f.g=Uu(f.j,E?_:null,!f.u),f.P>0&&(f.O=new un(m(f.Y,f,f.g),f.P)),_=f.V,E=f.g,w=f.ba;var j="readystatechange";Array.isArray(j)||(j&&(hl[0]=j.toString()),j=hl);for(let G=0;G<j.length;G++){const ot=he(E,j[G],w||_.handleEvent,!1,_.h||_);if(!ot)break;_.g[ot.key]=ot}_=f.J?L(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),bi(),Ad(f.i,f.v,f.B,f.l,f.S,f.u)}ni.prototype.ba=function(f){f=f.target;const _=this.O;_&&ai(f)==3?_.j():this.Y(f)},ni.prototype.Y=function(f){try{if(f==this.g)t:{const wt=ai(this.g),_e=this.g.ya(),Yt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||wt!=4||_e==7||(_e==8||Yt<=0?bi(3):bi(2)),xi(this);var _=this.g.ca();this.X=_;var E=xd(this);if(this.o=_==200,Su(this.i,this.v,this.B,this.l,this.S,wt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var w,j=this.g;if((w=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var G=w;break e}}G=null}if(f=G)Si(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,f);else{this.o=!1,this.m=3,Ae(12),An(this),Vn(this);break t}}if(this.R){f=!0;let fe;for(;!this.K&&this.C<E.length;)if(fe=xu(this,E),fe==je){wt==4&&(this.m=4,Ae(14),f=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==we){this.m=4,Ae(15),Si(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Si(this.i,this.l,fe,null),Ri(this,fe);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),f=!1),this.o=this.o&&f,!f)Si(this.i,this.l,E,"[Invalid Chunked Response]"),An(this),Vn(this);else if(E.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Il(ot),ot.P=!0,Ae(11))}}else Si(this.i,this.l,E,null),Ri(this,E);wt==4&&An(this),this.o&&!this.K&&(wt==4?Vu(this.j,this):(this.o=!1,wi(this)))}else ts(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),An(this),Vn(this)}}}catch{}};function xd(f){if(!wu(f))return f.g.la();const _=Qe(f.g);if(_==="")return"";let E="";const w=_.length,j=ai(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return An(f),Vn(f),"";f.h.i=new c.TextDecoder}for(let G=0;G<w;G++)f.h.h=!0,E+=f.h.i.decode(_[G],{stream:!(j&&G==w-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function wu(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function xu(f,_){var E=f.C,w=_.indexOf(`
`,E);return w==-1?je:(E=Number(_.substring(E,w)),isNaN(E)?we:(w+=1,w+E>_.length?je:(_=_.slice(w,w+E),f.C=w+E,_)))}ni.prototype.cancel=function(){this.K=!0,An(this)};function wi(f){f.T=Date.now()+f.H,qa(f,f.H)}function qa(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ti(m(f.aa,f),_)}function xi(f){f.D&&(c.clearTimeout(f.D),f.D=null)}ni.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Br(this.i,this.B),this.M!=2&&(bi(),Ae(17)),An(this),this.m=2,Vn(this)):qa(this,this.T-f)};function Vn(f){f.j.I==0||f.K||Vu(f.j,f)}function An(f){xi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,fl(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Ri(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||Ii(E.h,f))){if(!f.L&&Ii(E.h,f)&&E.I==3){try{var w=E.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Ja(E),zs(E);else break t;Xr(E),Ae(18)}}else E.xa=j[1],0<E.xa-E.K&&j[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ti(m(E.Va,E),6e3));Ci(E.h)<=1&&E.ta&&(E.ta=void 0)}else Vi(E,11)}else if((f.L||E.g==f)&&Ja(E),!D(_))for(j=E.Ba.g.parse(_),_=0;_<j.length;_++){let Yt=j[_];const fe=Yt[0];if(!(fe<=E.K))if(E.K=fe,Yt=Yt[1],E.I==2)if(Yt[0]=="c"){E.M=Yt[1],E.ba=Yt[2];const zn=Yt[3];zn!=null&&(E.ka=zn,E.j.info("VER="+E.ka));const Pi=Yt[4];Pi!=null&&(E.za=Pi,E.j.info("SVER="+E.za));const oi=Yt[5];oi!=null&&typeof oi=="number"&&oi>0&&(w=1.5*oi,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const li=f.g;if(li){const $r=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var G=w.h;G.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(yl(G,G.h),G.h=null))}if(w.G){const Za=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(w.wa=Za,Xt(w.J,w.G,Za))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var ot=f;if(w.na=zu(w,w.L?w.ba:null,w.W),ot.L){_l(w.h,ot);var wt=ot,_e=w.O;_e&&(wt.H=_e),wt.D&&(xi(wt),wi(wt)),w.g=ot}else Nu(w);E.i.length>0&&ki(E)}else Yt[0]!="stop"&&Yt[0]!="close"||Vi(E,7);else E.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Vi(E,7):Rl(E):Yt[0]!="noop"&&E.l&&E.l.qa(Yt),E.A=0)}}bi(4)}catch{}}var xe=class{constructor(f,_){this.g=f,this.map=_}};function ml(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ci(f){return f.h?1:f.g?f.g.size:0}function Ii(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function yl(f,_){f.g?f.g.add(_):f.h=_}function _l(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}ml.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function vl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return A(f.i)}var Ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const w=f[E].indexOf("=");let j,G=null;w>=0?(j=f[E].substring(0,w),G=f[E].substring(w+1)):j=f[E],_(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function wn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof wn?(this.l=f.l,He(this,f.j),this.o=f.o,this.g=f.g,Os(this,f.u),this.h=f.h,bl(this,Ou(f.i)),this.m=f.m):f&&(_=String(f).match(Ru))?(this.l=!1,He(this,_[1]||"",!0),this.o=Di(_[2]||""),this.g=Di(_[3]||"",!0),Os(this,_[4]),this.h=Di(_[5]||"",!0),bl(this,_[6]||"",!0),this.m=Di(_[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}wn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(qr(_,Ya,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(qr(_,Ya,!0),"@"),f.push(Ji(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(qr(E,E.charAt(0)=="/"?El:Cu,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",qr(E,Iu)),f.join("")},wn.prototype.resolve=function(f){const _=Re(this);let E=!!f.j;E?He(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var w=f.h;if(E)Os(_,f.u);else if(E=!!f.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var j=_.h.lastIndexOf("/");j!=-1&&(w=_.h.slice(0,j+1)+w)}if(j=w,j==".."||j==".")w="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){w=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let ot=0;ot<j.length;){const wt=j[ot++];wt=="."?w&&ot==j.length&&G.push(""):wt==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),w&&ot==j.length&&G.push("")):(G.push(wt),w=!0)}w=G.join("/")}else w=j}return E?_.h=w:E=f.i.toString()!=="",E?bl(_,Ou(f.i)):E=!!f.m,E&&(_.m=f.m),_};function Re(f){return new wn(f)}function He(f,_,E){f.j=E?Di(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Os(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function bl(f,_,E){_ instanceof Ns?(f.i=_,Qa(f.i,f.l)):(E||(_=qr(_,Ms)),f.i=new Ns(_,f.l))}function Xt(f,_,E){f.i.set(_,E)}function Fr(f){return Xt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Di(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function qr(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,dn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function dn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ya=/[#\/\?@]/g,Cu=/[#\?:]/g,El=/[#\?]/g,Ms=/[#\?@]/g,Iu=/#/g;function Ns(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function gn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ga(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Ns.prototype,n.add=function(f,_){gn(this),this.i=null,f=ks(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function Du(f,_){gn(f),_=ks(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Tl(f,_){return gn(f),_=ks(f,_),f.g.has(_)}n.forEach=function(f,_){gn(this),this.g.forEach(function(E,w){E.forEach(function(j){f.call(_,j,w,this)},this)},this)};function Sl(f,_){gn(f);let E=[];if(typeof _=="string")Tl(f,_)&&(E=E.concat(f.g.get(ks(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}n.set=function(f,_){return gn(this),this.i=null,f=ks(this,f),Tl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=Sl(this,f),f.length>0?String(f[0]):_):_};function Ka(f,_,E){Du(f,_),E.length>0&&(f.i=null,f.g.set(ks(f,_),A(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var E=_[w];const j=Ji(E);E=Sl(this,E);for(let G=0;G<E.length;G++){let ot=j;E[G]!==""&&(ot+="="+Ji(E[G])),f.push(ot)}}return this.i=f.join("&")};function Ou(f){const _=new Ns;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function ks(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Qa(f,_){_&&!f.j&&(gn(f),f.i=null,f.g.forEach(function(E,w){const j=w.toLowerCase();w!=j&&(Du(this,w),Ka(this,j,E))},f)),f.j=_}function si(f,_){const E=new ei;if(c.Image){const w=new Image;w.onload=y(Pn,E,"TestLoadImage: loaded",!0,_,w),w.onerror=y(Pn,E,"TestLoadImage: error",!1,_,w),w.onabort=y(Pn,E,"TestLoadImage: abort",!1,_,w),w.ontimeout=y(Pn,E,"TestLoadImage: timeout",!1,_,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=f}else _(!1)}function Al(f,_){const E=new ei,w=new AbortController,j=setTimeout(()=>{w.abort(),Pn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:w.signal}).then(G=>{clearTimeout(j),G.ok?Pn(E,"TestPingServer: ok",!0,_):Pn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(j),Pn(E,"TestPingServer: error",!1,_)})}function Pn(f,_,E,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(E)}catch{}}function Vs(){this.g=new _u}function Oi(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Oi,vu),Oi.prototype.g=function(){return new Gr(this.i,this.h)};function Gr(f,_){Se.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Gr,Se),n=Gr.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,ri(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wa(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wa(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Ps(this):ri(this),this.readyState==3&&Wa(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Ps(this))},n.Na=function(f){this.g&&(this.response=f,Ps(this))},n.ga=function(){this.g&&Ps(this)};function Ps(f){f.readyState=4,f.l=null,f.j=null,f.B=null,ri(f)}n.setRequestHeader=function(f,_){this.A.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function ri(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ln(f){let _="";return It(f,function(E,w){_+=w,_+=":",_+=E,_+=`\r
`}),_}function Yr(f,_,E){t:{for(w in E){var w=!1;break t}w=!0}w||(E=Ln(E),typeof f=="string"?E!=null&&Ji(E):Xt(f,_,E))}function te(f){Se.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(te,Se);var Mi=/^https?$/i,wl=["POST","PUT"];n=te.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,_,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(G){Kr(this,G);return}if(f=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)E.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())E.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),j=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(wl,_,void 0)>=0)||w||j||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ot]of E)this.g.setRequestHeader(G,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(G){Kr(this,G)}};function Kr(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,xl(f),Zi(f)}function xl(f){f.A||(f.A=!0,Le(f,"complete"),Le(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Le(this,"complete"),Le(this,"abort"),Zi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),te.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Qr(this):this.Xa())},n.Xa=function(){Qr(this)};function Qr(f){if(f.h&&typeof o<"u"){if(f.v&&ai(f)==4)setTimeout(f.Ca.bind(f),0);else if(Le(f,"readystatechange"),ai(f)==4){f.h=!1;try{const G=f.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var w;if(w=G===0){let ot=String(f.D).match(Ru)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),w=!Mi.test(ot?ot.toLowerCase():"")}E=w}if(E)Le(f,"complete"),Le(f,"success");else{f.o=6;try{var j=ai(f)>2?f.g.statusText:""}catch{j=""}f.l=j+" ["+f.ca()+"]",xl(f)}}finally{Zi(f)}}}}function Zi(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||Le(f,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ai(f){return f.g?f.g.readyState:0}n.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Sd(_)}};function Qe(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(f){const _={};f=(f.g&&ai(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<f.length;w++){if(D(f[w]))continue;var E=Au(f[w]);const j=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=_[j]||[];_[j]=G,G.push(E)}Mt(_,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function Ls(f){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,f),this.Za=Ni("retryDelaySeedMs",1e4,f),this.Ta=Ni("forwardChannelMaxRetries",2,f),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ml(f&&f.concurrentRequestLimit),this.Ba=new Vs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ls.prototype,n.ka=8,n.I=1,n.connect=function(f,_,E,w){Ae(0),this.W=f,this.H=_||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=zu(this,null,this.W),ki(this)};function Rl(f){if(Xa(f),f.I==3){var _=f.V++,E=Re(f.J);if(Xt(E,"SID",f.M),Xt(E,"RID",_),Xt(E,"TYPE","terminate"),Wr(f,E),_=new ni(f,f.j,_),_.M=2,_.A=Fr(Re(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=Uu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),wi(_)}Lu(f)}function zs(f){f.g&&(Il(f),f.g.cancel(),f.g=null)}function Xa(f){zs(f),f.v&&(c.clearTimeout(f.v),f.v=null),Ja(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function ki(f){if(!pl(f.h)&&!f.m){f.m=!0;var _=f.Ea;Q||x(),st||(Q(),st=!0),R.add(_,f),f.D=0}}function $a(f,_){return Ci(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ti(m(f.Ea,f,_),Pu(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const j=new ni(this,this.j,f);let G=this.o;if(this.U&&(G?(G=L(G),lt(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Mu(this,j,_),E=Re(this.J),Xt(E,"RID",f),Xt(E,"CVER",22),this.G&&Xt(E,"X-HTTP-Session-Id",this.G),Wr(this,E),G&&(this.R?_="headers="+Ji(Ln(G))+"&"+_:this.u&&Yr(E,this.u,G)),yl(this.h,j),this.Ra&&Xt(E,"TYPE","init"),this.S?(Xt(E,"$req",_),Xt(E,"SID","null"),j.U=!0,Ai(j,E,null)):Ai(j,E,_),this.I=2}}else this.I==3&&(f?Cl(this,f):this.i.length==0||pl(this.h)||Cl(this))};function Cl(f,_){var E;_?E=_.l:E=f.V++;const w=Re(f.J);Xt(w,"SID",f.M),Xt(w,"RID",E),Xt(w,"AID",f.K),Wr(f,w),f.u&&f.o&&Yr(w,f.u,f.o),E=new ni(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Mu(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),yl(f.h,E),Ai(E,w,_)}function Wr(f,_){f.H&&It(f.H,function(E,w){Xt(_,w,E)}),f.l&&It({},function(E,w){Xt(_,w,E)})}function Mu(f,_,E){E=Math.min(f.i.length,E);const w=f.l?m(f.l.Ka,f.l,f):null;t:{var j=f.i;let wt=-1;for(;;){const _e=["count="+E];wt==-1?E>0?(wt=j[0].g,_e.push("ofs="+wt)):wt=0:_e.push("ofs="+wt);let Yt=!0;for(let fe=0;fe<E;fe++){var G=j[fe].g;const zn=j[fe].map;if(G-=wt,G<0)wt=Math.max(0,j[fe].g-100),Yt=!1;else try{G="req"+G+"_"||"";try{var ot=zn instanceof Map?zn:Object.entries(zn);for(const[Pi,oi]of ot){let li=oi;h(oi)&&(li=Ds(oi)),_e.push(G+Pi+"="+encodeURIComponent(li))}}catch(Pi){throw _e.push(G+"type="+encodeURIComponent("_badmap")),Pi}}catch{w&&w(zn)}}if(Yt){ot=_e.join("&");break t}}ot=void 0}return f=f.i.splice(0,E),_.G=f,ot}function Nu(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;Q||x(),st||(Q(),st=!0),R.add(_,f),f.A=0}}function Xr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ti(m(f.Da,f),Pu(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,ku(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ti(m(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),zs(this),ku(this))};function Il(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function ku(f){f.g=new ni(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Re(f.na);Xt(_,"RID","rpc"),Xt(_,"SID",f.M),Xt(_,"AID",f.K),Xt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Xt(_,"TO",f.ia),Xt(_,"TYPE","xmlhttp"),Wr(f,_),f.u&&f.o&&Yr(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=Fr(Re(_)),E.u=null,E.R=!0,Fa(E,f)}n.Va=function(){this.C!=null&&(this.C=null,zs(this),Xr(this),Ae(19))};function Ja(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Vu(f,_){var E=null;if(f.g==_){Ja(f),Il(f),f.g=null;var w=2}else if(Ii(f.h,_))E=_.G,_l(f.h,_),w=1;else return;if(f.I!=0){if(_.o)if(w==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var j=f.D;w=Ha(),Le(w,new Ei(w,E)),ki(f)}else Nu(f);else if(j=_.m,j==3||j==0&&_.X>0||!(w==1&&$a(f,_)||w==2&&Xr(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),j){case 1:Vi(f,5);break;case 4:Vi(f,10);break;case 3:Vi(f,6);break;default:Vi(f,2)}}}function Pu(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function Vi(f,_){if(f.j.info("Error code "+_),_==2){var E=m(f.bb,f),w=f.Ua;const j=!w;w=new wn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||He(w,"https"),Fr(w),j?si(w.toString(),E):Al(w.toString(),E)}else Ae(2);f.I=0,f.l&&f.l.pa(_),Lu(f),Xa(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Lu(f){if(f.I=0,f.ja=[],f.l){const _=vl(f.h);(_.length!=0||f.i.length!=0)&&(I(f.ja,_),I(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function zu(f,_,E){var w=E instanceof wn?Re(E):new wn(E);if(w.g!="")_&&(w.g=_+"."+w.g),Os(w,w.u);else{var j=c.location;w=j.protocol,_=_?_+"."+j.hostname:j.hostname,j=+j.port;const G=new wn(null);w&&He(G,w),_&&(G.g=_),j&&Os(G,j),E&&(G.h=E),w=G}return E=f.G,_=f.wa,E&&_&&Xt(w,E,_),Xt(w,"VER",f.ka),Wr(f,w),w}function Uu(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new te(new Oi({ab:E})):new te(f.ma),_.Fa(f.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}n=Bu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Us(){}Us.prototype.g=function(f,_){return new hn(f,_)};function hn(f,_){Se.call(this),this.g=new Ls(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!D(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new es(this)}v(hn,Se),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Rl(this.g)},hn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Ds(f),f=E);_.i.push(new xe(_.Ya++,f)),_.I==3&&ki(_)},hn.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,hn.Z.N.call(this)};function ju(f){Ke.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const E in _){f=E;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(ju,Ke);function Hu(){kn.call(this),this.status=1}v(Hu,kn);function es(f){this.g=f}v(es,Bu),es.prototype.ra=function(){Le(this.g,"a")},es.prototype.qa=function(f){Le(this.g,new ju(f))},es.prototype.pa=function(f){Le(this.g,new Hu)},es.prototype.oa=function(){Le(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,s1=function(){return new Us},i1=function(){return Ha()},n1=ye,np={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,pf=jr,dl.COMPLETE="complete",e1=dl,bu.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",Se.prototype.listen=Se.prototype.J,Tc=bu,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,t1=te}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let nl="12.9.0";function cD(n){nl=n}const Ia=new Rp("@firebase/firestore");function Oo(){return Ia.logLevel}function ht(n,...t){if(Ia.logLevel<=Vt.DEBUG){const e=t.map(zp);Ia.debug(`Firestore (${nl}): ${n}`,...e)}}function xs(n,...t){if(Ia.logLevel<=Vt.ERROR){const e=t.map(zp);Ia.error(`Firestore (${nl}): ${n}`,...e)}}function Da(n,...t){if(Ia.logLevel<=Vt.WARN){const e=t.map(zp);Ia.warn(`Firestore (${nl}): ${n}`,...e)}}function zp(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Et(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,r1(n,i,e)}function r1(n,t,e){let i=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw xs(i),new Error(i)}function Wt(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||r1(t,a,i)}function At(n,t){return n}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Cs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ta{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class a1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(an.UNAUTHENTICATED)))}shutdown(){}}class hD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class fD{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Wt(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new Ta;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ta,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=o;t.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ta)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Wt(typeof i.accessToken=="string",31837,{l:i}),new a1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class dD{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class gD{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new dD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Wt(this.o===void 0,3512);const i=o=>{o.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const a=o=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Wt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new qb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Up{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=pD(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<e&&(i+=t.charAt(a[o]%62))}return i}}function Pt(n,t){return n<t?-1:n>t?1:0}function ip(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),o=t.charAt(i);if(a!==o)return Nm(a)===Nm(o)?Pt(a,o):Nm(a)?1:-1}return Pt(n.length,t.length)}const yD=55296,_D=57343;function Nm(n){const t=n.charCodeAt(0);return t>=yD&&t<=_D}function qo(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}const Gb="__name__";class qi{constructor(t,e,i){e===void 0?e=0:e>t.length&&Et(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Et(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return qi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof qi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const o=qi.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return Pt(t.length,e.length)}static compareSegments(t,e){const i=qi.isNumericId(t),a=qi.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?qi.extractNumericId(t).compare(qi.extractNumericId(e)):ip(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return br.fromString(t.substring(4,t.length-2))}}class re extends qi{construct(t,e,i){return new re(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new re(e)}static emptyPath(){return new re([])}}const vD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends qi{construct(t,e,i){return new tn(t,e,i)}static isValidIdentifier(t){return vD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gb}static keyField(){return new tn([Gb])}static fromServerFormat(t){const e=[];let i="",a=0;const o=()=>{if(i.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(o(),a++)}if(o(),c)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(e)}static emptyPath(){return new tn([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(re.fromString(t))}static fromName(t){return new pt(re.fromString(t).popFirst(5))}static empty(){return new pt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return re.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new re(t.slice()))}}function o1(n,t,e){if(!e)throw new ut(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function bD(n,t,e,i){if(t===!0&&i===!0)throw new ut(Z.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Yb(n){if(!pt.isDocumentKey(n))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Kb(n){if(pt.isDocumentKey(n))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function l1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function td(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Et(12329,{type:typeof n})}function Er(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=td(n);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function ke(n,t){const e={typeString:n};return t&&(e.value=t),e}function uu(n,t){if(!l1(n))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new ut(Z.INVALID_ARGUMENT,e);return!0}const Qb=-62135596800,Wb=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Wb);return new ue(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Qb)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wb}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(uu(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Qb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:ke("string",ue._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ue(0,0))}static max(){return new Tt(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qc=-1;function ED(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Tt.fromTimestamp(i===1e9?new ue(e+1,0):new ue(e,i));return new Ar(a,pt.empty(),t)}function TD(n){return new Ar(n.readTime,n.key,qc)}class Ar{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ar(Tt.min(),pt.empty(),qc)}static max(){return new Ar(Tt.max(),pt.empty(),qc)}}function SD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=pt.comparator(n.documentKey,t.documentKey),e!==0?e:Pt(n.largestBatchId,t.largestBatchId))}const AD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function il(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==AD)throw n;ht("LocalStore","Unexpectedly lost primary lease")}class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):et.reject(e)}static resolve(t){return new et(((e,i)=>{e(t)}))}static reject(t){return new et(((e,i)=>{i(t)}))}static waitFor(t){return new et(((e,i)=>{let a=0,o=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&e()}),(d=>i(d)))})),c=!0,o===a&&e()}))}static or(t){let e=et.resolve(!1);for(const i of t)e=e.next((a=>a?et.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,o)=>{i.push(e.call(this,a,o))})),this.waitFor(i)}static mapArray(t,e){return new et(((i,a)=>{const o=t.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;e(t[m]).next((y=>{c[m]=y,++h,h===o&&i(c)}),(y=>a(y)))}}))}static doWhile(t,e){return new et(((i,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):i()};o()}))}}function xD(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function sl(n){return n.name==="IndexedDbTransactionError"}class ed{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ed.ce=-1;const Bp=-1;function nd(n){return n==null}function Mf(n){return n===0&&1/n==-1/0}function RD(n){return typeof n=="number"&&Number.isInteger(n)&&!Mf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const c1="";function CD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Xb(t)),t=ID(n.get(e),t);return Xb(t)}function ID(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case c1:e+="";break;default:e+=o}}return e}function Xb(n){return n+c1+""}function $b(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Nr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function u1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ge{constructor(t,e){this.comparator=t,this.root=e||Ze.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qh(this.root,t,this.comparator,!0)}}class Qh{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??Ze.RED,this.left=a??Ze.EMPTY,this.right=o??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,o){return new Ze(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return Ze.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,e,i,a,o){return this}insert(t,e,i){return new Ze(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Jb(this.data.getIterator())}getIteratorFrom(t){return new Jb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ue(this.comparator);return e.data=t,e}}class Jb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new Nn([])}unionWith(t){let e=new Ue(tn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Nn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return qo(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class h1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new h1("Invalid base64 string: "+o):o}})(t);return new en(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(t);return new en(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const DD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(n){if(Wt(!!n,39018),typeof n=="string"){let t=0;const e=DD.exec(n);if(Wt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ee(n.seconds),nanos:Ee(n.nanos)}}function Ee(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xr(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}const f1="server_timestamp",d1="__type__",g1="__previous_value__",m1="__local_write_time__";function jp(n){return(n?.mapValue?.fields||{})[d1]?.stringValue===f1}function id(n){const t=n.mapValue.fields[g1];return jp(t)?id(t):t}function Gc(n){const t=wr(n.mapValue.fields[m1].timestampValue);return new ue(t.seconds,t.nanos)}class OD{constructor(t,e,i,a,o,c,h,d,m,y,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=v}}const Nf="(default)";class Yc{constructor(t,e){this.projectId=t,this.database=e||Nf}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database===Nf}isEqual(t){return t instanceof Yc&&t.projectId===this.projectId&&t.database===this.database}}function MD(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(n.options.projectId,t)}const p1="__type__",ND="__max__",Wh={mapValue:{}},y1="__vector__",kf="value";function Rr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jp(n)?4:VD(n)?9007199254740991:kD(n)?10:11:Et(28295,{value:n})}function $i(n,t){if(n===t)return!0;const e=Rr(n);if(e!==Rr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Gc(n).isEqual(Gc(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=wr(a.timestampValue),h=wr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return xr(a.bytesValue).isEqual(xr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return Ee(a.geoPointValue.latitude)===Ee(o.geoPointValue.latitude)&&Ee(a.geoPointValue.longitude)===Ee(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Ee(a.integerValue)===Ee(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Ee(a.doubleValue),h=Ee(o.doubleValue);return c===h?Mf(c)===Mf(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return qo(n.arrayValue.values||[],t.arrayValue.values||[],$i);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if($b(c)!==$b(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!$i(c[d],h[d])))return!1;return!0})(n,t);default:return Et(52216,{left:n})}}function Kc(n,t){return(n.values||[]).find((e=>$i(e,t)))!==void 0}function Go(n,t){if(n===t)return 0;const e=Rr(n),i=Rr(t);if(e!==i)return Pt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Ee(o.integerValue||o.doubleValue),d=Ee(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,t);case 3:return Zb(n.timestampValue,t.timestampValue);case 4:return Zb(Gc(n),Gc(t));case 5:return ip(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=xr(o),d=xr(c);return h.compareTo(d)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=Pt(h[m],d[m]);if(y!==0)return y}return Pt(h.length,d.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=Pt(Ee(o.latitude),Ee(c.latitude));return h!==0?h:Pt(Ee(o.longitude),Ee(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return tE(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},d=c.fields||{},m=h[kf]?.arrayValue,y=d[kf]?.arrayValue,v=Pt(m?.values?.length||0,y?.values?.length||0);return v!==0?v:tE(m,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Wh.mapValue&&c===Wh.mapValue)return 0;if(o===Wh.mapValue)return 1;if(c===Wh.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=c.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=ip(d[v],y[v]);if(T!==0)return T;const A=Go(h[d[v]],m[y[v]]);if(A!==0)return A}return Pt(d.length,y.length)})(n.mapValue,t.mapValue);default:throw Et(23264,{he:e})}}function Zb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Pt(n,t);const e=wr(n),i=wr(t),a=Pt(e.seconds,i.seconds);return a!==0?a:Pt(e.nanos,i.nanos)}function tE(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const o=Go(e[a],i[a]);if(o)return o}return Pt(e.length,i.length)}function Yo(n){return sp(n)}function sp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=wr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return xr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return pt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const o of e.values||[])a?a=!1:i+=",",i+=sp(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const c of i)o?o=!1:a+=",",a+=`${c}:${sp(e.fields[c])}`;return a+"}"})(n.mapValue):Et(61005,{value:n})}function yf(n){switch(Rr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=id(n);return t?16+yf(t):16;case 5:return 2*n.stringValue.length;case 6:return xr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+yf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return Nr(i.fields,((o,c)=>{a+=o.length+yf(c)})),a})(n.mapValue);default:throw Et(13486,{value:n})}}function eE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function rp(n){return!!n&&"integerValue"in n}function Hp(n){return!!n&&"arrayValue"in n}function nE(n){return!!n&&"nullValue"in n}function iE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _f(n){return!!n&&"mapValue"in n}function kD(n){return(n?.mapValue?.fields||{})[p1]?.stringValue===y1}function Mc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Nr(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Mc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Mc(n.arrayValue.values[e]);return t}return{...n}}function VD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ND}class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!_f(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mc(e)}setAll(t){let e=tn.emptyPath(),i={},a=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const d=this.getFieldsMap(e);this.applyChanges(d,i,a),i={},a=[],e=h.popLast()}c?i[h.lastSegment()]=Mc(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,a)}delete(t){const e=this.field(t.popLast());_f(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return $i(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];_f(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){Nr(e,((a,o)=>t[a]=o));for(const a of i)delete t[a]}clone(){return new Tn(Mc(this.value))}}function _1(n){const t=[];return Nr(n.fields,((e,i)=>{const a=new tn([e]);if(_f(i)){const o=_1(i.mapValue).fields;if(o.length===0)t.push(a);else for(const c of o)t.push(a.child(c))}else t.push(a)})),new Nn(t)}class on{constructor(t,e,i,a,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new on(t,0,Tt.min(),Tt.min(),Tt.min(),Tn.empty(),0)}static newFoundDocument(t,e,i,a){return new on(t,1,e,Tt.min(),i,a,0)}static newNoDocument(t,e){return new on(t,2,e,Tt.min(),Tt.min(),Tn.empty(),0)}static newUnknownDocument(t,e){return new on(t,3,e,Tt.min(),Tt.min(),Tn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vf{constructor(t,e){this.position=t,this.inclusive=e}}function sE(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const o=t[a],c=n.position[a];if(o.field.isKeyField()?i=pt.comparator(pt.fromName(c.referenceValue),e.key):i=Go(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function rE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!$i(n.position[e],t.position[e]))return!1;return!0}class Qc{constructor(t,e="asc"){this.field=t,this.dir=e}}function PD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class v1{}class Ne extends v1{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new zD(t,e,i):e==="array-contains"?new jD(t,i):e==="in"?new HD(t,i):e==="not-in"?new FD(t,i):e==="array-contains-any"?new qD(t,i):new Ne(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new UD(t,i):new BD(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Go(e,this.value)):e!==null&&Rr(this.value)===Rr(e)&&this.matchesComparison(Go(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends v1{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new yi(t,e)}matches(t){return b1(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function b1(n){return n.op==="and"}function E1(n){return LD(n)&&b1(n)}function LD(n){for(const t of n.filters)if(t instanceof yi)return!1;return!0}function ap(n){if(n instanceof Ne)return n.field.canonicalString()+n.op.toString()+Yo(n.value);if(E1(n))return n.filters.map((t=>ap(t))).join(",");{const t=n.filters.map((e=>ap(e))).join(",");return`${n.op}(${t})`}}function T1(n,t){return n instanceof Ne?(function(i,a){return a instanceof Ne&&i.op===a.op&&i.field.isEqual(a.field)&&$i(i.value,a.value)})(n,t):n instanceof yi?(function(i,a){return a instanceof yi&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,c,h)=>o&&T1(c,a.filters[h])),!0):!1})(n,t):void Et(19439)}function S1(n){return n instanceof Ne?(function(e){return`${e.field.canonicalString()} ${e.op} ${Yo(e.value)}`})(n):n instanceof yi?(function(e){return e.op.toString()+" {"+e.getFilters().map(S1).join(" ,")+"}"})(n):"Filter"}class zD extends Ne{constructor(t,e,i){super(t,e,i),this.key=pt.fromName(i.referenceValue)}matches(t){const e=pt.comparator(t.key,this.key);return this.matchesComparison(e)}}class UD extends Ne{constructor(t,e){super(t,"in",e),this.keys=A1("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class BD extends Ne{constructor(t,e){super(t,"not-in",e),this.keys=A1("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function A1(n,t){return(t.arrayValue?.values||[]).map((e=>pt.fromName(e.referenceValue)))}class jD extends Ne{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Hp(e)&&Kc(e.arrayValue,this.value)}}class HD extends Ne{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Kc(this.value.arrayValue,e)}}class FD extends Ne{constructor(t,e){super(t,"not-in",e)}matches(t){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Kc(this.value.arrayValue,e)}}class qD extends Ne{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Hp(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Kc(this.value.arrayValue,i)))}}class GD{constructor(t,e=null,i=[],a=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function aE(n,t=null,e=[],i=[],a=null,o=null,c=null){return new GD(n,t,e,i,a,o,c)}function Fp(n){const t=At(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>ap(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),nd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Yo(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Yo(i))).join(",")),t.Te=e}return t.Te}function qp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!PD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!T1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!rE(n.startAt,t.startAt)&&rE(n.endAt,t.endAt)}function op(n){return pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class rl{constructor(t,e=null,i=[],a=[],o=null,c="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function YD(n,t,e,i,a,o,c,h){return new rl(n,t,e,i,a,o,c,h)}function Gp(n){return new rl(n)}function oE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function KD(n){return pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function w1(n){return n.collectionGroup!==null}function Nc(n){const t=At(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ue(tn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Qc(o,i))})),e.has(tn.keyField().canonicalString())||t.Ie.push(new Qc(tn.keyField(),i))}return t.Ie}function Ki(n){const t=At(n);return t.Ee||(t.Ee=QD(t,Nc(n))),t.Ee}function QD(n,t){if(n.limitType==="F")return aE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Qc(a.field,o)}));const e=n.endAt?new Vf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vf(n.startAt.position,n.startAt.inclusive):null;return aE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function lp(n,t){const e=n.filters.concat([t]);return new rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function WD(n,t){const e=n.explicitOrderBy.concat([t]);return new rl(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Pf(n,t,e){return new rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function sd(n,t){return qp(Ki(n),Ki(t))&&n.limitType===t.limitType}function x1(n){return`${Fp(Ki(n))}|lt:${n.limitType}`}function Mo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>S1(a))).join(", ")}]`),nd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Yo(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Yo(a))).join(",")),`Target(${i})`})(Ki(n))}; limitType=${n.limitType})`}function rd(n,t){return t.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):pt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,a){for(const o of Nc(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(c,h,d){const m=sE(c,h,d);return c.inclusive?m<=0:m<0})(i.startAt,Nc(i),a)||i.endAt&&!(function(c,h,d){const m=sE(c,h,d);return c.inclusive?m>=0:m>0})(i.endAt,Nc(i),a))})(n,t)}function XD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function R1(n){return(t,e)=>{let i=!1;for(const a of Nc(n)){const o=$D(a,t,e);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function $D(n,t,e){const i=n.field.isKeyField()?pt.comparator(t.key,e.key):(function(o,c,h){const d=c.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Go(d,m):Et(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Et(19790,{direction:n.dir})}}class Va{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Nr(this.inner,((e,i)=>{for(const[a,o]of i)t(a,o)}))}isEmpty(){return u1(this.inner)}size(){return this.innerSize}}const JD=new ge(pt.comparator);function Rs(){return JD}const C1=new ge(pt.comparator);function Sc(...n){let t=C1;for(const e of n)t=t.insert(e.key,e);return t}function I1(n){let t=C1;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function va(){return kc()}function D1(){return kc()}function kc(){return new Va((n=>n.toString()),((n,t)=>n.isEqual(t)))}const ZD=new ge(pt.comparator),tO=new Ue(pt.comparator);function Lt(...n){let t=tO;for(const e of n)t=t.add(e);return t}const eO=new Ue(Pt);function nO(){return eO}function Yp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(t)?"-0":t}}function O1(n){return{integerValue:""+n}}function iO(n,t){return RD(t)?O1(t):Yp(n,t)}class ad{constructor(){this._=void 0}}function sO(n,t,e){return n instanceof Wc?(function(a,o){const c={fields:{[d1]:{stringValue:f1},[m1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&jp(o)&&(o=id(o)),o&&(c.fields[g1]=o),{mapValue:c}})(e,t):n instanceof Xc?N1(n,t):n instanceof $c?k1(n,t):(function(a,o){const c=M1(a,o),h=lE(c)+lE(a.Ae);return rp(c)&&rp(a.Ae)?O1(h):Yp(a.serializer,h)})(n,t)}function rO(n,t,e){return n instanceof Xc?N1(n,t):n instanceof $c?k1(n,t):e}function M1(n,t){return n instanceof Lf?(function(i){return rp(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Wc extends ad{}class Xc extends ad{constructor(t){super(),this.elements=t}}function N1(n,t){const e=V1(t);for(const i of n.elements)e.some((a=>$i(a,i)))||e.push(i);return{arrayValue:{values:e}}}class $c extends ad{constructor(t){super(),this.elements=t}}function k1(n,t){let e=V1(t);for(const i of n.elements)e=e.filter((a=>!$i(a,i)));return{arrayValue:{values:e}}}class Lf extends ad{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function lE(n){return Ee(n.integerValue||n.doubleValue)}function V1(n){return Hp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class aO{constructor(t,e){this.field=t,this.transform=e}}function oO(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof Xc&&a instanceof Xc||i instanceof $c&&a instanceof $c?qo(i.elements,a.elements,$i):i instanceof Lf&&a instanceof Lf?$i(i.Ae,a.Ae):i instanceof Wc&&a instanceof Wc})(n.transform,t.transform)}class lO{constructor(t,e){this.version=t,this.transformResults=e}}class gi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new gi}static exists(t){return new gi(void 0,t)}static updateTime(t){return new gi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class od{}function P1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Kp(n.key,gi.none()):new hu(n.key,n.data,gi.none());{const e=n.data,i=Tn.empty();let a=new Ue(tn.comparator);for(let o of t.fields)if(!a.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),a=a.add(o)}return new kr(n.key,i,new Nn(a.toArray()),gi.none())}}function cO(n,t,e){n instanceof hu?(function(a,o,c){const h=a.value.clone(),d=uE(a.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof kr?(function(a,o,c){if(!vf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=uE(a.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(L1(a)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,e):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Vc(n,t,e,i){return n instanceof hu?(function(o,c,h,d){if(!vf(o.precondition,c))return h;const m=o.value.clone(),y=hE(o.fieldTransforms,d,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,i):n instanceof kr?(function(o,c,h,d){if(!vf(o.precondition,c))return h;const m=hE(o.fieldTransforms,d,c),y=c.data;return y.setAll(L1(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,t,e,i):(function(o,c,h){return vf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function uO(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),o=M1(i.transform,a||null);o!=null&&(e===null&&(e=Tn.empty()),e.set(i.field,o))}return e||null}function cE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&qo(i,a,((o,c)=>oO(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class hu extends od{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class kr extends od{constructor(t,e,i,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function L1(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function uE(n,t,e){const i=new Map;Wt(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const o=n[a],c=o.transform,h=t.data.field(o.field);i.set(o.field,rO(c,h,e[a]))}return i}function hE(n,t,e){const i=new Map;for(const a of n){const o=a.transform,c=e.data.field(a.field);i.set(a.field,sO(o,c,t))}return i}class Kp extends od{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hO extends od{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fO{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&cO(o,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Vc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Vc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=D1();return this.mutations.forEach((a=>{const o=t.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(a.key)?null:h;const d=P1(c,h);d!==null&&i.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Tt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&qo(this.mutations,t.mutations,((e,i)=>cE(e,i)))&&qo(this.baseMutations,t.baseMutations,((e,i)=>cE(e,i)))}}class Qp{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){Wt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return ZD})();const o=t.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,i[c].version);return new Qp(t,e,i,a)}}class dO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gO{constructor(t,e){this.count=t,this.unchangedNames=e}}var Me,jt;function mO(n){switch(n){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:n})}}function z1(n){if(n===void 0)return xs("GRPC error has no .code"),Z.UNKNOWN;switch(n){case Me.OK:return Z.OK;case Me.CANCELLED:return Z.CANCELLED;case Me.UNKNOWN:return Z.UNKNOWN;case Me.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Me.INTERNAL:return Z.INTERNAL;case Me.UNAVAILABLE:return Z.UNAVAILABLE;case Me.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Me.NOT_FOUND:return Z.NOT_FOUND;case Me.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Me.ABORTED:return Z.ABORTED;case Me.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Me.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:n})}}(jt=Me||(Me={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function pO(){return new TextEncoder}const yO=new br([4294967295,4294967295],0);function fE(n){const t=pO().encode(n),e=new ZS;return e.update(t),new Uint8Array(e.digest())}function dE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new br([e,i],0),new br([a,o],0)]}class Wp{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Ac(`Invalid padding: ${e}`);if(i<0)throw new Ac(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=br.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(br.fromNumber(i)));return a.compare(yO)===1&&(a=new br([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=fE(t),[i,a]=dE(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Wp(o,a,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=fE(t),[i,a]=dE(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);this.be(c)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ld{constructor(t,e,i,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,fu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new ld(Tt.min(),a,new ge(Pt),Rs(),Lt())}}class fu{constructor(t,e,i,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new fu(i,e,Lt(),Lt(),Lt())}}class bf{constructor(t,e,i,a){this.Se=t,this.removedTargetIds=e,this.key=i,this.De=a}}class U1{constructor(t,e){this.targetId=t,this.Ce=e}}class B1{constructor(t,e,i=en.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class gE{constructor(){this.ve=0,this.Fe=mE(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),e=Lt(),i=Lt();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:Et(38017,{changeType:o})}})),new fu(this.Me,this.xe,t,e,i)}Ke(){this.Oe=!1,this.Fe=mE()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class _O{constructor(t){this.Ge=t,this.ze=new Map,this.je=Rs(),this.He=Xh(),this.Je=Xh(),this.Ze=new ge(Pt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(op(o))if(i===0){const c=new pt(o.path);this.et(e,c,on.newNoDocument(c,Tt.min()))}else Wt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),d=h?this.ct(h,t,c):1;if(d!==0){this.it(e);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=e;let c,h;try{c=xr(i).toUint8Array()}catch(d){if(d instanceof h1)return Da("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Wp(c,a,o)}catch(d){return Da(d instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&op(h.target)){const d=new pt(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,on.newNoDocument(d,t))}o.Be&&(e.set(c,o.ke()),o.Ke())}}));let i=Lt();this.Je.forEach(((o,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const a=new ld(t,e,this.Ze,this.je,i);return this.je=Rs(),this.He=Xh(),this.Je=Xh(),this.Ze=new ge(Pt),a}Ye(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,i),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new gE,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Ue(Pt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Ue(Pt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new gE),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Xh(){return new ge(pt.comparator)}function mE(){return new ge(pt.comparator)}const vO={asc:"ASCENDING",desc:"DESCENDING"},bO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EO={and:"AND",or:"OR"};class TO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function cp(n,t){return n.useProto3Json||nd(t)?t:{value:t}}function zf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function j1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function SO(n,t){return zf(n,t.toTimestamp())}function Qi(n){return Wt(!!n,49232),Tt.fromTimestamp((function(e){const i=wr(e);return new ue(i.seconds,i.nanos)})(n))}function Xp(n,t){return up(n,t).canonicalString()}function up(n,t){const e=(function(a){return new re(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function H1(n){const t=re.fromString(n);return Wt(K1(t),10190,{key:t.toString()}),t}function hp(n,t){return Xp(n.databaseId,t.path)}function km(n,t){const e=H1(t);if(e.get(1)!==n.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new pt(q1(e))}function F1(n,t){return Xp(n.databaseId,t)}function AO(n){const t=H1(n);return t.length===4?re.emptyPath():q1(t)}function fp(n){return new re(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function q1(n){return Wt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function pE(n,t,e){return{name:hp(n,t),fields:e.value.mapValue.fields}}function wO(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Et(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(Wt(y===void 0||typeof y=="string",58123),en.fromBase64String(y||"")):(Wt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),en.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?Z.UNKNOWN:z1(m.code);return new ut(y,m.message||"")})(c);e=new B1(i,a,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=km(n,i.document.name),o=Qi(i.document.updateTime),c=i.document.createTime?Qi(i.document.createTime):Tt.min(),h=new Tn({mapValue:{fields:i.document.fields}}),d=on.newFoundDocument(a,o,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];e=new bf(m,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=km(n,i.document),o=i.readTime?Qi(i.readTime):Tt.min(),c=on.newNoDocument(a,o),h=i.removedTargetIds||[];e=new bf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=km(n,i.document),o=i.removedTargetIds||[];e=new bf([],o,a,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,c=new gO(a,o),h=i.targetId;e=new U1(h,c)}}return e}function xO(n,t){let e;if(t instanceof hu)e={update:pE(n,t.key,t.value)};else if(t instanceof Kp)e={delete:hp(n,t.key)};else if(t instanceof kr)e={update:pE(n,t.key,t.data),updateMask:VO(t.fieldMask)};else{if(!(t instanceof hO))return Et(16599,{dt:t.type});e={verify:hp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof Wc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Xc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof $c)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Lf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Et(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:SO(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Et(27497)})(n,t.precondition)),e}function RO(n,t){return n&&n.length>0?(Wt(t!==void 0,14353),n.map((e=>(function(a,o){let c=a.updateTime?Qi(a.updateTime):Qi(o);return c.isEqual(Tt.min())&&(c=Qi(o)),new lO(c,a.transformResults||[])})(e,t)))):[]}function CO(n,t){return{documents:[F1(n,t.path)]}}function IO(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=F1(n,a);const o=(function(m){if(m.length!==0)return Y1(yi.create(m,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((y=>(function(T){return{field:No(T.field),direction:MO(T.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=cp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:a}}function DO(n){let t=AO(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){Wt(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(v){const T=G1(v);return T instanceof yi&&E1(T)?T.getFilters():[T]})(e.where));let c=[];e.orderBy&&(c=(function(v){return v.map((T=>(function(I){return new Qc(ko(I.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(T)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let T;return T=typeof v=="object"?v.value:v,nd(T)?null:T})(e.limit));let d=null;e.startAt&&(d=(function(v){const T=!!v.before,A=v.values||[];return new Vf(A,T)})(e.startAt));let m=null;return e.endAt&&(m=(function(v){const T=!v.before,A=v.values||[];return new Vf(A,T)})(e.endAt)),YD(t,a,c,o,h,"F",d,m)}function OO(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function G1(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=ko(e.unaryFilter.field);return Ne.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ko(e.unaryFilter.field);return Ne.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ko(e.unaryFilter.field);return Ne.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ko(e.unaryFilter.field);return Ne.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ne.create(ko(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return yi.create(e.compositeFilter.filters.map((i=>G1(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(e.compositeFilter.op))})(n):Et(30097,{filter:n})}function MO(n){return vO[n]}function NO(n){return bO[n]}function kO(n){return EO[n]}function No(n){return{fieldPath:n.canonicalString()}}function ko(n){return tn.fromServerFormat(n.fieldPath)}function Y1(n){return n instanceof Ne?(function(e){if(e.op==="=="){if(iE(e.value))return{unaryFilter:{field:No(e.field),op:"IS_NAN"}};if(nE(e.value))return{unaryFilter:{field:No(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(iE(e.value))return{unaryFilter:{field:No(e.field),op:"IS_NOT_NAN"}};if(nE(e.value))return{unaryFilter:{field:No(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(e.field),op:NO(e.op),value:e.value}}})(n):n instanceof yi?(function(e){const i=e.getFilters().map((a=>Y1(a)));return i.length===1?i[0]:{compositeFilter:{op:kO(e.op),filters:i}}})(n):Et(54877,{filter:n})}function VO(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function K1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function Q1(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class gr{constructor(t,e,i,a,o=Tt.min(),c=Tt.min(),h=en.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class PO{constructor(t){this.yt=t}}function LO(n){const t=DO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pf(t,t.limit,"L"):t}class zO{constructor(){this.Sn=new UO}addToCollectionParentIndex(t,e){return this.Sn.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(Ar.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(Ar.min())}updateCollectionGroup(t,e,i){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class UO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new Ue(re.comparator),o=!a.has(i);return this.index[e]=a.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new Ue(re.comparator)).toArray()}}const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W1=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(W1,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class Ko{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Ko(0)}static ar(){return new Ko(-1)}}const _E="LruGarbageCollector",BO=1048576;function vE([n,t],[e,i]){const a=Pt(n,e);return a===0?Pt(t,i):a}class jO{constructor(t){this.Pr=t,this.buffer=new Ue(vE),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();vE(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class HO{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ht(_E,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){sl(e)?ht(_E,"Ignoring IndexedDB error during garbage collection: ",e):await il(e)}await this.Ar(3e5)}))}}class FO{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return et.resolve(ed.ce);const i=new jO(e);return this.Vr.forEachTarget(t,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(yE)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let i,a,o,c,h,d,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(t,i,e)))).next((v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(m=Date.now(),Oo()<=Vt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v}))))}}function qO(n,t){return new FO(n,t)}class GO{constructor(){this.changes=new Va((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?et.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class YO{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class KO{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&Vc(i.mutation,a,Nn.empty(),ue.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Lt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Lt()){const a=va();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((o=>{let c=Sc();return o.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=va();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Lt())))}populateOverlays(t,e,i){const a=[];return i.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,a){let o=Rs();const c=kc(),h=(function(){return kc()})();return e.forEach(((d,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof kr)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Vc(y.mutation,m,y.mutation.getFieldMask(),ue.now())):c.set(m.key,Nn.empty())})),this.recalculateAndSaveOverlays(t,o).next((d=>(d.forEach(((m,y)=>c.set(m,y))),e.forEach(((m,y)=>h.set(m,new YO(y,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=kc();let a=new ge(((c,h)=>c-h)),o=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=e.get(d);if(m===null)return;let y=i.get(d)||Nn.empty();y=h.applyToLocalView(m,y),i.set(d,y);const v=(a.get(h.batchId)||Lt()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,v=D1();y.forEach((T=>{if(!o.has(T)){const A=P1(e.get(T),i.get(T));A!==null&&v.set(T,A),o=o.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,v))}return et.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return KD(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):w1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-o.size):et.resolve(va());let h=qc,d=o;return c.next((m=>et.forEach(m,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?et.resolve():this.remoteDocumentCache.getEntry(t,y).next((T=>{d=d.insert(y,T)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,d,m,Lt()))).next((y=>({batchId:h,changes:I1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new pt(e)).next((i=>{let a=Sc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const o=e.collectionGroup;let c=Sc();return this.indexManager.getCollectionParents(t,o).next((h=>et.forEach(h,(d=>{const m=(function(v,T){return new rl(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,a).next((y=>{y.forEach(((v,T)=>{c=c.insert(v,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,a)))).next((c=>{o.forEach(((d,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,on.newInvalidDocument(y)))}));let h=Sc();return c.forEach(((d,m)=>{const y=o.get(d);y!==void 0&&Vc(y.mutation,m,Nn.empty(),ue.now()),rd(e,m)&&(h=h.insert(d,m))})),h}))}}class QO{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return et.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Qi(a.createTime)}})(e)),et.resolve()}getNamedQuery(t,e){return et.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:LO(a.bundledQuery),readTime:Qi(a.readTime)}})(e)),et.resolve()}}class WO{constructor(){this.overlays=new ge(pt.comparator),this.Lr=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const i=va();return et.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,o)=>{this.bt(t,e,o)})),et.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),et.resolve()}getOverlaysForCollection(t,e,i){const a=va(),o=e.length+1,c=new pt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&a.set(d.getKey(),d)}return et.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let o=new ge(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=va(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=va(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return et.resolve(h)}bt(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new dO(e,i));let o=this.Lr.get(e);o===void 0&&(o=Lt(),this.Lr.set(e,o)),this.Lr.set(e,o.add(i.key))}}class XO{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,et.resolve()}}class $p{constructor(){this.kr=new Ue(qe.Kr),this.qr=new Ue(qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const i=new qe(t,e);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Wr(new qe(t,e))}Qr(t,e){t.forEach((i=>this.removeReference(i,e)))}Gr(t){const e=new pt(new re([])),i=new qe(e,t),a=new qe(e,t+1),o=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new pt(new re([])),i=new qe(e,t),a=new qe(e,t+1);let o=Lt();return this.qr.forEachInRange([i,a],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new qe(t,0),i=this.kr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class qe{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return pt.comparator(t.key,e.key)||Pt(t.Hr,e.Hr)}static Ur(t,e){return Pt(t.Hr,e.Hr)||pt.comparator(t.key,e.key)}}class $O{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Ue(qe.Kr)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new fO(o,e,i,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new qe(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return et.resolve(c)}lookupMutationBatch(t,e){return et.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.Xr(i),o=a<0?0:a;return et.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Bp:this.Yn-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new qe(e,0),a=new qe(e,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,a],(c=>{const h=this.Zr(c.Hr);o.push(h)})),et.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ue(Pt);return e.forEach((a=>{const o=new qe(a,0),c=new qe(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(h=>{i=i.add(h.Hr)}))})),et.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let o=i;pt.isDocumentKey(o)||(o=o.child(""));const c=new qe(new pt(o),0);let h=new Ue(Pt);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),c),et.resolve(this.Yr(h))}Yr(t){const e=[];return t.forEach((i=>{const a=this.Zr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){Wt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return et.forEach(e.mutations,(a=>{const o=new qe(a.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,e){const i=new qe(e,0),a=this.Jr.firstAfterOrEqual(i);return et.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class JO{constructor(t){this.ti=t,this.docs=(function(){return new ge(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),o=a?a.size:0,c=this.ti(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return et.resolve(i?i.document.mutableCopy():on.newInvalidDocument(e))}getEntries(t,e){let i=Rs();return e.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():on.newInvalidDocument(a))})),et.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let o=Rs();const c=e.path,h=new pt(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||SD(TD(y),i)<=0||(a.has(y.key)||rd(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return et.resolve(o)}getAllFromCollectionGroup(t,e,i,a){Et(9500)}ni(t,e){return et.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new ZO(this)}getSize(t){return et.resolve(this.size)}}class ZO extends GO{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(i)})),et.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class tM{constructor(t){this.persistence=t,this.ri=new Va((e=>Fp(e)),qp),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new $p,this.targetCount=0,this.oi=Ko._r()}forEachTarget(t,e){return this.ri.forEach(((i,a)=>e(a))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ii&&(this.ii=e),et.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Ko(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.lr(e),et.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,i){let a=0;const o=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),et.waitFor(o).next((()=>a))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const i=this.ri.get(e)||null;return et.resolve(i)}addMatchingKeys(t,e,i){return this.si.$r(e,i),et.resolve()}removeMatchingKeys(t,e,i){this.si.Qr(e,i);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((c=>{o.push(a.markPotentiallyOrphaned(t,c))})),et.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),et.resolve()}getMatchingKeysForTargetId(t,e){const i=this.si.jr(e);return et.resolve(i)}containsKey(t,e){return et.resolve(this.si.containsKey(e))}}class X1{constructor(t,e){this._i={},this.overlays={},this.ai=new ed(0),this.ui=!1,this.ui=!0,this.ci=new XO,this.referenceDelegate=t(this),this.li=new tM(this),this.indexManager=new zO,this.remoteDocumentCache=(function(a){return new JO(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new PO(e),this.Pi=new QO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new WO,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this._i[t.toKey()];return i||(i=new $O(e,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,i){ht("MemoryPersistence","Starting transaction:",t);const a=new eM(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(t,e){return et.or(Object.values(this._i).map((i=>()=>i.containsKey(t,e))))}}class eM extends wD{constructor(t){super(),this.currentSequenceNumber=t}}class Jp{constructor(t){this.persistence=t,this.Ri=new $p,this.Ai=null}static Vi(t){return new Jp(t)}get di(){if(this.Ai)return this.Ai;throw Et(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.di.delete(i.toString()),et.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.di.add(i.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),et.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.di,(i=>{const a=pt.fromPath(i);return this.mi(t,a).next((o=>{o||e.removeEntry(a,Tt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return et.or([()=>et.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Uf{constructor(t,e){this.persistence=t,this.fi=new Va((i=>CD(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=qO(this,e)}static Vi(t,e){return new Uf(t,e)}Ti(){}Ii(t){return et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}mr(t,e){return et.forEach(this.fi,((i,a)=>this.wr(t,i,a).next((o=>o?et.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(t,(c=>this.wr(t,c,e).next((h=>{h||(i++,o.removeEntry(c,Tt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),et.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),et.resolve()}removeReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),et.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=yf(t.data.value)),e}wr(t,e,i){return et.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return et.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Zp{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Ts=i,this.Is=a}static Es(t,e){let i=Lt(),a=Lt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Zp(t,e.fromCache,i,a)}}class nM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class iM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return CR()?8:xD(cn())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const o={result:null};return this.gs(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(t,e,a,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new nM;return this.ys(t,e,c).next((h=>{if(o.result=h,this.As)return this.ws(t,e,c,h.size)}))})).next((()=>o.result))}ws(t,e,i,a){return i.documentReadCount<this.Vs?(Oo()<=Vt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Mo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),et.resolve()):(Oo()<=Vt.DEBUG&&ht("QueryEngine","Query:",Mo(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Oo()<=Vt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Mo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ki(e))):et.resolve())}gs(t,e){if(oE(e))return et.resolve(null);let i=Ki(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Pf(e,null,"F"),i=Ki(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Lt(...o);return this.fs.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((d=>{const m=this.bs(e,h);return this.Ss(e,m,c,d.readTime)?this.gs(t,Pf(e,null,"F")):this.Ds(t,m,e,d)}))))})))))}ps(t,e,i,a){return oE(e)||a.isEqual(Tt.min())?et.resolve(null):this.fs.getDocuments(t,i).next((o=>{const c=this.bs(e,o);return this.Ss(e,c,i,a)?et.resolve(null):(Oo()<=Vt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Mo(e)),this.Ds(t,c,e,ED(a,qc)).next((h=>h)))}))}bs(t,e){let i=new Ue(R1(t));return e.forEach(((a,o)=>{rd(t,o)&&(i=i.add(o))})),i}Ss(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(t,e,i){return Oo()<=Vt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Mo(e)),this.fs.getDocumentsMatchingQuery(t,e,Ar.min(),i)}Ds(t,e,i,a){return this.fs.getDocumentsMatchingQuery(t,i,a).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const ty="LocalStore",sM=3e8;class rM{constructor(t,e,i,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new ge(Pt),this.Fs=new Va((o=>Fp(o)),qp),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new KO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function aM(n,t,e,i){return new rM(n,t,e,i)}async function $1(n,t){const e=At(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,e.Os(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let d=Lt();for(const m of a){c.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return e.localDocuments.getDocuments(i,d).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function oM(n,t){const e=At(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),o=e.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,y){const v=m.batch,T=v.keys();let A=et.resolve();return T.forEach((I=>{A=A.next((()=>y.getEntry(d,I))).next((O=>{const N=m.docVersions.get(I);Wt(N!==null,48541),O.version.compareTo(N)<0&&(v.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),y.addEntry(O)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Lt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function J1(n){const t=At(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function lM(n,t){const e=At(n),i=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const h=[];t.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;h.push(e.li.removeMatchingKeys(o,y.removedDocuments,v).next((()=>e.li.addMatchingKeys(o,y.addedDocuments,v))));let A=T.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?A=A.withResumeToken(en.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),a=a.insert(v,A),(function(O,N,B){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=sM?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(T,A,y)&&h.push(e.li.updateTargetData(o,A))}));let d=Rs(),m=Lt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(cM(o,c,t.documentUpdates).next((y=>{d=y.Bs,m=y.Ls}))),!i.isEqual(Tt.min())){const y=e.li.getLastRemoteSnapshotVersion(o).next((v=>e.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return et.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,d,m))).next((()=>d))})).then((o=>(e.vs=a,o)))}function cM(n,t,e){let i=Lt(),a=Lt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=Rs();return e.forEach(((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Tt.min())?(t.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(d),c=c.insert(h,d)):ht(ty,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:c,Ls:a}}))}function uM(n,t){const e=At(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Bp),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function hM(n,t){const e=At(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.li.getTargetData(i,t).next((o=>o?(a=o,et.resolve(a)):e.li.allocateTargetId(i).next((c=>(a=new gr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(i.targetId,i),e.Fs.set(t,i.targetId)),i}))}async function dp(n,t,e){const i=At(n),a=i.vs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!sl(c))throw c;ht(ty,`Failed to update sequence numbers for target ${t}: ${c}`)}i.vs=i.vs.remove(t),i.Fs.delete(a.target)}function bE(n,t,e){const i=At(n);let a=Tt.min(),o=Lt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,y){const v=At(d),T=v.Fs.get(y);return T!==void 0?et.resolve(v.vs.get(T)):v.li.getTargetData(m,y)})(i,c,Ki(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{o=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,t,e?a:Tt.min(),e?o:Lt()))).next((h=>(fM(i,XD(t),h),{documents:h,ks:o})))))}function fM(n,t,e){let i=n.Ms.get(t)||Tt.min();e.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Ms.set(t,i)}class EE{constructor(){this.activeTargetIds=nO()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dM{constructor(){this.vo=new EE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,i){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new EE,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class gM{Mo(t){}shutdown(){}}const TE="ConnectivityMonitor";class SE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ht(TE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ht(TE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $h=null;function gp(){return $h===null?$h=(function(){return 268435456+Math.round(2147483648*Math.random())})():$h++,"0x"+$h.toString(16)}const Vm="RestConnection",mM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class pM{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Nf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(t,e,i,a,o){const c=gp(),h=this.Qo(t,e.toUriEncodedString());ht(Vm,`Sending RPC '${t}' ${c}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,o);const{host:m}=new URL(h),y=Zo(m);return this.zo(t,h,d,i,y).then((v=>(ht(Vm,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw Da(Vm,`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",i),v}))}jo(t,e,i,a,o,c){return this.Wo(t,e,i,a,o)}Go(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),i&&i.headers.forEach(((a,o)=>t[o]=a))}Qo(t,e){const i=mM[t];let a=`${this.qo}/v1/${e}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class yM{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const sn="WebChannelConnection",gc=(n,t,e)=>{n.listen(t,(i=>{try{e(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Uo extends pM{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Uo.c_){const t=i1();gc(t,n1.STAT_EVENT,(e=>{e.stat===np.PROXY?ht(sn,"STAT_EVENT: detected buffering proxy"):e.stat===np.NOPROXY&&ht(sn,"STAT_EVENT: detected no buffering proxy")})),Uo.c_=!0}}zo(t,e,i,a,o){const c=gp();return new Promise(((h,d)=>{const m=new t1;m.setWithCredentials(!0),m.listenOnce(e1.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case pf.NO_ERROR:const v=m.getResponseJson();ht(sn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),h(v);break;case pf.TIMEOUT:ht(sn,`RPC '${t}' ${c} timed out`),d(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case pf.HTTP_ERROR:const T=m.getStatus();if(ht(sn,`RPC '${t}' ${c} failed with status:`,T,"response text:",m.getResponseText()),T>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A?.error;if(I&&I.status&&I.message){const O=(function(B){const tt=B.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(tt)>=0?tt:Z.UNKNOWN})(I.status);d(new ut(O,I.message))}else d(new ut(Z.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ht(sn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ht(sn,`RPC '${t}' ${c} sending request:`,a),m.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=gp(),o=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const m=o.join("");ht(sn,`Creating RPC '${t}' stream ${a}: ${m}`,h);const y=c.createWebChannel(m,h);this.I_(y);let v=!1,T=!1;const A=new yM({Ho:I=>{T?ht(sn,`Not sending because RPC '${t}' stream ${a} is closed:`,I):(v||(ht(sn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),v=!0),ht(sn,`RPC '${t}' stream ${a} sending:`,I),y.send(I))},Jo:()=>y.close()});return gc(y,Tc.EventType.OPEN,(()=>{T||(ht(sn,`RPC '${t}' stream ${a} transport opened.`),A.i_())})),gc(y,Tc.EventType.CLOSE,(()=>{T||(T=!0,ht(sn,`RPC '${t}' stream ${a} transport closed`),A.o_(),this.E_(y))})),gc(y,Tc.EventType.ERROR,(I=>{T||(T=!0,Da(sn,`RPC '${t}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),A.o_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))})),gc(y,Tc.EventType.MESSAGE,(I=>{if(!T){const O=I.data[0];Wt(!!O,16349);const N=O,B=N?.error||N[0]?.error;if(B){ht(sn,`RPC '${t}' stream ${a} received error:`,B);const tt=B.status;let nt=(function(st){const R=Me[st];if(R!==void 0)return z1(R)})(tt),rt=B.message;tt==="NOT_FOUND"&&rt.includes("database")&&rt.includes("does not exist")&&rt.includes(this.databaseId.database)&&Da(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),nt===void 0&&(nt=Z.INTERNAL,rt="Unknown error status: "+tt+" with message "+B.message),T=!0,A.o_(new ut(nt,rt)),y.close()}else ht(sn,`RPC '${t}' stream ${a} received:`,O),A.__(O)}})),Uo.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,i){super.Go(t,e,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return s1()}}function _M(n){return new Uo(n)}function Pm(){return typeof document<"u"?document:null}function cd(n){return new TO(n,!0)}Uo.c_=!1;class Z1{constructor(t,e,i=1e3,a=1.5,o=6e4){this.Ci=t,this.timerId=e,this.R_=i,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const AE="PersistentStream";class tA{constructor(t,e,i,a,o,c,h,d){this.Ci=t,this.b_=i,this.S_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z1(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Z.RESOURCE_EXHAUSTED?(xs(e.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new ut(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(AE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ht(AE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vM extends tA{constructor(t,e,i,a,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=wO(this.serializer,t),i=(function(o){if(!("targetChange"in o))return Tt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Tt.min():c.readTime?Qi(c.readTime):Tt.min()})(t);return this.listener.J_(e,i)}Z_(t){const e={};e.database=fp(this.serializer),e.addTarget=(function(o,c){let h;const d=c.target;if(h=op(d)?{documents:CO(o,d)}:{query:IO(o,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=j1(o,c.resumeToken);const m=cp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Tt.min())>0){h.readTime=zf(o,c.snapshotVersion.toTimestamp());const m=cp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const i=OO(this.serializer,t);i&&(e.labels=i),this.K_(e)}X_(t){const e={};e.database=fp(this.serializer),e.removeTarget=t,this.K_(e)}}class bM extends tA{constructor(t,e,i,a,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=RO(t.writeResults,t.commitTime),i=Qi(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=fp(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>xO(this.serializer,i)))};this.K_(e)}}class EM{}class TM extends EM{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(t,up(e,i),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ut(Z.UNKNOWN,o.toString())}))}jo(t,e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(t,up(e,i),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(Z.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function SM(n,t,e,i){return new TM(n,t,e,i)}class AM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(e),this.aa=!1):ht("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Oa="RemoteStore";class wM{constructor(t,e,i,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{Pa(this)&&(ht(Oa,"Restarting streams for network reachability change."),await(async function(d){const m=At(d);m.Ea.add(4),await du(m),m.Va.set("Unknown"),m.Ea.delete(4),await ud(m)})(this))}))})),this.Va=new AM(i,a)}}async function ud(n){if(Pa(n))for(const t of n.Ra)await t(!0)}async function du(n){for(const t of n.Ra)await t(!1)}function eA(n,t){const e=At(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),sy(e)?iy(e):al(e).O_()&&ny(e,t))}function ey(n,t){const e=At(n),i=al(e);e.Ia.delete(t),i.O_()&&nA(e,t),e.Ia.size===0&&(i.O_()?i.L_():Pa(e)&&e.Va.set("Unknown"))}function ny(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}al(n).Z_(t)}function nA(n,t){n.da.$e(t),al(n).X_(t)}function iy(n){n.da=new _O({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),al(n).start(),n.Va.ua()}function sy(n){return Pa(n)&&!al(n).x_()&&n.Ia.size>0}function Pa(n){return At(n).Ea.size===0}function iA(n){n.da=void 0}async function xM(n){n.Va.set("Online")}async function RM(n){n.Ia.forEach(((t,e)=>{ny(n,t)}))}async function CM(n,t){iA(n),sy(n)?(n.Va.ha(t),iy(n)):n.Va.set("Unknown")}async function IM(n,t,e){if(n.Va.set("Online"),t instanceof B1&&t.state===2&&t.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(n,t)}catch(i){ht(Oa,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Bf(n,i)}else if(t instanceof bf?n.da.Xe(t):t instanceof U1?n.da.st(t):n.da.tt(t),!e.isEqual(Tt.min()))try{const i=await J1(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.da.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const y=o.Ia.get(d);if(!y)return;o.Ia.set(d,y.withResumeToken(en.EMPTY_BYTE_STRING,y.snapshotVersion)),nA(o,d);const v=new gr(y.target,d,m,y.sequenceNumber);ny(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ht(Oa,"Failed to raise snapshot:",i),await Bf(n,i)}}async function Bf(n,t,e){if(!sl(t))throw t;n.Ea.add(1),await du(n),n.Va.set("Offline"),e||(e=()=>J1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ht(Oa,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await ud(n)}))}function sA(n,t){return t().catch((e=>Bf(n,e,t)))}async function hd(n){const t=At(n),e=Cr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Bp;for(;DM(t);)try{const a=await uM(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,OM(t,a)}catch(a){await Bf(t,a)}rA(t)&&aA(t)}function DM(n){return Pa(n)&&n.Ta.length<10}function OM(n,t){n.Ta.push(t);const e=Cr(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function rA(n){return Pa(n)&&!Cr(n).x_()&&n.Ta.length>0}function aA(n){Cr(n).start()}async function MM(n){Cr(n).ra()}async function NM(n){const t=Cr(n);for(const e of n.Ta)t.ea(e.mutations)}async function kM(n,t,e){const i=n.Ta.shift(),a=Qp.from(i,t,e);await sA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await hd(n)}async function VM(n,t){t&&Cr(n).Y_&&await(async function(i,a){if((function(c){return mO(c)&&c!==Z.ABORTED})(a.code)){const o=i.Ta.shift();Cr(i).B_(),await sA(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await hd(i)}})(n,t),rA(n)&&aA(n)}async function wE(n,t){const e=At(n);e.asyncQueue.verifyOperationInProgress(),ht(Oa,"RemoteStore received new credentials");const i=Pa(e);e.Ea.add(3),await du(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await ud(e)}async function PM(n,t){const e=At(n);t?(e.Ea.delete(2),await ud(e)):t||(e.Ea.add(2),await du(e),e.Va.set("Unknown"))}function al(n){return n.ma||(n.ma=(function(e,i,a){const o=At(e);return o.sa(),new vM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:xM.bind(null,n),Yo:RM.bind(null,n),t_:CM.bind(null,n),J_:IM.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),sy(n)?iy(n):n.Va.set("Unknown")):(await n.ma.stop(),iA(n))}))),n.ma}function Cr(n){return n.fa||(n.fa=(function(e,i,a){const o=At(e);return o.sa(),new bM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:MM.bind(null,n),t_:VM.bind(null,n),ta:NM.bind(null,n),na:kM.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await hd(n)):(await n.fa.stop(),n.Ta.length>0&&(ht(Oa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class ry{constructor(t,e,i,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,o){const c=Date.now()+i,h=new ry(t,e,c,a,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ay(n,t){if(xs("AsyncQueue",`${t}: ${n}`),sl(n))return new ut(Z.UNAVAILABLE,`${t}: ${n}`);throw n}class Bo{static emptySet(t){return new Bo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||pt.comparator(e.key,i.key):(e,i)=>pt.comparator(e.key,i.key),this.keyedMap=Sc(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Bo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Bo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class xE{constructor(){this.ga=new ge(pt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Et(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Qo{constructor(t,e,i,a,o,c,h,d,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,a,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new Qo(t,e,Bo.emptySet(e),c,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class LM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class zM{constructor(){this.queries=RE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=At(e),o=a.queries;a.queries=RE(),o.forEach(((c,h)=>{for(const d of h.ba)d.onError(i)}))})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function RE(){return new Va((n=>x1(n)),sd)}async function UM(n,t){const e=At(n);let i=3;const a=t.query;let o=e.queries.get(a);o?!o.Sa()&&t.Da()&&(i=2):(o=new LM,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const h=ay(c,`Initialization of query '${Mo(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.ba.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&oy(e)}async function BM(n,t){const e=At(n),i=t.query;let a=3;const o=e.queries.get(i);if(o){const c=o.ba.indexOf(t);c>=0&&(o.ba.splice(c,1),o.ba.length===0?a=t.Da()?0:1:!o.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function jM(n,t){const e=At(n);let i=!1;for(const a of t){const o=a.query,c=e.queries.get(o);if(c){for(const h of c.ba)h.Fa(a)&&(i=!0);c.wa=a}}i&&oy(e)}function HM(n,t,e){const i=At(n),a=i.queries.get(t);if(a)for(const o of a.ba)o.onError(e);i.queries.delete(t)}function oy(n){n.Ca.forEach((t=>{t.next()}))}var mp,CE;(CE=mp||(mp={})).Ma="default",CE.Cache="cache";class FM{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Qo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Qo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mp.Cache}}class oA{constructor(t){this.key=t}}class lA{constructor(t){this.key=t}}class qM{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.eu=R1(t),this.tu=new Bo(this.eu)}get nu(){return this.Za}ru(t,e){const i=e?e.iu:new xE,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const T=a.get(y),A=rd(this.query,v)?v:null,I=!!T&&this.mutatedKeys.has(T.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let N=!1;T&&A?T.data.isEqual(A.data)?I!==O&&(i.track({type:3,doc:A}),N=!0):this.su(T,A)||(i.track({type:2,doc:A}),N=!0,(d&&this.eu(A,d)>0||m&&this.eu(A,m)<0)&&(h=!0)):!T&&A?(i.track({type:0,doc:A}),N=!0):T&&!A&&(i.track({type:1,doc:T}),N=!0,(d||m)&&(h=!0)),N&&(A?(c=c.add(A),o=O?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Ss:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(A,I){const O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:N})}};return O(A)-O(I)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,c.length!==0||m?{snapshot:new Qo(this.query,t.tu,o,c,t.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const e=[];return t.forEach((i=>{this.Ya.has(i)||e.push(new lA(i))})),this.Ya.forEach((i=>{t.has(i)||e.push(new oA(i))})),e}cu(t){this.Za=t.ks,this.Ya=Lt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ly="SyncEngine";class GM{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class YM{constructor(t){this.key=t,this.hu=!1}}class KM{constructor(t,e,i,a,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Va((h=>x1(h)),sd),this.Iu=new Map,this.Eu=new Set,this.Ru=new ge(pt.comparator),this.Au=new Map,this.Vu=new $p,this.du={},this.mu=new Map,this.fu=Ko.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QM(n,t,e=!0){const i=gA(n);let a;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await cA(i,t,e,!0),a}async function WM(n,t){const e=gA(n);await cA(e,t,!0,!1)}async function cA(n,t,e,i){const a=await hM(n.localStore,Ki(t)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await XM(n,t,o,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&eA(n.remoteStore,a),h}async function XM(n,t,e,i,a){n.pu=(v,T,A)=>(async function(O,N,B,tt){let nt=N.view.ru(B);nt.Ss&&(nt=await bE(O.localStore,N.query,!1).then((({documents:R})=>N.view.ru(R,nt))));const rt=tt&&tt.targetChanges.get(N.targetId),Q=tt&&tt.targetMismatches.get(N.targetId)!=null,st=N.view.applyChanges(nt,O.isPrimaryClient,rt,Q);return DE(O,N.targetId,st.au),st.snapshot})(n,v,T,A);const o=await bE(n.localStore,t,!0),c=new qM(t,o.ks),h=c.ru(o.documents),d=fu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),m=c.applyChanges(h,n.isPrimaryClient,d);DE(n,e,m.au);const y=new GM(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function $M(n,t,e){const i=At(n),a=i.Tu.get(t),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((c=>!sd(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await dp(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&ey(i.remoteStore,a.targetId),pp(i,a.targetId)})).catch(il)):(pp(i,a.targetId),await dp(i.localStore,a.targetId,!0))}async function JM(n,t){const e=At(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),ey(e.remoteStore,i.targetId))}async function ZM(n,t,e){const i=aN(n);try{const a=await(function(c,h){const d=At(c),m=ue.now(),y=h.reduce(((A,I)=>A.add(I.key)),Lt());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let I=Rs(),O=Lt();return d.xs.getEntries(A,y).next((N=>{I=N,I.forEach(((B,tt)=>{tt.isValidDocument()||(O=O.add(B))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,I))).next((N=>{v=N;const B=[];for(const tt of h){const nt=uO(tt,v.get(tt.key).overlayedDocument);nt!=null&&B.push(new kr(tt.key,nt,_1(nt.value.mapValue),gi.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,B,h)})).next((N=>{T=N;const B=N.applyToLocalDocumentSet(v,O);return d.documentOverlayCache.saveOverlays(A,N.batchId,B)}))})).then((()=>({batchId:T.batchId,changes:I1(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.du[c.currentUser.toKey()];m||(m=new ge(Pt)),m=m.insert(h,d),c.du[c.currentUser.toKey()]=m})(i,a.batchId,e),await gu(i,a.changes),await hd(i.remoteStore)}catch(a){const o=ay(a,"Failed to persist write");e.reject(o)}}async function uA(n,t){const e=At(n);try{const i=await lM(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const c=e.Au.get(o);c&&(Wt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Wt(c.hu,14607):a.removedDocuments.size>0&&(Wt(c.hu,42227),c.hu=!1))})),await gu(e,i,t)}catch(i){await il(i)}}function IE(n,t,e){const i=At(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=At(c);d.onlineState=h;let m=!1;d.queries.forEach(((y,v)=>{for(const T of v.ba)T.va(h)&&(m=!0)})),m&&oy(d)})(i.eventManager,t),a.length&&i.Pu.J_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function tN(n,t,e){const i=At(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),o=a&&a.key;if(o){let c=new ge(pt.comparator);c=c.insert(o,on.newNoDocument(o,Tt.min()));const h=Lt().add(o),d=new ld(Tt.min(),new Map,new ge(Pt),c,h);await uA(i,d),i.Ru=i.Ru.remove(o),i.Au.delete(t),cy(i)}else await dp(i.localStore,t,!1).then((()=>pp(i,t,e))).catch(il)}async function eN(n,t){const e=At(n),i=t.batch.batchId;try{const a=await oM(e.localStore,t);fA(e,i,null),hA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await gu(e,a)}catch(a){await il(a)}}async function nN(n,t,e){const i=At(n);try{const a=await(function(c,h){const d=At(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next((v=>(Wt(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(m,v)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>d.localDocuments.getDocuments(m,y)))}))})(i.localStore,t);fA(i,t,e),hA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await gu(i,a)}catch(a){await il(a)}}function hA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function fA(n,t,e){const i=At(n);let a=i.du[i.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),i.du[i.currentUser.toKey()]=a}}function pp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((i=>{n.Vu.containsKey(i)||dA(n,i)}))}function dA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(ey(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),cy(n))}function DE(n,t,e){for(const i of e)i instanceof oA?(n.Vu.addReference(i.key,t),iN(n,i)):i instanceof lA?(ht(ly,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,t),n.Vu.containsKey(i.key)||dA(n,i.key)):Et(19791,{wu:i})}function iN(n,t){const e=t.key,i=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(i)||(ht(ly,"New document in limbo: "+e),n.Eu.add(i),cy(n))}function cy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new pt(re.fromString(t)),i=n.fu.next();n.Au.set(i,new YM(e)),n.Ru=n.Ru.insert(e,i),eA(n.remoteStore,new gr(Ki(Gp(e.path)),i,"TargetPurposeLimboResolution",ed.ce))}}async function gu(n,t,e){const i=At(n),a=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{c.push(i.pu(d,t,e).then((m=>{if((m||e)&&i.isPrimaryClient){const y=m?!m.fromCache:e?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(m){a.push(m);const y=Zp.Es(d.targetId,m);o.push(y)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(d,m){const y=At(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>et.forEach(m,(T=>et.forEach(T.Ts,(A=>y.persistence.referenceDelegate.addReference(v,T.targetId,A))).next((()=>et.forEach(T.Is,(A=>y.persistence.referenceDelegate.removeReference(v,T.targetId,A)))))))))}catch(v){if(!sl(v))throw v;ht(ty,"Failed to update sequence numbers: "+v)}for(const v of m){const T=v.targetId;if(!v.fromCache){const A=y.vs.get(T),I=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(I);y.vs=y.vs.insert(T,O)}}})(i.localStore,o))}async function sN(n,t){const e=At(n);if(!e.currentUser.isEqual(t)){ht(ly,"User change. New user:",t.toKey());const i=await $1(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new ut(Z.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await gu(e,i.Ns)}}function rN(n,t){const e=At(n),i=e.Au.get(t);if(i&&i.hu)return Lt().add(i.key);{let a=Lt();const o=e.Iu.get(t);if(!o)return a;for(const c of o){const h=e.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function gA(n){const t=At(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=uA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tN.bind(null,t),t.Pu.J_=jM.bind(null,t.eventManager),t.Pu.yu=HM.bind(null,t.eventManager),t}function aN(n){const t=At(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=eN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nN.bind(null,t),t}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=cd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return aM(this.persistence,new iM,t.initialUser,this.serializer)}Cu(t){return new X1(Jp.Vi,this.serializer)}Du(t){return new dM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class oN extends jf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Wt(this.persistence.referenceDelegate instanceof Uf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new HO(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new X1((i=>Uf.Vi(i,e)),this.serializer)}}class yp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>IE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sN.bind(null,this.syncEngine),await PM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new zM})()}createDatastore(t){const e=cd(t.databaseInfo.databaseId),i=_M(t.databaseInfo);return SM(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,o,c,h){return new wM(i,a,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>IE(this.syncEngine,e,0)),(function(){return SE.v()?new SE:new gM})())}createSyncEngine(t,e){return(function(a,o,c,h,d,m,y){const v=new KM(a,o,c,h,d,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=At(e);ht(Oa,"RemoteStore shutting down."),i.Ea.add(5),await du(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yp.provider={build:()=>new yp};class lN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):xs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Ir="FirestoreClient";class cN{constructor(t,e,i,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this._databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ht(Ir,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ht(Ir,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=ay(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Lm(n,t){n.asyncQueue.verifyOperationInProgress(),ht(Ir,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await $1(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function OE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await uN(n);ht(Ir,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>wE(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>wE(t.remoteStore,a))),n._onlineComponents=t}async function uN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(Ir,"Using user provided OfflineComponentProvider");try{await Lm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Da("Error using user provided cache. Falling back to memory cache: "+e),await Lm(n,new jf)}}else ht(Ir,"Using default OfflineComponentProvider"),await Lm(n,new oN(void 0));return n._offlineComponents}async function mA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(Ir,"Using user provided OnlineComponentProvider"),await OE(n,n._uninitializedComponentsProvider._online)):(ht(Ir,"Using default OnlineComponentProvider"),await OE(n,new yp))),n._onlineComponents}function hN(n){return mA(n).then((t=>t.syncEngine))}async function ME(n){const t=await mA(n),e=t.eventManager;return e.onListen=QM.bind(null,t.syncEngine),e.onUnlisten=$M.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=WM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=JM.bind(null,t.syncEngine),e}function fN(n,t,e,i){const a=new lN(i),o=new FM(t,a,e);return n.asyncQueue.enqueueAndForget((async()=>UM(await ME(n),o))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>BM(await ME(n),o)))}}function dN(n,t){const e=new Ta;return n.asyncQueue.enqueueAndForget((async()=>ZM(await hN(n),t,e))),e.promise}function pA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const gN="ComponentProvider",NE=new Map;function mN(n,t,e,i,a){return new OD(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,pA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const yA="firestore.googleapis.com",kE=!0;class VE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yA,this.ssl=kE}else this.host=t.host,this.ssl=t.ssl??kE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=W1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<BO)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}bD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pA(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fd{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new uD;switch(i.type){case"firstParty":return new gD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=NE.get(e);i&&(ht(gN,"Removing Datastore"),NE.delete(e),i.terminate())})(this),Promise.resolve()}}function pN(n,t,e,i={}){n=Er(n,fd);const a=Zo(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(hS(`https://${h}`),fS("Firestore",!0)),o.host!==yA&&o.host!==h&&Da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:i};if(!wa(d,c)&&(n._setSettings(d),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=an.MOCK_USER;else{m=vR(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new an(v)}n._authCredentials=new hD(new a1(m,y))}}class Vr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Vr(this.firestore,t,this._query)}}class Ve{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(uu(e,Ve._jsonSchema))return new Ve(t,i||null,new pt(re.fromString(e.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:ke("string",Ve._jsonSchemaVersion),referencePath:ke("string")};class Tr extends Vr{constructor(t,e,i){super(t,e,Gp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new pt(t))}withConverter(t){return new Tr(this.firestore,t,this._path)}}function _A(n,t,...e){if(n=Be(n),o1("collection","path",t),n instanceof fd){const i=re.fromString(t,...e);return Kb(i),new Tr(n,null,i)}{if(!(n instanceof Ve||n instanceof Tr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(re.fromString(t,...e));return Kb(i),new Tr(n.firestore,null,i)}}function uy(n,t,...e){if(n=Be(n),arguments.length===1&&(t=Up.newId()),o1("doc","path",t),n instanceof fd){const i=re.fromString(t,...e);return Yb(i),new Ve(n,null,new pt(i))}{if(!(n instanceof Ve||n instanceof Tr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(re.fromString(t,...e));return Yb(i),new Ve(n.firestore,n instanceof Tr?n.converter:null,new pt(i))}}const PE="AsyncQueue";class LE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z1(this,"async_queue_retry"),this._c=()=>{const i=Pm();i&&ht(PE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Pm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Pm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!sl(t))throw t;ht(PE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",zE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=ry.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Et(47125,{Pc:zE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function zE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Wo extends fd{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new LE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new LE(t),this._firestoreClient=void 0,await t}}}function yN(n,t){const e=typeof n=="object"?n:pS(),i=typeof n=="string"?n:Nf,a=Ip(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=yR("firestore");o&&pN(a,...o)}return a}function vA(n){if(n._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_N(n),n._firestoreClient}function _N(n){const t=n._freezeSettings(),e=mN(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new cN(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class Wn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wn(en.fromBase64String(t))}catch(e){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Wn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(uu(t,Wn._jsonSchema))return Wn.fromBase64String(t.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:ke("string",Wn._jsonSchemaVersion),bytes:ke("string")};class hy{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class dd{constructor(t){this._methodName=t}}class Wi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(t){if(uu(t,Wi._jsonSchema))return new Wi(t.latitude,t.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:ke("string",Wi._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};class mi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(uu(t,mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new mi(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:ke("string",mi._jsonSchemaVersion),vectorValues:ke("object")};const vN=/^__.*__$/;class bN{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new kr(t,this.data,this.fieldMask,e,this.fieldTransforms):new hu(t,this.data,e,this.fieldTransforms)}}class bA{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new kr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function EA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{dataSource:n})}}class fy{constructor(t,e,i,a,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new fy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Hf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(EA(this.dataSource)&&vN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class EN{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||cd(t)}createContext(t,e,i,a=!1){return new fy({dataSource:t,methodName:e,targetDoc:i,path:tn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dy(n){const t=n._freezeSettings(),e=cd(n._databaseId);return new EN(n._databaseId,!!t.ignoreUndefinedProperties,e)}function TN(n,t,e,i,a,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,t,e,a);my("Data must be an object, but it was:",c,i);const h=TA(i,c);let d,m;if(o.merge)d=new Nn(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const T=Ma(t,v,e);if(!c.contains(T))throw new ut(Z.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);wA(y,T)||y.push(T)}d=new Nn(y),m=c.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,m=c.fieldTransforms;return new bN(new Tn(h),d,m)}class gd extends dd{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gd}}class gy extends dd{_toFieldTransform(t){return new aO(t.path,new Wc)}isEqual(t){return t instanceof gy}}function SN(n,t,e,i){const a=n.createContext(1,t,e);my("Data must be an object, but it was:",a,i);const o=[],c=Tn.empty();Nr(i,((d,m)=>{const y=AA(t,d,e);m=Be(m);const v=a.childContextForFieldPath(y);if(m instanceof gd)o.push(y);else{const T=mu(m,v);T!=null&&(o.push(y),c.set(y,T))}}));const h=new Nn(o);return new bA(c,h,a.fieldTransforms)}function AN(n,t,e,i,a,o){const c=n.createContext(1,t,e),h=[Ma(t,i,e)],d=[a];if(o.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)h.push(Ma(t,o[T])),d.push(o[T+1]);const m=[],y=Tn.empty();for(let T=h.length-1;T>=0;--T)if(!wA(m,h[T])){const A=h[T];let I=d[T];I=Be(I);const O=c.childContextForFieldPath(A);if(I instanceof gd)m.push(A);else{const N=mu(I,O);N!=null&&(m.push(A),y.set(A,N))}}const v=new Nn(m);return new bA(y,v,c.fieldTransforms)}function wN(n,t,e,i=!1){return mu(e,n.createContext(i?4:3,t))}function mu(n,t){if(SA(n=Be(n)))return my("Unsupported field value:",t,n),TA(n,t);if(n instanceof dd)return(function(i,a){if(!EA(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,a){const o=[];let c=0;for(const h of i){let d=mu(h,a.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,a){if((i=Be(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return iO(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ue.fromDate(i);return{timestampValue:zf(a.serializer,o)}}if(i instanceof ue){const o=new ue(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zf(a.serializer,o)}}if(i instanceof Wi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wn)return{bytesValue:j1(a.serializer,i._byteString)};if(i instanceof Ve){const o=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Xp(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof mi)return(function(c,h){const d=c instanceof mi?c.toArray():c;return{mapValue:{fields:{[p1]:{stringValue:y1},[kf]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return Yp(h.serializer,y)}))}}}}}})(i,a);if(Q1(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${td(i)}`)})(n,t)}function TA(n,t){const e={};return u1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nr(n,((i,a)=>{const o=mu(a,t.childContextForField(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function SA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ue||n instanceof Wi||n instanceof Wn||n instanceof Ve||n instanceof dd||n instanceof mi||Q1(n))}function my(n,t,e){if(!SA(e)||!l1(e)){const i=td(e);throw i==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+i)}}function Ma(n,t,e){if((t=Be(t))instanceof hy)return t._internalPath;if(typeof t=="string")return AA(n,t);throw Hf("Field path arguments must be of type string or ",n,!1,void 0,e)}const xN=new RegExp("[~\\*/\\[\\]]");function AA(n,t,e){if(t.search(xN)>=0)throw Hf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new hy(...t.split("."))._internalPath}catch{throw Hf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Hf(n,t,e,i,a){const o=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${i}`),c&&(d+=` in document ${a}`),d+=")"),new ut(Z.INVALID_ARGUMENT,h+n+d)}function wA(n,t){return n.some((e=>e.isEqual(t)))}class RN{convertValue(t,e="none"){switch(Rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Nr(t,((a,o)=>{i[a]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[kf].arrayValue?.values?.map((i=>Ee(i.doubleValue)));return new mi(e)}convertGeoPoint(t){return new Wi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=id(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Gc(t));default:return null}}convertTimestamp(t){const e=wr(t);return new ue(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=re.fromString(t);Wt(K1(i),9688,{name:t});const a=new Yc(i.get(1),i.get(3)),o=new pt(i.popFirst(5));return a.isEqual(e)||xs(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}class xA extends RN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,e)}}function RA(){return new gy("serverTimestamp")}const UE="@firebase/firestore",BE="4.11.0";function jE(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class CA{constructor(t,e,i,a,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Ma("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class CN extends CA{data(){return super.data()}}function IN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class py{}class yy extends py{}function DN(n,t,...e){let i=[];t instanceof py&&i.push(t),i=i.concat(e),(function(o){const c=o.filter((d=>d instanceof _y)).length,h=o.filter((d=>d instanceof md)).length;if(c>1||c>0&&h>0)throw new ut(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class md extends yy{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new md(t,e,i)}_apply(t){const e=this._parse(t);return IA(t._query,e),new Vr(t.firestore,t.converter,lp(t._query,e))}_parse(t){const e=dy(t.firestore);return(function(o,c,h,d,m,y,v){let T;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){FE(v,y);const I=[];for(const O of v)I.push(HE(d,o,O));T={arrayValue:{values:I}}}else T=HE(d,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||FE(v,y),T=wN(h,c,v,y==="in"||y==="not-in");return Ne.create(m,y,T)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function ON(n,t,e){const i=t,a=Ma("where",n);return md._create(a,i,e)}class _y extends py{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new _y(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:yi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const d of h)IA(c,d),c=lp(c,d)})(t._query,e),new Vr(t.firestore,t.converter,lp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vy extends yy{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new vy(t,e)}_apply(t){const e=(function(a,o,c){if(a.startAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qc(o,c)})(t._query,this._field,this._direction);return new Vr(t.firestore,t.converter,WD(t._query,e))}}function MN(n,t="asc"){const e=t,i=Ma("orderBy",n);return vy._create(i,e)}class by extends yy{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new by(t,e,i)}_apply(t){return new Vr(t.firestore,t.converter,Pf(t._query,this._limit,this._limitType))}}function NN(n){return by._create("limit",n,"F")}function HE(n,t,e){if(typeof(e=Be(e))=="string"){if(e==="")throw new ut(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w1(t)&&e.indexOf("/")!==-1)throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(re.fromString(e));if(!pt.isDocumentKey(i))throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return eE(n,new pt(i))}if(e instanceof Ve)return eE(n,e._key);throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${td(e)}.`)}function FE(n,t){if(!Array.isArray(n)||n.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function IA(n,t){const e=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function kN(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class wc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Sa extends CA{constructor(t,e,i,a,o,c){super(t,e,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Ma("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Sa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sa._jsonSchema={type:ke("string",Sa._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class Ef extends Sa{data(t={}){return super.data(t)}}class jo{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new wc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Ef(this._firestore,this._userDataWriter,i.key,i,new wc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new Ef(a._firestore,a._userDataWriter,h.doc.key,h.doc,new wc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Ef(a._firestore,a._userDataWriter,h.doc.key,h.doc,new wc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:VN(h.type),doc:d,oldIndex:m,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=jo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:n})}}jo._jsonSchemaVersion="firestore/querySnapshot/1.0",jo._jsonSchema={type:ke("string",jo._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};function PN(n,t,e,...i){n=Er(n,Ve);const a=Er(n.firestore,Wo),o=dy(a);let c;return c=typeof(t=Be(t))=="string"||t instanceof hy?AN(o,"updateDoc",n._key,t,e,i):SN(o,"updateDoc",n._key,t),Ey(a,[c.toMutation(n._key,gi.exists(!0))])}function LN(n){return Ey(Er(n.firestore,Wo),[new Kp(n._key,gi.none())])}function zN(n,t){const e=Er(n.firestore,Wo),i=uy(n),a=kN(n.converter,t),o=dy(n.firestore);return Ey(e,[TN(o,"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,gi.exists(!1))]).then((()=>i))}function UN(n,...t){n=Be(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||jE(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(jE(t[i])){const m=t[i];t[i]=m.next?.bind(m),t[i+1]=m.error?.bind(m),t[i+2]=m.complete?.bind(m)}let o,c,h;if(n instanceof Ve)c=Er(n.firestore,Wo),h=Gp(n._key.path),o={next:m=>{t[i]&&t[i](BN(c,n,m))},error:t[i+1],complete:t[i+2]};else{const m=Er(n,Vr);c=Er(m.firestore,Wo),h=m._query;const y=new xA(c);o={next:v=>{t[i]&&t[i](new jo(c,y,m,v))},error:t[i+1],complete:t[i+2]},IN(n._query)}const d=vA(c);return fN(d,h,a,o)}function Ey(n,t){const e=vA(n);return dN(e,t)}function BN(n,t,e){const i=e.docs.get(t._key),a=new xA(n);return new Sa(n,a,t._key,i,new wc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){cD(tl),Fo(new xa("firestore",((i,{instanceIdentifier:a,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new Wo(new fD(i.getProvider("auth-internal")),new mD(c,i.getProvider("app-check-internal")),MD(c,a),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),vr(UE,BE,t),vr(UE,BE,"esm2020")})();const jN={apiKey:"AIzaSyAGsvxWCQ82DWmAQ7ZxywuRO0CMfgSyZNY",authDomain:"bloodpressuretracker-9e962.firebaseapp.com",projectId:"bloodpressuretracker-9e962",storageBucket:"bloodpressuretracker-9e962.firebasestorage.app",messagingSenderId:"865865692966",appId:"1:865865692966:web:4c6cd56be9f3193aae33e7",measurementId:"G-QL4TGJ1CSS"},DA=mS(jN),pd=rD(DA),yd=yN(DA),HN=(n,t)=>F2(pd,n,t),FN=(n,t)=>q2(pd,n,t),qN=()=>Q2(pd),GN=n=>K2(pd,n),OA=Ft.createContext(),MA=()=>Ft.useContext(OA),YN=({children:n})=>{const[t,e]=Ft.useState(null),[i,a]=Ft.useState(!0);Ft.useEffect(()=>GN(h=>{e(h),a(!1)}),[]);const o={user:t,loading:i};return it.jsx(OA.Provider,{value:o,children:!i&&n})};const NA=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim();const KN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const QN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase());const qE=n=>{const t=QN(n);return t.charAt(0).toUpperCase()+t.slice(1)};var WN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XN=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const $N=Ft.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...h},d)=>Ft.createElement("svg",{ref:d,...WN,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:NA("lucide",a),...!o&&!XN(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,y])=>Ft.createElement(m,y)),...Array.isArray(o)?o:[o]]));const _i=(n,t)=>{const e=Ft.forwardRef(({className:i,...a},o)=>Ft.createElement($N,{ref:o,iconNode:t,className:NA(`lucide-${KN(qE(n))}`,`lucide-${n}`,i),...a}));return e.displayName=qE(n),e};const JN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ZN=_i("activity",JN);const tk=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],ek=_i("heart-pulse",tk);const nk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ik=_i("history",nk);const sk=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],rk=_i("log-in",sk);const ak=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ok=_i("log-out",ak);const lk=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],GE=_i("pen",lk);const ck=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uk=_i("plus",ck);const hk=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],fk=_i("scale",hk);const dk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gk=_i("trash-2",dk);const mk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],pk=_i("user-plus",mk);const yk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_k=_i("x",yk),vk=()=>{const[n,t]=Ft.useState(!0),[e,i]=Ft.useState(""),[a,o]=Ft.useState(""),[c,h]=Ft.useState(""),[d,m]=Ft.useState(!1),y=async v=>{v.preventDefault(),h(""),m(!0);try{n?await FN(e,a):await HN(e,a)}catch(T){h(T.message)}finally{m(!1)}};return it.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",padding:"20px"},children:it.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"400px"},children:[it.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[it.jsx(ek,{size:48,color:"var(--primary)",style:{marginBottom:"16px"}}),it.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"8px"},children:"Health Tracker"}),it.jsx("p",{style:{color:"var(--text-muted)"},children:n?"Welcome back! Please login.":"Join us to track your health."})]}),c&&it.jsx("div",{style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"12px",borderRadius:"8px",marginBottom:"16px",fontSize:"14px",border:"1px solid rgba(239, 68, 68, 0.2)"},children:c}),it.jsxs("form",{onSubmit:y,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[it.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[it.jsx("label",{style:{fontSize:"14px",color:"var(--text-muted)"},children:"Email Address"}),it.jsx("input",{type:"email",placeholder:"name@example.com",value:e,onChange:v=>i(v.target.value),required:!0})]}),it.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[it.jsx("label",{style:{fontSize:"14px",color:"var(--text-muted)"},children:"Password"}),it.jsx("input",{type:"password",placeholder:"",value:a,onChange:v=>o(v.target.value),required:!0})]}),it.jsx("button",{type:"submit",disabled:d,style:{background:"var(--primary)",color:"white",padding:"12px",borderRadius:"8px",fontWeight:"600",marginTop:"8px",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},children:d?"Processing...":n?it.jsxs(it.Fragment,{children:[it.jsx(rk,{size:18})," Login"]}):it.jsxs(it.Fragment,{children:[it.jsx(pk,{size:18})," Create Account"]})})]}),it.jsx("div",{style:{textAlign:"center",marginTop:"24px"},children:it.jsx("button",{onClick:()=>t(!n),style:{background:"transparent",color:"var(--primary)",fontSize:"14px"},children:n?"Don't have an account? Sign up":"Already have an account? Login"})})]})})},bk=async(n,t)=>{try{return(await zN(_A(yd,"health_records"),{userId:n,...t,timestamp:RA()})).id}catch(e){throw console.error("Error adding document: ",e),e}},Ek=(n,t)=>{const e=DN(_A(yd,"health_records"),ON("userId","==",n),MN("timestamp","desc"),NN(30));return UN(e,i=>{const a=[];i.forEach(o=>{a.push({id:o.id,...o.data()})}),t(a)})},Tk=async n=>{try{await LN(uy(yd,"health_records",n))}catch(t){throw console.error("Error deleting document: ",t),t}},Sk=async(n,t)=>{try{const e=uy(yd,"health_records",n);await PN(e,{...t,lastUpdated:RA()})}catch(e){throw console.error("Error updating document: ",e),e}},Ak=(n,t)=>n>=180||t>=120?{label:"Hypertensive Crisis",color:"#ef4444",level:5}:n>=140||t>=90?{label:"Hypertension Stage 2",color:"#f87171",level:4}:n>=130||t>=80?{label:"Hypertension Stage 1",color:"#fb923c",level:3}:n>=120&&t<80?{label:"Elevated",color:"#fbbf24",level:2}:n<120&&t<80?{label:"Normal",color:"#22c55e",level:1}:{label:"Uncategorized",color:"#94a3b8",level:0};function pu(n){return n+.5|0}const mr=(n,t,e)=>Math.max(Math.min(n,e),t);function xc(n){return mr(pu(n*2.55),0,255)}function Sr(n){return mr(pu(n*255),0,255)}function bs(n){return mr(pu(n/2.55)/100,0,1)}function YE(n){return mr(pu(n*100),0,100)}const Kn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_p=[..."0123456789ABCDEF"],wk=n=>_p[n&15],xk=n=>_p[(n&240)>>4]+_p[n&15],Jh=n=>(n&240)>>4===(n&15),Rk=n=>Jh(n.r)&&Jh(n.g)&&Jh(n.b)&&Jh(n.a);function Ck(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Kn[n[1]]*17,g:255&Kn[n[2]]*17,b:255&Kn[n[3]]*17,a:t===5?Kn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Kn[n[1]]<<4|Kn[n[2]],g:Kn[n[3]]<<4|Kn[n[4]],b:Kn[n[5]]<<4|Kn[n[6]],a:t===9?Kn[n[7]]<<4|Kn[n[8]]:255})),e}const Ik=(n,t)=>n<255?t(n):"";function Dk(n){var t=Rk(n)?wk:xk;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Ik(n.a,t):void 0}const Ok=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kA(n,t,e){const i=t*Math.min(e,1-e),a=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function Mk(n,t,e){const i=(a,o=(a+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Nk(n,t,e){const i=kA(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)i[a]*=1-t-e,i[a]+=t;return i}function kk(n,t,e,i,a){return n===a?(t-e)/i+(t<e?6:0):t===a?(e-n)/i+2:(n-t)/i+4}function Ty(n){const e=n.r/255,i=n.g/255,a=n.b/255,o=Math.max(e,i,a),c=Math.min(e,i,a),h=(o+c)/2;let d,m,y;return o!==c&&(y=o-c,m=h>.5?y/(2-o-c):y/(o+c),d=kk(e,i,a,y,o),d=d*60+.5),[d|0,m||0,h]}function Sy(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Sr)}function Ay(n,t,e){return Sy(kA,n,t,e)}function Vk(n,t,e){return Sy(Nk,n,t,e)}function Pk(n,t,e){return Sy(Mk,n,t,e)}function VA(n){return(n%360+360)%360}function Lk(n){const t=Ok.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?xc(+t[5]):Sr(+t[5]));const a=VA(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=Vk(a,o,c):t[1]==="hsv"?i=Pk(a,o,c):i=Ay(a,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function zk(n,t){var e=Ty(n);e[0]=VA(e[0]+t),e=Ay(e),n.r=e[0],n.g=e[1],n.b=e[2]}function Uk(n){if(!n)return;const t=Ty(n),e=t[0],i=YE(t[1]),a=YE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${a}%, ${bs(n.a)})`:`hsl(${e}, ${i}%, ${a}%)`}const KE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},QE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Bk(){const n={},t=Object.keys(QE),e=Object.keys(KE);let i,a,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],a=0;a<e.length;a++)o=e[a],h=h.replace(o,KE[o]);o=parseInt(QE[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Zh;function jk(n){Zh||(Zh=Bk(),Zh.transparent=[0,0,0,0]);const t=Zh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Hk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Fk(n){const t=Hk.exec(n);let e=255,i,a,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?xc(c):mr(c*255,0,255)}return i=+t[1],a=+t[3],o=+t[5],i=255&(t[2]?xc(i):mr(i,0,255)),a=255&(t[4]?xc(a):mr(a,0,255)),o=255&(t[6]?xc(o):mr(o,0,255)),{r:i,g:a,b:o,a:e}}}function qk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${bs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const zm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Do=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Gk(n,t,e){const i=Do(bs(n.r)),a=Do(bs(n.g)),o=Do(bs(n.b));return{r:Sr(zm(i+e*(Do(bs(t.r))-i))),g:Sr(zm(a+e*(Do(bs(t.g))-a))),b:Sr(zm(o+e*(Do(bs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function tf(n,t,e){if(n){let i=Ty(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Ay(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function PA(n,t){return n&&Object.assign(t||{},n)}function WE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Sr(n[3]))):(t=PA(n,{r:0,g:0,b:0,a:1}),t.a=Sr(t.a)),t}function Yk(n){return n.charAt(0)==="r"?Fk(n):Lk(n)}class Jc{constructor(t){if(t instanceof Jc)return t;const e=typeof t;let i;e==="object"?i=WE(t):e==="string"&&(i=Ck(t)||jk(t)||Yk(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=PA(this._rgb);return t&&(t.a=bs(t.a)),t}set rgb(t){this._rgb=WE(t)}rgbString(){return this._valid?qk(this._rgb):void 0}hexString(){return this._valid?Dk(this._rgb):void 0}hslString(){return this._valid?Uk(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,a=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,d=i.a-a.a,m=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-m,i.r=255&m*i.r+o*a.r+.5,i.g=255&m*i.g+o*a.g+.5,i.b=255&m*i.b+o*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=Gk(this._rgb,t._rgb,e)),this}clone(){return new Jc(this.rgb)}alpha(t){return this._rgb.a=Sr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=pu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return tf(this._rgb,2,t),this}darken(t){return tf(this._rgb,2,-t),this}saturate(t){return tf(this._rgb,1,t),this}desaturate(t){return tf(this._rgb,1,-t),this}rotate(t){return zk(this._rgb,t),this}}function ys(){}const Kk=(()=>{let n=0;return()=>n++})();function ae(n){return n==null}function Ge(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Jn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ji(n,t){return Jn(n)?n:t}function Ht(n,t){return typeof n>"u"?t:n}const Qk=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ce(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Zt(n,t,e,i){let a,o,c;if(Ge(n))for(o=n.length,a=0;a<o;a++)t.call(e,n[a],a);else if(Qt(n))for(c=Object.keys(n),o=c.length,a=0;a<o;a++)t.call(e,n[c[a]],c[a])}function Ff(n,t){let e,i,a,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(a=n[e],o=t[e],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function qf(n){if(Ge(n))return n.map(qf);if(Qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let a=0;for(;a<i;++a)t[e[a]]=qf(n[e[a]]);return t}return n}function LA(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Wk(n,t,e,i){if(!LA(n))return;const a=t[n],o=e[n];Qt(a)&&Qt(o)?Zc(a,o,i):t[n]=qf(o)}function Zc(n,t,e){const i=Ge(t)?t:[t],a=i.length;if(!Qt(n))return n;e=e||{};const o=e.merger||Wk;let c;for(let h=0;h<a;++h){if(c=i[h],!Qt(c))continue;const d=Object.keys(c);for(let m=0,y=d.length;m<y;++m)o(d[m],n,c,e)}return n}function Pc(n,t){return Zc(n,t,{merger:Xk})}function Xk(n,t,e){if(!LA(n))return;const i=t[n],a=e[n];Qt(i)&&Qt(a)?Pc(i,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=qf(a))}const XE={"":n=>n,x:n=>n.x,y:n=>n.y};function $k(n){const t=n.split("."),e=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function Jk(n){const t=$k(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Gf(n,t){return(XE[t]||(XE[t]=Jk(t)))(n)}function wy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Yf=n=>typeof n<"u",Dr=n=>typeof n=="function",$E=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function Zk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ye=Math.PI,Xi=2*Ye,tV=Xi+Ye,Kf=Number.POSITIVE_INFINITY,eV=Ye/180,di=Ye/2,da=Ye/4,JE=Ye*2/3,zA=Math.log10,Xo=Math.sign;function Lc(n,t,e){return Math.abs(n-t)<e}function ZE(n){const t=Math.round(n);n=Lc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(zA(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function nV(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((a,o)=>a-o).pop(),t}function iV(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function tu(n){return!iV(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function sV(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function rV(n,t,e){let i,a,o;for(i=0,a=n.length;i<a;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ba(n){return n*(Ye/180)}function aV(n){return n*(180/Ye)}function tT(n){if(!Jn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function oV(n,t){const e=t.x-n.x,i=t.y-n.y,a=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Ye&&(o+=Xi),{angle:o,distance:a}}function vp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function lV(n,t){return(n-t+tV)%Xi-Ye}function cr(n){return(n%Xi+Xi)%Xi}function UA(n,t,e,i){const a=cr(n),o=cr(t),c=cr(e),h=cr(o-a),d=cr(c-a),m=cr(a-o),y=cr(a-c);return a===o||a===c||i&&o===c||h>d&&m<y}function Xn(n,t,e){return Math.max(t,Math.min(e,n))}function cV(n){return Xn(n,-32768,32767)}function Rc(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function xy(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,e(o)?a=o:i=o;return{lo:a,hi:i}}const Ea=(n,t,e,i)=>xy(n,e,i?a=>{const o=n[a][t];return o<e||o===e&&n[a+1][t]===e}:a=>n[a][t]<e),uV=(n,t,e)=>xy(n,e,i=>n[i][t]>=e);function hV(n,t,e){let i=0,a=n.length;for(;i<a&&n[i]<t;)i++;for(;a>i&&n[a-1]>e;)a--;return i>0||a<n.length?n.slice(i,a):n}const BA=["push","pop","shift","splice","unshift"];function fV(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),BA.forEach(e=>{const i="_onData"+wy(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function eT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,a=i.indexOf(t);a!==-1&&i.splice(a,1),!(i.length>0)&&(BA.forEach(o=>{delete n[o]}),delete n._chartjs)}function dV(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const jA=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function HA(n,t){let e=[],i=!1;return function(...a){e=a,i||(i=!0,jA.call(window,()=>{i=!1,n.apply(t,e)}))}}function gV(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Ry=n=>n==="start"?"left":n==="end"?"right":"center",rn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,mV=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function pV(n,t,e){const i=t.length;let a=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:d}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=c.axis,{min:v,max:T,minDefined:A,maxDefined:I}=c.getUserBounds();if(A){if(a=Math.min(Ea(d,y,v).lo,e?i:Ea(t,y,c.getPixelForValue(v)).lo),m){const O=d.slice(0,a+1).reverse().findIndex(N=>!ae(N[h.axis]));a-=Math.max(0,O)}a=Xn(a,0,i-1)}if(I){let O=Math.max(Ea(d,c.axis,T,!0).hi+1,e?0:Ea(t,y,c.getPixelForValue(T),!0).hi+1);if(m){const N=d.slice(O-1).findIndex(B=>!ae(B[h.axis]));O+=Math.max(0,N)}o=Xn(O,a,i)-a}else o=i-a}return{start:a,count:o}}function yV(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=a,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,a),o}const ef=n=>n===0||n===1,nT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Xi/e)),iT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Xi/e)+1,zc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*di)+1,easeOutSine:n=>Math.sin(n*di),easeInOutSine:n=>-.5*(Math.cos(Ye*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ef(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ef(n)?n:nT(n,.075,.3),easeOutElastic:n=>ef(n)?n:iT(n,.075,.3),easeInOutElastic(n){return ef(n)?n:n<.5?.5*nT(n*2,.1125,.45):.5+.5*iT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-zc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?zc.easeInBounce(n*2)*.5:zc.easeOutBounce(n*2-1)*.5+.5};function Cy(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function sT(n){return Cy(n)?n:new Jc(n)}function Um(n){return Cy(n)?n:new Jc(n).saturate(.5).darken(.1).hexString()}const _V=["x","y","borderWidth","radius","tension"],vV=["color","borderColor","backgroundColor"];function bV(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:vV},numbers:{type:"number",properties:_V}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function EV(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const rT=new Map;function TV(n,t){t=t||{};const e=n+JSON.stringify(t);let i=rT.get(e);return i||(i=new Intl.NumberFormat(n,t),rT.set(e,i)),i}function FA(n,t,e){return TV(t,e).format(n)}const SV={values(n){return Ge(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let a,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),o=AV(n,e)}const c=zA(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),FA(n,i,d)}};function AV(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var qA={formatters:SV};function wV(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:qA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Na=Object.create(null),bp=Object.create(null);function Uc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,a=e.length;i<a;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Bm(n,t,e){return typeof t=="string"?Zc(Uc(n,t),e):Zc(Uc(n,""),t)}class xV{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>Um(a.backgroundColor),this.hoverBorderColor=(i,a)=>Um(a.borderColor),this.hoverColor=(i,a)=>Um(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Bm(this,t,e)}get(t){return Uc(this,t)}describe(t,e){return Bm(bp,t,e)}override(t,e){return Bm(Na,t,e)}route(t,e,i,a){const o=Uc(this,t),c=Uc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],m=c[a];return Qt(d)?Object.assign({},m,d):Ht(d,m)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var Te=new xV({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bV,EV,wV]);function RV(n){return!n||ae(n.size)||ae(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function aT(n,t,e,i,a){let o=t[a];return o||(o=t[a]=n.measureText(a).width,e.push(a)),o>i&&(i=o),i}function ga(n,t,e){const i=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*i)/i+a}function oT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Ep(n,t,e,i){GA(n,t,e,i,null)}function GA(n,t,e,i,a){let o,c,h,d,m,y,v,T;const A=t.pointStyle,I=t.rotation,O=t.radius;let N=(I||0)*eV;if(A&&typeof A=="object"&&(o=A.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(N),n.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),n.restore();return}if(!(isNaN(O)||O<=0)){switch(n.beginPath(),A){default:a?n.ellipse(e,i,a/2,O,0,0,Xi):n.arc(e,i,O,0,Xi),n.closePath();break;case"triangle":y=a?a/2:O,n.moveTo(e+Math.sin(N)*y,i-Math.cos(N)*O),N+=JE,n.lineTo(e+Math.sin(N)*y,i-Math.cos(N)*O),N+=JE,n.lineTo(e+Math.sin(N)*y,i-Math.cos(N)*O),n.closePath();break;case"rectRounded":m=O*.516,d=O-m,c=Math.cos(N+da)*d,v=Math.cos(N+da)*(a?a/2-m:d),h=Math.sin(N+da)*d,T=Math.sin(N+da)*(a?a/2-m:d),n.arc(e-v,i-h,m,N-Ye,N-di),n.arc(e+T,i-c,m,N-di,N),n.arc(e+v,i+h,m,N,N+di),n.arc(e-T,i+c,m,N+di,N+Ye),n.closePath();break;case"rect":if(!I){d=Math.SQRT1_2*O,y=a?a/2:d,n.rect(e-y,i-d,2*y,2*d);break}N+=da;case"rectRot":v=Math.cos(N)*(a?a/2:O),c=Math.cos(N)*O,h=Math.sin(N)*O,T=Math.sin(N)*(a?a/2:O),n.moveTo(e-v,i-h),n.lineTo(e+T,i-c),n.lineTo(e+v,i+h),n.lineTo(e-T,i+c),n.closePath();break;case"crossRot":N+=da;case"cross":v=Math.cos(N)*(a?a/2:O),c=Math.cos(N)*O,h=Math.sin(N)*O,T=Math.sin(N)*(a?a/2:O),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"star":v=Math.cos(N)*(a?a/2:O),c=Math.cos(N)*O,h=Math.sin(N)*O,T=Math.sin(N)*(a?a/2:O),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c),N+=da,v=Math.cos(N)*(a?a/2:O),c=Math.cos(N)*O,h=Math.sin(N)*O,T=Math.sin(N)*(a?a/2:O),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"line":c=a?a/2:Math.cos(N)*O,h=Math.sin(N)*O,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(N)*(a?a/2:O),i+Math.sin(N)*O);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function eu(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Iy(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Dy(n){n.restore()}function CV(n,t,e,i,a){if(!t)return n.lineTo(e.x,e.y);if(a==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else a==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function IV(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function DV(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ae(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function OV(n,t,e,i,a){if(a.strikethrough||a.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,y=a.strikethrough?(d+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function MV(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function nu(n,t,e,i,a,o={}){const c=Ge(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let d,m;for(n.save(),n.font=a.string,DV(n,o),d=0;d<c.length;++d)m=c[d],o.backdrop&&MV(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),ae(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),OV(n,e,i,m,o),i+=Number(a.lineHeight);n.restore()}function Tp(n,t){const{x:e,y:i,w:a,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*Ye,Ye,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Ye,di,!0),n.lineTo(e+a-c.bottomRight,i+o),n.arc(e+a-c.bottomRight,i+o-c.bottomRight,c.bottomRight,di,0,!0),n.lineTo(e+a,i+c.topRight),n.arc(e+a-c.topRight,i+c.topRight,c.topRight,0,-di,!0),n.lineTo(e+c.topLeft,i)}const NV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function VV(n,t){const e=(""+n).match(NV);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const PV=n=>+n||0;function YA(n,t){const e={},i=Qt(t),a=i?Object.keys(t):t,o=Qt(n)?i?c=>Ht(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of a)e[c]=PV(o(c));return e}function LV(n){return YA(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Bc(n){return YA(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Zn(n){const t=LV(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ln(n,t){n=n||{},t=t||Te.font;let e=Ht(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ht(n.style,t.style);i&&!(""+i).match(kV)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:Ht(n.family,t.family),lineHeight:VV(Ht(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ht(n.weight,t.weight),string:""};return a.string=RV(a),a}function nf(n,t,e,i){let a,o,c;for(a=0,o=n.length;a<o;++a)if(c=n[a],c!==void 0&&c!==void 0)return c}function zV(n,t,e){const{min:i,max:a}=n,o=Qk(t,(a-i)/2),c=(h,d)=>e&&h===0?0:h+d;return{min:c(i,-Math.abs(o)),max:c(a,o)}}function La(n,t){return Object.assign(Object.create(n),t)}function Oy(n,t=[""],e,i,a=()=>n[0]){const o=e||n;typeof i>"u"&&(i=XA("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:a,override:h=>Oy([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return QA(h,d,()=>YV(d,t,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return cT(h).includes(d)},ownKeys(h){return cT(h)},set(h,d,m){const y=h._storage||(h._storage=a());return h[d]=y[d]=m,delete h._keys,!0}})}function $o(n,t,e,i){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:KA(n,i),setContext:o=>$o(n,o,e,i),override:o=>$o(n.override(o),t,e,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return QA(o,c,()=>BV(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function KA(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:i,isScriptable:Dr(e)?e:()=>e,isIndexable:Dr(i)?i:()=>i}}const UV=(n,t)=>n?n+wy(t):t,My=(n,t)=>Qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function QA(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function BV(n,t,e){const{_proxy:i,_context:a,_subProxy:o,_descriptors:c}=n;let h=i[t];return Dr(h)&&c.isScriptable(t)&&(h=jV(t,h,n,e)),Ge(h)&&h.length&&(h=HV(t,h,n,c.isIndexable)),My(t,h)&&(h=$o(h,a,o&&o[t],c)),h}function jV(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=t(o,c||i);return h.delete(n),My(n,d)&&(d=Ny(a._scopes,a,n,d)),d}function HV(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Qt(t[0])){const d=t,m=a._scopes.filter(y=>y!==d);t=[];for(const y of d){const v=Ny(m,a,n,y);t.push($o(v,o,c&&c[n],h))}}return t}function WA(n,t,e){return Dr(n)?n(t,e):n}const FV=(n,t)=>n===!0?t:typeof n=="string"?Gf(t,n):void 0;function qV(n,t,e,i,a){for(const o of t){const c=FV(e,o);if(c){n.add(c);const h=WA(c._fallback,e,a);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function Ny(n,t,e,i){const a=t._rootScopes,o=WA(t._fallback,e,i),c=[...n,...a],h=new Set;h.add(i);let d=lT(h,c,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=lT(h,c,o,d,i),d===null)?!1:Oy(Array.from(h),[""],a,o,()=>GV(t,e,i))}function lT(n,t,e,i,a){for(;e;)e=qV(n,t,e,i,a);return e}function GV(n,t,e){const i=n._getTarget();t in i||(i[t]={});const a=i[t];return Ge(a)&&Qt(e)?e:a||{}}function YV(n,t,e,i){let a;for(const o of t)if(a=XA(UV(o,n),e),typeof a<"u")return My(n,a)?Ny(e,i,n,a):a}function XA(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function cT(n){let t=n._keys;return t||(t=n._keys=KV(n._scopes)),t}function KV(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(i);return Array.from(t)}const QV=Number.EPSILON||1e-14,Jo=(n,t)=>t<n.length&&!n[t].skip&&n[t],$A=n=>n==="x"?"y":"x";function WV(n,t,e,i){const a=n.skip?t:n,o=t,c=e.skip?t:e,h=vp(o,a),d=vp(c,o);let m=h/(h+d),y=d/(h+d);m=isNaN(m)?0:m,y=isNaN(y)?0:y;const v=i*m,T=i*y;return{previous:{x:o.x-v*(c.x-a.x),y:o.y-v*(c.y-a.y)},next:{x:o.x+T*(c.x-a.x),y:o.y+T*(c.y-a.y)}}}function XV(n,t,e){const i=n.length;let a,o,c,h,d,m=Jo(n,0);for(let y=0;y<i-1;++y)if(d=m,m=Jo(n,y+1),!(!d||!m)){if(Lc(t[y],0,QV)){e[y]=e[y+1]=0;continue}a=e[y]/t[y],o=e[y+1]/t[y],h=Math.pow(a,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[y]=a*c*t[y],e[y+1]=o*c*t[y])}}function $V(n,t,e="x"){const i=$A(e),a=n.length;let o,c,h,d=Jo(n,0);for(let m=0;m<a;++m){if(c=h,h=d,d=Jo(n,m+1),!h)continue;const y=h[e],v=h[i];c&&(o=(y-c[e])/3,h[`cp1${e}`]=y-o,h[`cp1${i}`]=v-o*t[m]),d&&(o=(d[e]-y)/3,h[`cp2${e}`]=y+o,h[`cp2${i}`]=v+o*t[m])}}function JV(n,t="x"){const e=$A(t),i=n.length,a=Array(i).fill(0),o=Array(i);let c,h,d,m=Jo(n,0);for(c=0;c<i;++c)if(h=d,d=m,m=Jo(n,c+1),!!d){if(m){const y=m[t]-d[t];a[c]=y!==0?(m[e]-d[e])/y:0}o[c]=h?m?Xo(a[c-1])!==Xo(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}XV(n,a,o),$V(n,o,t)}function sf(n,t,e){return Math.max(Math.min(n,e),t)}function ZV(n,t){let e,i,a,o,c,h=eu(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&eu(n[e+1],t),o&&(a=n[e],c&&(a.cp1x=sf(a.cp1x,t.left,t.right),a.cp1y=sf(a.cp1y,t.top,t.bottom)),h&&(a.cp2x=sf(a.cp2x,t.left,t.right),a.cp2y=sf(a.cp2y,t.top,t.bottom)))}function t4(n,t,e,i,a){let o,c,h,d;if(t.spanGaps&&(n=n.filter(m=>!m.skip)),t.cubicInterpolationMode==="monotone")JV(n,a);else{let m=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],d=WV(m,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=d.previous.x,h.cp1y=d.previous.y,h.cp2x=d.next.x,h.cp2y=d.next.y,m=h}t.capBezierPoints&&ZV(n,e)}function ky(){return typeof window<"u"&&typeof document<"u"}function Vy(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Qf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const _d=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function e4(n,t){return _d(n).getPropertyValue(t)}const n4=["top","right","bottom","left"];function Aa(n,t,e){const i={};e=e?"-"+e:"";for(let a=0;a<4;a++){const o=n4[a];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const i4=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function s4(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:a,offsetY:o}=i;let c=!1,h,d;if(i4(a,o,n.target))h=a,d=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,d=i.clientY-m.top,c=!0}return{x:h,y:d,box:c}}function ya(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,a=_d(e),o=a.boxSizing==="border-box",c=Aa(a,"padding"),h=Aa(a,"border","width"),{x:d,y:m,box:y}=s4(n,e),v=c.left+(y&&h.left),T=c.top+(y&&h.top);let{width:A,height:I}=t;return o&&(A-=c.width+h.width,I-=c.height+h.height),{x:Math.round((d-v)/A*e.width/i),y:Math.round((m-T)/I*e.height/i)}}function r4(n,t,e){let i,a;if(t===void 0||e===void 0){const o=n&&Vy(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=_d(o),d=Aa(h,"border","width"),m=Aa(h,"padding");t=c.width-m.width-d.width,e=c.height-m.height-d.height,i=Qf(h.maxWidth,o,"clientWidth"),a=Qf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Kf,maxHeight:a||Kf}}const pr=n=>Math.round(n*10)/10;function a4(n,t,e,i){const a=_d(n),o=Aa(a,"margin"),c=Qf(a.maxWidth,n,"clientWidth")||Kf,h=Qf(a.maxHeight,n,"clientHeight")||Kf,d=r4(n,t,e);let{width:m,height:y}=d;if(a.boxSizing==="content-box"){const T=Aa(a,"border","width"),A=Aa(a,"padding");m-=A.width+T.width,y-=A.height+T.height}return m=Math.max(0,m-o.width),y=Math.max(0,i?m/i:y-o.height),m=pr(Math.min(m,c,d.maxWidth)),y=pr(Math.min(y,h,d.maxHeight)),m&&!y&&(y=pr(m/2)),(t!==void 0||e!==void 0)&&i&&d.height&&y>d.height&&(y=d.height,m=pr(Math.floor(y*i))),{width:m,height:y}}function uT(n,t,e){const i=t||1,a=pr(n.height*i),o=pr(n.width*i);n.height=pr(n.height),n.width=pr(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==a||c.width!==o?(n.currentDevicePixelRatio=i,c.height=a,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const o4=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};ky()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function hT(n,t){const e=e4(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function _a(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function l4(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function c4(n,t,e,i){const a={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=_a(n,a,e),h=_a(a,o,e),d=_a(o,t,e),m=_a(c,h,e),y=_a(h,d,e);return _a(m,y,e)}const u4=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},h4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Ho(n,t,e){return n?u4(t,e):h4()}function JA(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function ZA(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function tw(n){return n==="angle"?{between:UA,compare:lV,normalize:cr}:{between:Rc,compare:(t,e)=>t-e,normalize:t=>t}}function fT({start:n,end:t,count:e,loop:i,style:a}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:a}}function f4(n,t,e){const{property:i,start:a,end:o}=e,{between:c,normalize:h}=tw(i),d=t.length;let{start:m,end:y,loop:v}=n,T,A;if(v){for(m+=d,y+=d,T=0,A=d;T<A&&c(h(t[m%d][i]),a,o);++T)m--,y--;m%=d,y%=d}return y<m&&(y+=d),{start:m,end:y,loop:v,style:n.style}}function d4(n,t,e){if(!e)return[n];const{property:i,start:a,end:o}=e,c=t.length,{compare:h,between:d,normalize:m}=tw(i),{start:y,end:v,loop:T,style:A}=f4(n,t,e),I=[];let O=!1,N=null,B,tt,nt;const rt=()=>d(a,nt,B)&&h(a,nt)!==0,Q=()=>h(o,B)===0||d(o,nt,B),st=()=>O||rt(),R=()=>!O||Q();for(let x=y,C=y;x<=v;++x)tt=t[x%c],!tt.skip&&(B=m(tt[i]),B!==nt&&(O=d(B,a,o),N===null&&st()&&(N=h(B,a)===0?x:C),N!==null&&R()&&(I.push(fT({start:N,end:x,loop:T,count:c,style:A})),N=null),C=x,nt=B));return N!==null&&I.push(fT({start:N,end:v,loop:T,count:c,style:A})),I}function g4(n,t){const e=[],i=n.segments;for(let a=0;a<i.length;a++){const o=d4(i[a],n.points,t);o.length&&e.push(...o)}return e}function m4(n,t,e,i){let a=0,o=t-1;if(e&&!i)for(;a<t&&!n[a].skip;)a++;for(;a<t&&n[a].skip;)a++;for(a%=t,e&&(o+=a);o>a&&n[o%t].skip;)o--;return o%=t,{start:a,end:o}}function p4(n,t,e,i){const a=n.length,o=[];let c=t,h=n[t],d;for(d=t+1;d<=e;++d){const m=n[d%a];m.skip||m.stop?h.skip||(i=!1,o.push({start:t%a,end:(d-1)%a,loop:i}),t=c=m.stop?d:null):(c=d,h.skip&&(t=d)),h=m}return c!==null&&o.push({start:t%a,end:c%a,loop:i}),o}function y4(n,t){const e=n.points,i=n.options.spanGaps,a=e.length;if(!a)return[];const o=!!n._loop,{start:c,end:h}=m4(e,a,o,i);if(i===!0)return dT(n,[{start:c,end:h,loop:o}],e,t);const d=h<c?h+a:h,m=!!n._fullLoop&&c===0&&h===a-1;return dT(n,p4(e,c,d,m),e,t)}function dT(n,t,e,i){return!i||!i.setContext||!e?t:_4(n,t,e,i)}function _4(n,t,e,i){const a=n._chart.getContext(),o=gT(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,d=e.length,m=[];let y=o,v=t[0].start,T=v;function A(I,O,N,B){const tt=h?-1:1;if(I!==O){for(I+=d;e[I%d].skip;)I-=tt;for(;e[O%d].skip;)O+=tt;I%d!==O%d&&(m.push({start:I%d,end:O%d,loop:N,style:B}),y=B,v=O%d)}}for(const I of t){v=h?v:I.start;let O=e[v%d],N;for(T=v+1;T<=I.end;T++){const B=e[T%d];N=gT(i.setContext(La(a,{type:"segment",p0:O,p1:B,p0DataIndex:(T-1)%d,p1DataIndex:T%d,datasetIndex:c}))),v4(N,y)&&A(v,T-1,I.loop,y),O=B,y=N}v<T-1&&A(v,T-1,I.loop,y)}return m}function gT(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function v4(n,t){if(!t)return!1;const e=[],i=function(a,o){return Cy(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function rf(n,t,e){return n.options.clip?n[e]:t[e]}function b4(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:rf(e,t,"left"),right:rf(e,t,"right"),top:rf(i,t,"top"),bottom:rf(i,t,"bottom")}:t}function E4(n,t){const e=t._clip;if(e.disabled)return!1;const i=b4(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class T4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,a){const o=e.listeners[a],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=jA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,d;for(;c>=0;--c)d=o[c],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(a.draw(),this._notify(a,i,t,"progress")),o.length||(i.running=!1,this._notify(a,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var _s=new T4;const mT="transparent",S4={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=sT(n||mT),a=i.valid&&sT(t||mT);return a&&a.valid?a.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class A4{constructor(t,e,i,a){const o=e[i];a=nf([t.to,a,o,t.from]);const c=nf([t.from,o,a]);this._active=!0,this._fn=t.fn||S4[t.type||typeof c],this._easing=zc[t.easing]||zc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=nf([t.to,e,a,t.from]),this._from=nf([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,a=this._prop,o=this._from,c=this._loop,h=this._to;let d;if(this._active=o!==h&&(c||e<i),!this._active){this._target[a]=h,this._notify(!0);return}if(e<0){this._target[a]=o;return}d=e/i%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[a]=this._fn(o,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][e]()}}class ew{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Qt(t))return;const e=Object.keys(Te.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!Qt(o))return;const c={};for(const h of e)c[h]=o[h];(Ge(o.properties)&&o.properties||[a]).forEach(h=>{(h===a||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,a=x4(t,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&w4(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,a=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const m=c[d];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(t,e));continue}const y=e[m];let v=o[m];const T=i.get(m);if(v)if(T&&v.active()){v.update(T,y,h);continue}else v.cancel();if(!T||!T.duration){t[m]=y;continue}o[m]=v=new A4(T,t,m,y),a.push(v)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return _s.add(this._chart,i),!0}}function w4(n,t){const e=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const o=n[i[a]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function x4(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function pT(n,t){const e=n&&n.options||{},i=e.reverse,a=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:a,end:i?a:o}}function R4(n,t,e){if(e===!1)return!1;const i=pT(n,e),a=pT(t,e);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function C4(n){let t,e,i,a;return Qt(n)?(t=n.top,e=n.right,i=n.bottom,a=n.left):t=e=i=a=n,{top:t,right:e,bottom:i,left:a,disabled:n===!1}}function nw(n,t){const e=[],i=n._getSortedDatasetMetas(t);let a,o;for(a=0,o=i.length;a<o;++a)e.push(i[a].index);return e}function yT(n,t,e,i={}){const a=n.keys,o=i.mode==="single";let c,h,d,m;if(t===null)return;let y=!1;for(c=0,h=a.length;c<h;++c){if(d=+a[c],d===e){if(y=!0,i.all)continue;break}m=n.values[d],Jn(m)&&(o||t===0||Xo(t)===Xo(m))&&(t+=m)}return!y&&!i.all?0:t}function I4(n,t){const{iScale:e,vScale:i}=t,a=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let d,m,y;for(d=0,m=c.length;d<m;++d)y=c[d],h[d]={[a]:y,[o]:n[y]};return h}function jm(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function D4(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function O4(n){const{min:t,max:e,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function M4(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function _T(n,t,e,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const o=n[a.index];if(e&&o>0||!e&&o<0)return a.index}return null}function vT(n,t){const{chart:e,_cachedMeta:i}=n,a=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,d=o.axis,m=c.axis,y=D4(o,c,i),v=t.length;let T;for(let A=0;A<v;++A){const I=t[A],{[d]:O,[m]:N}=I,B=I._stacks||(I._stacks={});T=B[m]=M4(a,y,O),T[h]=N,T._top=_T(T,c,!0,i.type),T._bottom=_T(T,c,!1,i.type);const tt=T._visualValues||(T._visualValues={});tt[h]=N}}function Hm(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function N4(n,t){return La(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function k4(n,t,e){return La(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function mc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const a of t){const o=a._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Fm=n=>n==="reset"||n==="none",bT=(n,t)=>t?n:Object.assign({},n),V4=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:nw(e,!0),values:null};class iw{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=jm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&mc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=(v,T,A,I)=>v==="x"?T:v==="r"?I:A,o=e.xAxisID=Ht(i.xAxisID,Hm(t,"x")),c=e.yAxisID=Ht(i.yAxisID,Hm(t,"y")),h=e.rAxisID=Ht(i.rAxisID,Hm(t,"r")),d=e.indexAxis,m=e.iAxisID=a(d,o,c,h),y=e.vAxisID=a(d,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&eT(this._data,this),t._stacked&&mc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Qt(e)){const a=this._cachedMeta;this._data=I4(e,a)}else if(i!==e){if(i){eT(i,this);const a=this._cachedMeta;mc(a),a._parsed=[]}e&&Object.isExtensible(e)&&fV(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=e._stacked;e._stacked=jm(e.vScale,e),e.stack!==i.stack&&(a=!0,mc(e),e.stack=i.stack),this._resyncElements(t),(a||o!==e._stacked)&&(vT(this,e._parsed),e._stacked=jm(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:c}=i,h=o.axis;let d=t===0&&e===a.length?!0:i._sorted,m=t>0&&i._parsed[t-1],y,v,T;if(this._parsing===!1)i._parsed=a,i._sorted=!0,T=a;else{Ge(a[t])?T=this.parseArrayData(i,a,t,e):Qt(a[t])?T=this.parseObjectData(i,a,t,e):T=this.parsePrimitiveData(i,a,t,e);const A=()=>v[h]===null||m&&v[h]<m[h];for(y=0;y<e;++y)i._parsed[y+t]=v=T[y],d&&(A()&&(d=!1),m=v);i._sorted=d}c&&vT(this,T)}parsePrimitiveData(t,e,i,a){const{iScale:o,vScale:c}=t,h=o.axis,d=c.axis,m=o.getLabels(),y=o===c,v=new Array(a);let T,A,I;for(T=0,A=a;T<A;++T)I=T+i,v[T]={[h]:y||o.parse(m[I],I),[d]:c.parse(e[I],I)};return v}parseArrayData(t,e,i,a){const{xScale:o,yScale:c}=t,h=new Array(a);let d,m,y,v;for(d=0,m=a;d<m;++d)y=d+i,v=e[y],h[d]={x:o.parse(v[0],y),y:c.parse(v[1],y)};return h}parseObjectData(t,e,i,a){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=new Array(a);let y,v,T,A;for(y=0,v=a;y<v;++y)T=y+i,A=e[T],m[y]={x:o.parse(Gf(A,h),T),y:c.parse(Gf(A,d),T)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const a=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:nw(a,!0),values:e._stacks[t.axis]._visualValues};return yT(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,a){const o=i[e.axis];let c=o===null?NaN:o;const h=a&&i._stacks[e.axis];a&&h&&(a.values=h,c=yT(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&t===i.iScale,c=a.length,h=this._getOtherScale(t),d=V4(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:v}=O4(h);let T,A;function I(){A=a[T];const O=A[h.axis];return!Jn(A[t.axis])||y>O||v<O}for(T=0;T<c&&!(!I()&&(this.updateRangeFromParsed(m,t,A,d),o));++T);if(o){for(T=c-1;T>=0;--T)if(!I()){this.updateRangeFromParsed(m,t,A,d);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let a,o,c;for(a=0,o=e.length;a<o;++a)c=e[a][t.axis],Jn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,a=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=C4(Ht(this.options.clip,R4(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,a=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||a.length-h,m=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,d),y=h;y<h+d;++y){const v=a[y];v.hidden||(v.active&&m?c.push(v):v.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=k4(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=N4(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const a=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],d=this.enableOptionSharing&&Yf(i);if(h)return bT(h,d);const m=this.chart.config,y=m.datasetElementScopeKeys(this._type,t),v=a?[`${t}Hover`,"hover",t,""]:[t,""],T=m.getOptionScopes(this.getDataset(),y),A=Object.keys(Te.elements[t]),I=()=>this.getContext(i,a,e),O=m.resolveNamedOptions(T,A,I,v);return O.$shared&&(O.$shared=d,o[c]=Object.freeze(bT(O,d))),O}_resolveAnimations(t,e,i){const a=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let d;if(a.options.animation!==!1){const y=this.chart.config,v=y.datasetAnimationScopeKeys(this._type,e),T=y.getOptionScopes(this.getDataset(),v);d=y.createResolver(T,this.getContext(t,i,e))}const m=new ew(a,d&&d.animations);return d&&d._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Fm(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),a=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==a;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,a){Fm(a)?Object.assign(t,i):this._resolveAnimations(e,a).update(t,i)}updateSharedOptions(t,e,i){t&&!Fm(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,a){t.active=a;const o=this.getStyle(e,a);this._resolveAnimations(e,i,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,d,m]of this._syncList)this[h](d,m);this._syncList=[];const a=i.length,o=e.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,e,i=!0){const a=this._cachedMeta,o=a.data,c=t+e;let h;const d=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(d(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&d(a._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,a){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(t,e);i._stacked&&mc(i,a)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,a]=t;this[e](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class P4 extends iw{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:a=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:d}=pV(e,a,c);this._drawStart=h,this._drawCount=d,yV(e)&&(h=0,d=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=a;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:m},t),this.updateElements(a,h,d,t)}updateElements(t,e,i,a){const o=a==="reset",{iScale:c,vScale:h,_stacked:d,_dataset:m}=this._cachedMeta,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(e,a),T=c.axis,A=h.axis,{spanGaps:I,segment:O}=this.options,N=tu(I)?I:Number.POSITIVE_INFINITY,B=this.chart._animationsDisabled||o||a==="none",tt=e+i,nt=t.length;let rt=e>0&&this.getParsed(e-1);for(let Q=0;Q<nt;++Q){const st=t[Q],R=B?st:{};if(Q<e||Q>=tt){R.skip=!0;continue}const x=this.getParsed(Q),C=ae(x[A]),V=R[T]=c.getPixelForValue(x[T],Q),M=R[A]=o||C?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,x,d):x[A],Q);R.skip=isNaN(V)||isNaN(M)||C,R.stop=Q>0&&Math.abs(x[T]-rt[T])>N,O&&(R.parsed=x,R.raw=m.data[Q]),v&&(R.options=y||this.resolveDataElementOptions(Q,st.active?"active":a)),B||this.updateElement(st,Q,R,a),rt=x}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return i;const o=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function ma(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Py{static override(t){Object.assign(Py.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ma()}parse(){return ma()}format(){return ma()}add(){return ma()}diff(){return ma()}startOf(){return ma()}endOf(){return ma()}}var L4={_date:Py};function z4(n,t,e,i){const{controller:a,data:o,_sorted:c}=n,h=a._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?uV:Ea;if(i){if(a._sharedOptions){const y=o[0],v=typeof y.getRange=="function"&&y.getRange(t);if(v){const T=m(o,t,e-v),A=m(o,t,e+v);return{lo:T.lo,hi:A.hi}}}}else{const y=m(o,t,e);if(d){const{vScale:v}=a._cachedMeta,{_parsed:T}=n,A=T.slice(0,y.lo+1).reverse().findIndex(O=>!ae(O[v.axis]));y.lo-=Math.max(0,A);const I=T.slice(y.hi).findIndex(O=>!ae(O[v.axis]));y.hi+=Math.max(0,I)}return y}}return{lo:0,hi:o.length-1}}function vd(n,t,e,i,a){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,d=o.length;h<d;++h){const{index:m,data:y}=o[h],{lo:v,hi:T}=z4(o[h],t,c,a);for(let A=v;A<=T;++A){const I=y[A];I.skip||i(I,m,A)}}}function U4(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,a){const o=t?Math.abs(i.x-a.x):0,c=e?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function qm(n,t,e,i,a){const o=[];return!a&&!n.isPointInArea(t)||vd(n,e,t,function(h,d,m){!a&&!eu(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:d,index:m})},!0),o}function B4(n,t,e,i){let a=[];function o(c,h,d){const{startAngle:m,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:v}=oV(c,{x:t.x,y:t.y});UA(v,m,y)&&a.push({element:c,datasetIndex:h,index:d})}return vd(n,e,t,o),a}function j4(n,t,e,i,a,o){let c=[];const h=U4(e);let d=Number.POSITIVE_INFINITY;function m(y,v,T){const A=y.inRange(t.x,t.y,a);if(i&&!A)return;const I=y.getCenterPoint(a);if(!(!!o||n.isPointInArea(I))&&!A)return;const N=h(t,I);N<d?(c=[{element:y,datasetIndex:v,index:T}],d=N):N===d&&c.push({element:y,datasetIndex:v,index:T})}return vd(n,e,t,m),c}function Gm(n,t,e,i,a,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?B4(n,t,e,a):j4(n,t,e,i,a,o)}function ET(n,t,e,i,a){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return vd(n,e,t,(d,m,y)=>{d[c]&&d[c](t[e],a)&&(o.push({element:d,datasetIndex:m,index:y}),h=h||d.inRange(t.x,t.y,a))}),i&&!h?[]:o}var H4={modes:{index(n,t,e,i){const a=ya(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?qm(n,a,o,i,c):Gm(n,a,o,!1,i,c),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const y=h[0].index,v=m.data[y];v&&!v.skip&&d.push({element:v,datasetIndex:m.index,index:y})}),d):[]},dataset(n,t,e,i){const a=ya(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?qm(n,a,o,i,c):Gm(n,a,o,!1,i,c);if(h.length>0){const d=h[0].datasetIndex,m=n.getDatasetMeta(d).data;h=[];for(let y=0;y<m.length;++y)h.push({element:m[y],datasetIndex:d,index:y})}return h},point(n,t,e,i){const a=ya(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return qm(n,a,o,i,c)},nearest(n,t,e,i){const a=ya(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Gm(n,a,o,e.intersect,i,c)},x(n,t,e,i){const a=ya(t,n);return ET(n,a,"x",e.intersect,i)},y(n,t,e,i){const a=ya(t,n);return ET(n,a,"y",e.intersect,i)}}};const sw=["left","top","right","bottom"];function pc(n,t){return n.filter(e=>e.pos===t)}function TT(n,t){return n.filter(e=>sw.indexOf(e.pos)===-1&&e.box.axis===t)}function yc(n,t){return n.sort((e,i)=>{const a=t?i:e,o=t?e:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function F4(n){const t=[];let e,i,a,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)a=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=a,t.push({index:e,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:h});return t}function q4(n){const t={};for(const e of n){const{stack:i,pos:a,stackWeight:o}=e;if(!i||!sw.includes(a))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function G4(n,t){const e=q4(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:d}=h.box,m=e[h.stack],y=m&&h.stackWeight/m.weight;h.horizontal?(h.width=y?y*i:d&&t.availableWidth,h.height=a):(h.width=i,h.height=y?y*a:d&&t.availableHeight)}return e}function Y4(n){const t=F4(n),e=yc(t.filter(m=>m.box.fullSize),!0),i=yc(pc(t,"left"),!0),a=yc(pc(t,"right")),o=yc(pc(t,"top"),!0),c=yc(pc(t,"bottom")),h=TT(t,"x"),d=TT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:a.concat(d).concat(c).concat(h),chartArea:pc(t,"chartArea"),vertical:i.concat(a).concat(d),horizontal:o.concat(c).concat(h)}}function ST(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function rw(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function K4(n,t,e,i){const{pos:a,box:o}=e,c=n.maxPadding;if(!Qt(a)){e.size&&(n[a]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[a]+=e.size}o.getPadding&&rw(c,o.getPadding());const h=Math.max(0,t.outerWidth-ST(c,n,"left","right")),d=Math.max(0,t.outerHeight-ST(c,n,"top","bottom")),m=h!==n.w,y=d!==n.h;return n.w=h,n.h=d,e.horizontal?{same:m,other:y}:{same:y,other:m}}function Q4(n){const t=n.maxPadding;function e(i){const a=Math.max(t[i]-n[i],0);return n[i]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function W4(n,t){const e=t.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Cc(n,t,e,i){const a=[];let o,c,h,d,m,y;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],d=h.box,d.update(h.width||t.w,h.height||t.h,W4(h.horizontal,t));const{same:v,other:T}=K4(t,e,h,i);m|=v&&a.length,y=y||T,d.fullSize||a.push(h)}return m&&Cc(a,t,e,i)||y}function af(n,t,e,i,a){n.top=e,n.left=t,n.right=t+i,n.bottom=e+a,n.width=i,n.height=a}function AT(n,t,e,i){const a=e.padding;let{x:o,y:c}=t;for(const h of n){const d=h.box,m=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/m.weight||1;if(h.horizontal){const v=t.w*y,T=m.size||d.height;Yf(m.start)&&(c=m.start),d.fullSize?af(d,a.left,c,e.outerWidth-a.right-a.left,T):af(d,t.left+m.placed,c,v,T),m.start=c,m.placed+=v,c=d.bottom}else{const v=t.h*y,T=m.size||d.width;Yf(m.start)&&(o=m.start),d.fullSize?af(d,o,a.top,T,e.outerHeight-a.bottom-a.top):af(d,o,t.top+m.placed,T,v),m.start=o,m.placed+=v,o=d.right}}t.x=o,t.y=c}var $n={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const a=Zn(n.options.layout.padding),o=Math.max(t-a.width,0),c=Math.max(e-a.height,0),h=Y4(n.boxes),d=h.vertical,m=h.horizontal;Zt(n.boxes,O=>{typeof O.beforeLayout=="function"&&O.beforeLayout()});const y=d.reduce((O,N)=>N.box.options&&N.box.options.display===!1?O:O+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),T=Object.assign({},a);rw(T,Zn(i));const A=Object.assign({maxPadding:T,w:o,h:c,x:a.left,y:a.top},a),I=G4(d.concat(m),v);Cc(h.fullSize,A,v,I),Cc(d,A,v,I),Cc(m,A,v,I)&&Cc(d,A,v,I),Q4(A),AT(h.leftAndTop,A,v,I),A.x+=A.w,A.y+=A.h,AT(h.rightAndBottom,A,v,I),n.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},Zt(h.chartArea,O=>{const N=O.box;Object.assign(N,n.chartArea),N.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class aw{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,a){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):i)}}isAttached(t){return!0}updateConfig(t){}}class X4 extends aw{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Tf="$chartjs",$4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wT=n=>n===null||n==="";function J4(n,t){const e=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[Tf]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",wT(a)){const o=hT(n,"width");o!==void 0&&(n.width=o)}if(wT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=hT(n,"height");o!==void 0&&(n.height=o)}return n}const ow=o4?{passive:!0}:!1;function Z4(n,t,e){n&&n.addEventListener(t,e,ow)}function tP(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,ow)}function eP(n,t){const e=$4[n.type]||n.type,{x:i,y:a}=ya(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:a!==void 0?a:null}}function Wf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function nP(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Wf(h.addedNodes,i),c=c&&!Wf(h.removedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function iP(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Wf(h.removedNodes,i),c=c&&!Wf(h.addedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const iu=new Map;let xT=0;function lw(){const n=window.devicePixelRatio;n!==xT&&(xT=n,iu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function sP(n,t){iu.size||window.addEventListener("resize",lw),iu.set(n,t)}function rP(n){iu.delete(n),iu.size||window.removeEventListener("resize",lw)}function aP(n,t,e){const i=n.canvas,a=i&&Vy(i);if(!a)return;const o=HA((h,d)=>{const m=a.clientWidth;e(h,d),m<a.clientWidth&&e()},window),c=new ResizeObserver(h=>{const d=h[0],m=d.contentRect.width,y=d.contentRect.height;m===0&&y===0||o(m,y)});return c.observe(a),sP(n,o),c}function Ym(n,t,e){e&&e.disconnect(),t==="resize"&&rP(n)}function oP(n,t,e){const i=n.canvas,a=HA(o=>{n.ctx!==null&&e(eP(o,n))},n);return Z4(i,t,a),a}class lP extends aw{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(J4(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Tf])return!1;const i=e[Tf].initial;["height","width"].forEach(o=>{const c=i[o];ae(c)?e.removeAttribute(o):e.setAttribute(o,c)});const a=i.style||{};return Object.keys(a).forEach(o=>{e.style[o]=a[o]}),e.width=e.width,delete e[Tf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),c={attach:nP,detach:iP,resize:aP}[e]||oP;a[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),a=i[e];if(!a)return;({attach:Ym,detach:Ym,resize:Ym}[e]||tP)(t,e,a),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,a){return a4(t,e,i,a)}isAttached(t){const e=t&&Vy(t);return!!(e&&e.isConnected)}}function cP(n){return!ky()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?X4:lP}class za{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return tu(this.x)&&tu(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const a={};return t.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}function uP(n,t){const e=n.options.ticks,i=hP(n),a=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?dP(t):[],c=o.length,h=o[0],d=o[c-1],m=[];if(c>a)return gP(t,m,o,c/a),m;const y=fP(o,t,a);if(c>0){let v,T;const A=c>1?Math.round((d-h)/(c-1)):null;for(of(t,m,y,ae(A)?0:h-A,h),v=0,T=c-1;v<T;v++)of(t,m,y,o[v],o[v+1]);return of(t,m,y,d,ae(A)?t.length:d+A),m}return of(t,m,y),m}function hP(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(i,a))}function fP(n,t,e){const i=mP(n),a=t.length/e;if(!i)return Math.max(a,1);const o=nV(i);for(let c=0,h=o.length-1;c<h;c++){const d=o[c];if(d>a)return d}return Math.max(a,1)}function dP(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function gP(n,t,e,i){let a=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),a++,o=e[a*i])}function of(n,t,e,i,a){const o=Ht(i,0),c=Math.min(Ht(a,n.length),n.length);let h=0,d,m,y;for(e=Math.ceil(e),a&&(d=a-i,e=d/Math.floor(d/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(m=Math.max(o,0);m<c;m++)m===y&&(t.push(n[m]),h++,y=Math.round(o+h*e))}function mP(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const pP=n=>n==="left"?"right":n==="right"?"left":n,RT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,CT=(n,t)=>Math.min(t||n,n);function IT(n,t){const e=[],i=n.length/t,a=n.length;let o=0;for(;o<a;o+=i)e.push(n[Math.floor(o)]);return e}function yP(n,t,e){const i=n.ticks.length,a=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let d=n.getPixelForTick(a),m;if(!(e&&(i===1?m=Math.max(d-o,c-d):t===0?m=(n.getPixelForTick(1)-d)/2:m=(d-n.getPixelForTick(a-1))/2,d+=a<t?m:-m,d<o-h||d>c+h)))return d}function _P(n,t){Zt(n,e=>{const i=e.gc,a=i.length/2;let o;if(a>t){for(o=0;o<a;++o)delete e.data[i[o]];i.splice(0,a)}})}function _c(n){return n.drawTicks?n.tickLength:0}function DT(n,t){if(!n.display)return 0;const e=ln(n.font,t),i=Zn(n.padding);return(Ge(n.text)?n.text.length:1)*e.lineHeight+i.height}function vP(n,t){return La(n,{scale:t,type:"scale"})}function bP(n,t,e){return La(n,{tick:e,index:t,type:"tick"})}function EP(n,t,e){let i=Ry(n);return(e&&t!=="right"||!e&&t==="right")&&(i=pP(i)),i}function TP(n,t,e,i){const{top:a,left:o,bottom:c,right:h,chart:d}=n,{chartArea:m,scales:y}=d;let v=0,T,A,I;const O=c-a,N=h-o;if(n.isHorizontal()){if(A=rn(i,o,h),Qt(e)){const B=Object.keys(e)[0],tt=e[B];I=y[B].getPixelForValue(tt)+O-t}else e==="center"?I=(m.bottom+m.top)/2+O-t:I=RT(n,e,t);T=h-o}else{if(Qt(e)){const B=Object.keys(e)[0],tt=e[B];A=y[B].getPixelForValue(tt)-N+t}else e==="center"?A=(m.left+m.right)/2-N+t:A=RT(n,e,t);I=rn(i,c,a),v=e==="left"?-di:di}return{titleX:A,titleY:I,maxWidth:T,rotation:v}}class ol extends za{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:a}=this;return t=ji(t,Number.POSITIVE_INFINITY),e=ji(e,Number.NEGATIVE_INFINITY),i=ji(i,Number.POSITIVE_INFINITY),a=ji(a,Number.NEGATIVE_INFINITY),{min:ji(t,i),max:ji(e,a),minDefined:Jn(t),maxDefined:Jn(e)}}getMinMax(t){let{min:e,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let d=0,m=h.length;d<m;++d)c=h[d].controller.getMinMax(this,t),a||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=a&&e>i?e:i,{min:ji(e,ji(i,e)),max:ji(i,ji(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:a,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zV(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?IT(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=uP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ce(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i],o.label=ce(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=CT(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,o=e.maxRotation;let c=a,h,d,m;if(!this._isVisible()||!e.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const y=this._getLabelSizes(),v=y.widest.width,T=y.highest.height,A=Xn(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:A/(i-1),v+6>h&&(h=A/(i-(t.offset?.5:1)),d=this.maxHeight-_c(t.grid)-e.padding-DT(t.title,this.chart.options.font),m=Math.sqrt(v*v+T*T),c=aV(Math.min(Math.asin(Xn((y.highest.height+6)/h,-1,1)),Math.asin(Xn(d/m,-1,1))-Math.asin(Xn(T/m,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:a,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=DT(a,e.options.font);if(h?(t.width=this.maxWidth,t.height=_c(o)+d):(t.height=this.maxHeight,t.width=_c(o)+d),i.display&&this.ticks.length){const{first:m,last:y,widest:v,highest:T}=this._getLabelSizes(),A=i.padding*2,I=ba(this.labelRotation),O=Math.cos(I),N=Math.sin(I);if(h){const B=i.mirror?0:N*v.width+O*T.height;t.height=Math.min(this.maxHeight,t.height+B+A)}else{const B=i.mirror?0:O*v.width+N*T.height;t.width=Math.min(this.maxWidth,t.width+B+A)}this._calculatePadding(m,y,N,O)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,a){const{ticks:{align:o,padding:c},position:h}=this.options,d=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let T=0,A=0;d?m?(T=a*t.width,A=i*e.height):(T=i*t.height,A=a*e.width):o==="start"?A=e.width:o==="end"?T=t.width:o!=="inner"&&(T=t.width/2,A=e.width/2),this.paddingLeft=Math.max((T-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((A-v+c)*this.width/(this.width-v),0)}else{let y=e.height/2,v=t.height/2;o==="start"?(y=0,v=t.height):o==="end"&&(y=e.height,v=0),this.paddingTop=y+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ae(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=IT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:a,_longestTextCache:o}=this,c=[],h=[],d=Math.floor(e/CT(e,i));let m=0,y=0,v,T,A,I,O,N,B,tt,nt,rt,Q;for(v=0;v<e;v+=d){if(I=t[v].label,O=this._resolveTickFontOptions(v),a.font=N=O.string,B=o[N]=o[N]||{data:{},gc:[]},tt=O.lineHeight,nt=rt=0,!ae(I)&&!Ge(I))nt=aT(a,B.data,B.gc,nt,I),rt=tt;else if(Ge(I))for(T=0,A=I.length;T<A;++T)Q=I[T],!ae(Q)&&!Ge(Q)&&(nt=aT(a,B.data,B.gc,nt,Q),rt+=tt);c.push(nt),h.push(rt),m=Math.max(nt,m),y=Math.max(rt,y)}_P(o,e);const st=c.indexOf(m),R=h.indexOf(y),x=C=>({width:c[C]||0,height:h[C]||0});return{first:x(0),last:x(e-1),widest:x(st),highest:x(R),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return cV(this._alignToPixels?ga(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=bP(this.getContext(),t,i))}return this.$context||(this.$context=vP(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ba(this.labelRotation),i=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,d=o?o.highest.height+c:0;return this.isHorizontal()?d*i>h*a?h/i:d/a:d*a<h*i?d/i:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,a=this.options,{grid:o,position:c,border:h}=a,d=o.offset,m=this.isHorizontal(),v=this.ticks.length+(d?1:0),T=_c(o),A=[],I=h.setContext(this.getContext()),O=I.display?I.width:0,N=O/2,B=function(Y){return ga(i,Y,O)};let tt,nt,rt,Q,st,R,x,C,V,M,P,D;if(c==="top")tt=B(this.bottom),R=this.bottom-T,C=tt-N,M=B(t.top)+N,D=t.bottom;else if(c==="bottom")tt=B(this.top),M=t.top,D=B(t.bottom)-N,R=tt+N,C=this.top+T;else if(c==="left")tt=B(this.right),st=this.right-T,x=tt-N,V=B(t.left)+N,P=t.right;else if(c==="right")tt=B(this.left),V=t.left,P=B(t.right)-N,st=tt+N,x=this.left+T;else if(e==="x"){if(c==="center")tt=B((t.top+t.bottom)/2+.5);else if(Qt(c)){const Y=Object.keys(c)[0],at=c[Y];tt=B(this.chart.scales[Y].getPixelForValue(at))}M=t.top,D=t.bottom,R=tt+N,C=R+T}else if(e==="y"){if(c==="center")tt=B((t.left+t.right)/2);else if(Qt(c)){const Y=Object.keys(c)[0],at=c[Y];tt=B(this.chart.scales[Y].getPixelForValue(at))}st=tt-N,x=st-T,V=t.left,P=t.right}const zt=Ht(a.ticks.maxTicksLimit,v),Rt=Math.max(1,Math.ceil(v/zt));for(nt=0;nt<v;nt+=Rt){const Y=this.getContext(nt),at=o.setContext(Y),gt=h.setContext(Y),It=at.lineWidth,Mt=at.color,L=gt.dash||[],X=gt.dashOffset,lt=at.tickWidth,ct=at.tickColor,yt=at.tickBorderDash||[],vt=at.tickBorderDashOffset;rt=yP(this,nt,d),rt!==void 0&&(Q=ga(i,rt,It),m?st=x=V=P=Q:R=C=M=D=Q,A.push({tx1:st,ty1:R,tx2:x,ty2:C,x1:V,y1:M,x2:P,y2:D,width:It,color:Mt,borderDash:L,borderDashOffset:X,tickWidth:lt,tickColor:ct,tickBorderDash:yt,tickBorderDashOffset:vt}))}return this._ticksLength=v,this._borderValue=tt,A}_computeLabelItems(t){const e=this.axis,i=this.options,{position:a,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:m,padding:y,mirror:v}=o,T=_c(i.grid),A=T+y,I=v?-y:A,O=-ba(this.labelRotation),N=[];let B,tt,nt,rt,Q,st,R,x,C,V,M,P,D="middle";if(a==="top")st=this.bottom-I,R=this._getXAxisLabelAlignment();else if(a==="bottom")st=this.top+I,R=this._getXAxisLabelAlignment();else if(a==="left"){const Rt=this._getYAxisLabelAlignment(T);R=Rt.textAlign,Q=Rt.x}else if(a==="right"){const Rt=this._getYAxisLabelAlignment(T);R=Rt.textAlign,Q=Rt.x}else if(e==="x"){if(a==="center")st=(t.top+t.bottom)/2+A;else if(Qt(a)){const Rt=Object.keys(a)[0],Y=a[Rt];st=this.chart.scales[Rt].getPixelForValue(Y)+A}R=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")Q=(t.left+t.right)/2-A;else if(Qt(a)){const Rt=Object.keys(a)[0],Y=a[Rt];Q=this.chart.scales[Rt].getPixelForValue(Y)}R=this._getYAxisLabelAlignment(T).textAlign}e==="y"&&(d==="start"?D="top":d==="end"&&(D="bottom"));const zt=this._getLabelSizes();for(B=0,tt=h.length;B<tt;++B){nt=h[B],rt=nt.label;const Rt=o.setContext(this.getContext(B));x=this.getPixelForTick(B)+o.labelOffset,C=this._resolveTickFontOptions(B),V=C.lineHeight,M=Ge(rt)?rt.length:1;const Y=M/2,at=Rt.color,gt=Rt.textStrokeColor,It=Rt.textStrokeWidth;let Mt=R;c?(Q=x,R==="inner"&&(B===tt-1?Mt=this.options.reverse?"left":"right":B===0?Mt=this.options.reverse?"right":"left":Mt="center"),a==="top"?m==="near"||O!==0?P=-M*V+V/2:m==="center"?P=-zt.highest.height/2-Y*V+V:P=-zt.highest.height+V/2:m==="near"||O!==0?P=V/2:m==="center"?P=zt.highest.height/2-Y*V:P=zt.highest.height-M*V,v&&(P*=-1),O!==0&&!Rt.showLabelBackdrop&&(Q+=V/2*Math.sin(O))):(st=x,P=(1-M)*V/2);let L;if(Rt.showLabelBackdrop){const X=Zn(Rt.backdropPadding),lt=zt.heights[B],ct=zt.widths[B];let yt=P-X.top,vt=0-X.left;switch(D){case"middle":yt-=lt/2;break;case"bottom":yt-=lt;break}switch(R){case"center":vt-=ct/2;break;case"right":vt-=ct;break;case"inner":B===tt-1?vt-=ct:B>0&&(vt-=ct/2);break}L={left:vt,top:yt,width:ct+X.width,height:lt+X.height,color:Rt.backdropColor}}N.push({label:rt,font:C,textOffset:P,options:{rotation:O,color:at,strokeColor:gt,strokeWidth:It,textAlign:Mt,textBaseline:D,translation:[Q,st],backdrop:L}})}return N}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ba(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,d=c.widest.width;let m,y;return e==="left"?a?(y=this.right+o,i==="near"?m="left":i==="center"?(m="center",y+=d/2):(m="right",y+=d)):(y=this.right-h,i==="near"?m="right":i==="center"?(m="center",y-=d/2):(m="left",y=this.left)):e==="right"?a?(y=this.left+o,i==="near"?m="right":i==="center"?(m="center",y-=d/2):(m="left",y-=d)):(y=this.left+h,i==="near"?m="left":i==="center"?(m="center",y+=d/2):(m="right",y=this.right)):m="right",{textAlign:m,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:a,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,a,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(d,m,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=a.length;o<c;++o){const d=a[o];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=a.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let m,y,v,T;this.isHorizontal()?(m=ga(t,this.left,c)-c/2,y=ga(t,this.right,h)+h/2,v=T=d):(v=ga(t,this.top,c)-c/2,T=ga(t,this.bottom,h)+h/2,m=y=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,v),e.lineTo(y,T),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&Iy(i,a);const o=this.getLabelItems(t);for(const c of o){const h=c.options,d=c.font,m=c.label,y=c.textOffset;nu(i,m,0,y,d,h)}a&&Dy(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:a}}=this;if(!i.display)return;const o=ln(i.font),c=Zn(i.padding),h=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||Qt(e)?(d+=c.bottom,Ge(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=c.top;const{titleX:m,titleY:y,maxWidth:v,rotation:T}=TP(this,d,e,h);nu(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:T,textAlign:EP(h,e,a),textBaseline:"middle",translation:[m,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ht(t.grid&&t.grid.z,-1),a=Ht(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ol.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return ln(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class lf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;wP(e)&&(i=this.register(e));const a=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,SP(t,c,i),this.override&&Te.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,a=this.scope;i in e&&delete e[i],a&&i in Te[a]&&(delete Te[a][i],this.override&&delete Na[i])}}function SP(n,t,e){const i=Zc(Object.create(null),[e?Te.get(e):{},Te.get(t),n.defaults]);Te.set(t,i),n.defaultRoutes&&AP(t,n.defaultRoutes),n.descriptors&&Te.describe(t,n.descriptors)}function AP(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),a=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),d=c.join(".");Te.route(o,a,d,h)})}function wP(n){return"id"in n&&"defaults"in n}class xP{constructor(){this.controllers=new lf(iw,"datasets",!0),this.elements=new lf(za,"elements"),this.plugins=new lf(Object,"plugins"),this.scales=new lf(ol,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):Zt(a,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const a=wy(t);ce(i["before"+a],[],i),e[t](i),ce(i["after"+a],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return a}}var Fi=new xP;class RP{constructor(){this._init=void 0}notify(t,e,i,a){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,a){a=a||{};for(const o of t){const c=o.plugin,h=c[i],d=[e,a,o.options];if(ce(h,d,c)===!1&&a.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,a=Ht(i.options&&i.options.plugins,{}),o=CP(i);return a===!1&&!e?[]:DP(t,o,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,a=(o,c)=>o.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(a(e,i),t,"stop"),this._notify(a(i,e),t,"start")}}function CP(n){const t={},e=[],i=Object.keys(Fi.plugins.items);for(let o=0;o<i.length;o++)e.push(Fi.getPlugin(i[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function IP(n,t){return!t&&n===!1?null:n===!0?{}:n}function DP(n,{plugins:t,localIds:e},i,a){const o=[],c=n.getContext();for(const h of t){const d=h.id,m=IP(i[d],a);m!==null&&o.push({plugin:h,options:OP(n.config,{plugin:h,local:e[d]},m,c)})}return o}function OP(n,{plugin:t,local:e},i,a){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Sp(n,t){const e=Te.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function MP(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function NP(n,t){return n===t?"_index_":"_value_"}function OT(n){if(n==="x"||n==="y"||n==="r")return n}function kP(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ap(n,...t){if(OT(n))return n;for(const e of t){const i=e.axis||kP(e.position)||n.length>1&&OT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function MT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function VP(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return MT(n,"x",e[0])||MT(n,"y",e[0])}return{}}function PP(n,t){const e=Na[n.type]||{scales:{}},i=t.scales||{},a=Sp(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=Ap(c,h,VP(c,n),Te.scales[h.type]),m=NP(d,a),y=e.scales||{};o[c]=Pc(Object.create(null),[{axis:d},h,y[d],y[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,d=c.indexAxis||Sp(h,t),y=(Na[h]||{}).scales||{};Object.keys(y).forEach(v=>{const T=MP(v,d),A=c[T+"AxisID"]||T;o[A]=o[A]||Object.create(null),Pc(o[A],[{axis:T},i[A],y[v]])})}),Object.keys(o).forEach(c=>{const h=o[c];Pc(h,[Te.scales[h.type],Te.scale])}),o}function cw(n){const t=n.options||(n.options={});t.plugins=Ht(t.plugins,{}),t.scales=PP(n,t)}function uw(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function LP(n){return n=n||{},n.data=uw(n.data),cw(n),n}const NT=new Map,hw=new Set;function cf(n,t){let e=NT.get(n);return e||(e=t(),NT.set(n,e),hw.add(e)),e}const vc=(n,t,e)=>{const i=Gf(t,e);i!==void 0&&n.add(i)};class zP{constructor(t){this._config=LP(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=uw(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),cw(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return cf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return cf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return cf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return cf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let a=i.get(t);return(!a||e)&&(a=new Map,i.set(t,a)),a}getOptionScopes(t,e,i){const{options:a,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const d=new Set;e.forEach(y=>{t&&(d.add(t),y.forEach(v=>vc(d,t,v))),y.forEach(v=>vc(d,a,v)),y.forEach(v=>vc(d,Na[o]||{},v)),y.forEach(v=>vc(d,Te,v)),y.forEach(v=>vc(d,bp,v))});const m=Array.from(d);return m.length===0&&m.push(Object.create(null)),hw.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,Na[e]||{},Te.datasets[e]||{},{type:e},Te,bp]}resolveNamedOptions(t,e,i,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=kT(this._resolverCache,t,a);let d=c;if(BP(c,e)){o.$shared=!1,i=Dr(i)?i():i;const m=this.createResolver(t,i,h);d=$o(c,i,m)}for(const m of e)o[m]=d[m];return o}createResolver(t,e,i=[""],a){const{resolver:o}=kT(this._resolverCache,t,i);return Qt(e)?$o(o,e,void 0,a):o}}function kT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const a=e.join();let o=i.get(a);return o||(o={resolver:Oy(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(a,o)),o}const UP=n=>Qt(n)&&Object.getOwnPropertyNames(n).some(t=>Dr(n[t]));function BP(n,t){const{isScriptable:e,isIndexable:i}=KA(n);for(const a of t){const o=e(a),c=i(a),h=(c||o)&&n[a];if(o&&(Dr(h)||UP(h))||c&&Ge(h))return!0}return!1}var jP="4.5.1";const HP=["top","bottom","left","right","chartArea"];function VT(n,t){return n==="top"||n==="bottom"||HP.indexOf(n)===-1&&t==="x"}function PT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function LT(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ce(e&&e.onComplete,[n],t)}function FP(n){const t=n.chart,e=t.options.animation;ce(e&&e.onProgress,[n],t)}function fw(n){return ky()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Sf={},zT=n=>{const t=fw(n);return Object.values(Sf).filter(e=>e.canvas===t).pop()};function qP(n,t,e){const i=Object.keys(n);for(const a of i){const o=+a;if(o>=t){const c=n[a];delete n[a],(e>0||o>t)&&(n[o+e]=c)}}}function GP(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let bd=class{static defaults=Te;static instances=Sf;static overrides=Na;static registry=Fi;static version=jP;static getChart=zT;static register(...t){Fi.add(...t),UT()}static unregister(...t){Fi.remove(...t),UT()}constructor(t,e){const i=this.config=new zP(e),a=fw(t),o=zT(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||cP(a)),this.platform.updateConfig(i);const h=this.platform.acquireContext(a,c.aspectRatio),d=h&&h.canvas,m=d&&d.height,y=d&&d.width;if(this.id=Kk(),this.ctx=h,this.canvas=d,this.width=y,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new RP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=gV(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],Sf[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}_s.listen(this,"complete",LT),_s.listen(this,"progress",FP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:a,_aspectRatio:o}=this;return ae(t)?e&&o?o:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Fi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():uT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return oT(this.canvas,this.ctx),this}stop(){return _s.stop(this),this}resize(t,e){_s.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,uT(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),ce(i.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Zt(e,(i,a)=>{i.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,a=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],d=Ap(c,h),m=d==="r",y=d==="x";return{options:h,dposition:m?"chartArea":y?"bottom":"left",dtype:m?"radialLinear":y?"category":"linear"}}))),Zt(o,c=>{const h=c.options,d=h.id,m=Ap(d,h),y=Ht(h.type,c.dtype);(h.position===void 0||VT(h.position,m)!==VT(c.dposition))&&(h.position=c.dposition),a[d]=!0;let v=null;if(d in i&&i[d].type===y)v=i[d];else{const T=Fi.getScale(y);v=new T({id:d,type:y,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),Zt(a,(c,h)=>{c||delete i[h]}),Zt(i,c=>{$n.configure(this,c,c.options),$n.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((a,o)=>a.index-o.index),i>e){for(let a=e;a<i;++a)this._destroyDatasetMeta(a);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(PT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,a)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=e.length;i<a;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Sp(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const d=Fi.getController(h),{datasetElementType:m,dataElementType:y}=Te.datasets[h];Object.assign(d,{dataElementType:Fi.getElement(y),datasetElementType:m&&Fi.getElement(m)}),c.controller=new d(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Zt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,y=this.data.datasets.length;m<y;m++){const{controller:v}=this.getDatasetMeta(m),T=!a&&o.indexOf(v)===-1;v.buildOrUpdateElements(T),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||Zt(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(PT("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Zt(this.scales,t=>{$n.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!$E(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of e){const c=i==="_removeElements"?-o:o;qP(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),a=i(0);for(let o=1;o<e;o++)if(!$E(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$n.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Zt(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Dr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),a={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(_s.has(this)?this.attached&&!_s.running(this)&&_s.start(this):(this.draw(),LT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let a,o;for(a=0,o=e.length;a<o;++a){const c=e[a];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=E4(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&Iy(e,a),t.controller.draw(),a&&Dy(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return eu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,a){const o=H4.modes[e];return typeof o=="function"?o(this,t,i,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let a=i.filter(o=>o&&o._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=La(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const a=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,a);Yf(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),_s.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),oT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Sf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},a=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Zt(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,m)=>{e.addEventListener(this,d,m),t[d]=m},a=(d,m)=>{t[d]&&(e.removeEventListener(this,d,m),delete t[d])},o=(d,m)=>{this.canvas&&this.resize(d,m)};let c;const h=()=>{a("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Zt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Zt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const a=i?"set":"remove";let o,c,h,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Ff(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const a=this.options.hover,o=(d,m)=>d.filter(y=>!m.some(v=>y.datasetIndex===v.datasetIndex&&y.index===v.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:a=[],options:o}=this,c=e,h=this._getActiveElements(t,a,i,c),d=Zk(t),m=GP(t,this._lastEvent,i,d);i&&(this._lastEvent=null,ce(o.onHover,[t,h,this],this),d&&ce(o.onClick,[t,h,this],this));const y=!Ff(h,a);return(y||e)&&(this._active=h,this._updateHoverStyles(h,a,e)),this._lastEvent=m,y}_getActiveElements(t,e,i,a){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}};function UT(){return Zt(bd.instances,n=>n._plugins.invalidate())}function dw(n,t,e=t){n.lineCap=Ht(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ht(e.borderDash,t.borderDash)),n.lineDashOffset=Ht(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ht(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ht(e.borderWidth,t.borderWidth),n.strokeStyle=Ht(e.borderColor,t.borderColor)}function YP(n,t,e){n.lineTo(e.x,e.y)}function KP(n){return n.stepped?CV:n.tension||n.cubicInterpolationMode==="monotone"?IV:YP}function gw(n,t,e={}){const i=n.length,{start:a=0,end:o=i-1}=e,{start:c,end:h}=t,d=Math.max(a,c),m=Math.min(o,h),y=a<c&&o<c||a>h&&o>h;return{count:i,start:d,loop:t.loop,ilen:m<d&&!y?i+m-d:m-d}}function QP(n,t,e,i){const{points:a,options:o}=t,{count:c,start:h,loop:d,ilen:m}=gw(a,e,i),y=KP(o);let{move:v=!0,reverse:T}=i||{},A,I,O;for(A=0;A<=m;++A)I=a[(h+(T?m-A:A))%c],!I.skip&&(v?(n.moveTo(I.x,I.y),v=!1):y(n,O,I,T,o.stepped),O=I);return d&&(I=a[(h+(T?m:0))%c],y(n,O,I,T,o.stepped)),!!d}function WP(n,t,e,i){const a=t.points,{count:o,start:c,ilen:h}=gw(a,e,i),{move:d=!0,reverse:m}=i||{};let y=0,v=0,T,A,I,O,N,B;const tt=rt=>(c+(m?h-rt:rt))%o,nt=()=>{O!==N&&(n.lineTo(y,N),n.lineTo(y,O),n.lineTo(y,B))};for(d&&(A=a[tt(0)],n.moveTo(A.x,A.y)),T=0;T<=h;++T){if(A=a[tt(T)],A.skip)continue;const rt=A.x,Q=A.y,st=rt|0;st===I?(Q<O?O=Q:Q>N&&(N=Q),y=(v*y+rt)/++v):(nt(),n.lineTo(rt,Q),I=st,v=0,O=N=Q),B=Q}nt()}function wp(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?WP:QP}function XP(n){return n.stepped?l4:n.tension||n.cubicInterpolationMode==="monotone"?c4:_a}function $P(n,t,e,i){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,i)&&a.closePath()),dw(n,t.options),n.stroke(a)}function JP(n,t,e,i){const{segments:a,options:o}=t,c=wp(t);for(const h of a)dw(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const ZP=typeof Path2D=="function";function tL(n,t,e,i){ZP&&!t.options.segment?$P(n,t,e,i):JP(n,t,e,i)}class eL extends za{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const a=i.spanGaps?this._loop:this._fullLoop;t4(this._points,i,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=y4(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,a=t[e],o=this.points,c=g4(this,{property:e,start:a,end:a});if(!c.length)return;const h=[],d=XP(i);let m,y;for(m=0,y=c.length;m<y;++m){const{start:v,end:T}=c[m],A=o[v],I=o[T];if(A===I){h.push(A);continue}const O=Math.abs((a-A[e])/(I[e]-A[e])),N=d(A,I,O,i.stepped);N[e]=t[e],h.push(N)}return h.length===1?h[0]:h}pathSegment(t,e,i){return wp(this)(t,this,e,i)}path(t,e,i){const a=this.segments,o=wp(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of a)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),tL(t,this,i,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function BT(n,t,e,i){const a=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<a.radius+a.hitRadius}class nL extends za{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const a=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,e){return BT(this,t,"x",e)}inYRange(t,e){return BT(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!eu(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Ep(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}const jT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},iL=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class HT extends za{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ce(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,a)=>t.sort(i,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,a=ln(i.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=jT(i,o);let m,y;e.font=a.string,this.isHorizontal()?(m=this.maxWidth,y=this._fitRows(c,o,h,d)+10):(y=this.maxHeight,m=this._fitCols(c,a,h,d)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,a){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.lineWidths=[0],y=a+h;let v=t;o.textAlign="left",o.textBaseline="middle";let T=-1,A=-y;return this.legendItems.forEach((I,O)=>{const N=i+e/2+o.measureText(I.text).width;(O===0||m[m.length-1]+N+2*h>c)&&(v+=y,m[m.length-(O>0?0:1)]=0,A+=y,T++),d[O]={left:0,top:A,row:T,width:N,height:a},m[m.length-1]+=N+h}),v}_fitCols(t,e,i,a){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.columnSizes=[],y=c-t;let v=h,T=0,A=0,I=0,O=0;return this.legendItems.forEach((N,B)=>{const{itemWidth:tt,itemHeight:nt}=sL(i,e,o,N,a);B>0&&A+nt+2*h>y&&(v+=T+h,m.push({width:T,height:A}),I+=T+h,O++,T=A=0),d[B]={left:I,top:A,col:O,width:tt,height:nt},T=Math.max(T,tt),A+=nt+h}),v+=T,m.push({width:T,height:A}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:a},rtl:o}}=this,c=Ho(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=rn(i,this.left+a,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,d=rn(i,this.left+a,this.right-this.lineWidths[h])),m.top+=this.top+t+a,m.left=c.leftForLtr(c.x(d),m.width),d+=m.width+a}else{let h=0,d=rn(i,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,d=rn(i,this.top+t+a,this.bottom-this.columnSizes[h].height)),m.top=d,m.left+=this.left+a,m.left=c.leftForLtr(c.x(m.left),m.width),d+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Iy(t,this),this._draw(),Dy(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:a}=this,{align:o,labels:c}=t,h=Te.color,d=Ho(t.rtl,this.left,this.width),m=ln(c.font),{padding:y}=c,v=m.size,T=v/2;let A;this.drawTitle(),a.textAlign=d.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:I,boxHeight:O,itemHeight:N}=jT(c,v),B=function(st,R,x){if(isNaN(I)||I<=0||isNaN(O)||O<0)return;a.save();const C=Ht(x.lineWidth,1);if(a.fillStyle=Ht(x.fillStyle,h),a.lineCap=Ht(x.lineCap,"butt"),a.lineDashOffset=Ht(x.lineDashOffset,0),a.lineJoin=Ht(x.lineJoin,"miter"),a.lineWidth=C,a.strokeStyle=Ht(x.strokeStyle,h),a.setLineDash(Ht(x.lineDash,[])),c.usePointStyle){const V={radius:O*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:C},M=d.xPlus(st,I/2),P=R+T;GA(a,V,M,P,c.pointStyleWidth&&I)}else{const V=R+Math.max((v-O)/2,0),M=d.leftForLtr(st,I),P=Bc(x.borderRadius);a.beginPath(),Object.values(P).some(D=>D!==0)?Tp(a,{x:M,y:V,w:I,h:O,radius:P}):a.rect(M,V,I,O),a.fill(),C!==0&&a.stroke()}a.restore()},tt=function(st,R,x){nu(a,x.text,st,R+N/2,m,{strikethrough:x.hidden,textAlign:d.textAlign(x.textAlign)})},nt=this.isHorizontal(),rt=this._computeTitleHeight();nt?A={x:rn(o,this.left+y,this.right-i[0]),y:this.top+y+rt,line:0}:A={x:this.left+y,y:rn(o,this.top+rt+y,this.bottom-e[0].height),line:0},JA(this.ctx,t.textDirection);const Q=N+y;this.legendItems.forEach((st,R)=>{a.strokeStyle=st.fontColor,a.fillStyle=st.fontColor;const x=a.measureText(st.text).width,C=d.textAlign(st.textAlign||(st.textAlign=c.textAlign)),V=I+T+x;let M=A.x,P=A.y;d.setWidth(this.width),nt?R>0&&M+V+y>this.right&&(P=A.y+=Q,A.line++,M=A.x=rn(o,this.left+y,this.right-i[A.line])):R>0&&P+Q>this.bottom&&(M=A.x=M+e[A.line].width+y,A.line++,P=A.y=rn(o,this.top+rt+y,this.bottom-e[A.line].height));const D=d.x(M);if(B(D,P,st),M=mV(C,M+I+T,nt?M+V:this.right,t.rtl),tt(d.x(M),P,st),nt)A.x+=V+y;else if(typeof st.text!="string"){const zt=m.lineHeight;A.y+=mw(st,zt)+y}else A.y+=Q}),ZA(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=ln(e.font),a=Zn(e.padding);if(!e.display)return;const o=Ho(t.rtl,this.left,this.width),c=this.ctx,h=e.position,d=i.size/2,m=a.top+d;let y,v=this.left,T=this.width;if(this.isHorizontal())T=Math.max(...this.lineWidths),y=this.top+m,v=rn(t.align,v,this.right-T);else{const I=this.columnSizes.reduce((O,N)=>Math.max(O,N.height),0);y=m+rn(t.align,this.top,this.bottom-I-t.labels.padding-this._computeTitleHeight())}const A=rn(h,v,v+T);c.textAlign=o.textAlign(Ry(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,nu(c,e.text,A,y,i)}_computeTitleHeight(){const t=this.options.title,e=ln(t.font),i=Zn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,a,o;if(Rc(t,this.left,this.right)&&Rc(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],Rc(t,a.left,a.left+a.width)&&Rc(e,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!oL(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=iL(a,i);a&&!o&&ce(e.onLeave,[t,a,this],this),this._hoveredItem=i,i&&!o&&ce(e.onHover,[t,i,this],this)}else i&&ce(e.onClick,[t,i,this],this)}}function sL(n,t,e,i,a){const o=rL(i,n,t,e),c=aL(a,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function rL(n,t,e,i){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(a).width}function aL(n,t,e){let i=n;return typeof t.text!="string"&&(i=mw(t,e)),i}function mw(n,t){const e=n.text?n.text.length:0;return t*e}function oL(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var lL={id:"legend",_element:HT,start(n,t,e){const i=n.legend=new HT({ctx:n.ctx,options:e,chart:n});$n.configure(n,i,e),$n.addBox(n,i)},stop(n){$n.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;$n.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const m=d.controller.getStyle(e?0:void 0),y=Zn(m.borderWidth);return{text:t[d.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class pw extends za{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=Ge(i.text)?i.text.length:1;this._padding=Zn(i.padding);const o=a*ln(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:a,right:o,options:c}=this,h=c.align;let d=0,m,y,v;return this.isHorizontal()?(y=rn(h,i,o),v=e+t,m=o-i):(c.position==="left"?(y=i+t,v=rn(h,a,e),d=Ye*-.5):(y=o-t,v=rn(h,e,a),d=Ye*.5),m=a-e),{titleX:y,titleY:v,maxWidth:m,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=ln(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:d,rotation:m}=this._drawArgs(o);nu(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:m,textAlign:Ry(e.align),textBaseline:"middle",translation:[c,h]})}}function cL(n,t){const e=new pw({ctx:n.ctx,options:t,chart:n});$n.configure(n,e,t),$n.addBox(n,e),n.titleBlock=e}var uL={id:"title",_element:pw,start(n,t,e){cL(n,e)},stop(n){const t=n.titleBlock;$n.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;$n.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ic={average(n){if(!n.length)return!1;let t,e,i=new Set,a=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();i.add(d.x),a+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,d)=>h+d)/i.size,y:a/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,a=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const d=n[o].element;if(d&&d.hasValue()){const m=d.getCenterPoint(),y=vp(t,m);y<a&&(a=y,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function Hi(n,t){return t&&(Ge(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function vs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function hL(n,t){const{element:e,datasetIndex:i,index:a}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(a);return{chart:n,label:c,parsed:o.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:h,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:e}}function FT(n,t){const e=n.chart.ctx,{body:i,footer:a,title:o}=n,{boxWidth:c,boxHeight:h}=t,d=ln(t.bodyFont),m=ln(t.titleFont),y=ln(t.footerFont),v=o.length,T=a.length,A=i.length,I=Zn(t.padding);let O=I.height,N=0,B=i.reduce((rt,Q)=>rt+Q.before.length+Q.lines.length+Q.after.length,0);if(B+=n.beforeBody.length+n.afterBody.length,v&&(O+=v*m.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),B){const rt=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;O+=A*rt+(B-A)*d.lineHeight+(B-1)*t.bodySpacing}T&&(O+=t.footerMarginTop+T*y.lineHeight+(T-1)*t.footerSpacing);let tt=0;const nt=function(rt){N=Math.max(N,e.measureText(rt).width+tt)};return e.save(),e.font=m.string,Zt(n.title,nt),e.font=d.string,Zt(n.beforeBody.concat(n.afterBody),nt),tt=t.displayColors?c+2+t.boxPadding:0,Zt(i,rt=>{Zt(rt.before,nt),Zt(rt.lines,nt),Zt(rt.after,nt)}),tt=0,e.font=y.string,Zt(n.footer,nt),e.restore(),N+=I.width,{width:N,height:O}}function fL(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function dL(n,t,e,i){const{x:a,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&a+o+c>t.width||n==="right"&&a-o-c<0)return!0}function gL(n,t,e,i){const{x:a,width:o}=e,{width:c,chartArea:{left:h,right:d}}=n;let m="center";return i==="center"?m=a<=(h+d)/2?"left":"right":a<=o/2?m="left":a>=c-o/2&&(m="right"),dL(m,n,t,e)&&(m="center"),m}function qT(n,t,e){const i=e.yAlign||t.yAlign||fL(n,e);return{xAlign:e.xAlign||t.xAlign||gL(n,t,e,i),yAlign:i}}function mL(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function pL(n,t,e){let{y:i,height:a}=n;return t==="top"?i+=e:t==="bottom"?i-=a+e:i-=a/2,i}function GT(n,t,e,i){const{caretSize:a,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:d}=e,m=a+o,{topLeft:y,topRight:v,bottomLeft:T,bottomRight:A}=Bc(c);let I=mL(t,h);const O=pL(t,d,m);return d==="center"?h==="left"?I+=m:h==="right"&&(I-=m):h==="left"?I-=Math.max(y,T)+a:h==="right"&&(I+=Math.max(v,A)+a),{x:Xn(I,0,i.width-t.width),y:Xn(O,0,i.height-t.height)}}function uf(n,t,e){const i=Zn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function YT(n){return Hi([],vs(n))}function yL(n,t,e){return La(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function KT(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const yw={beforeTitle:ys,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ys,beforeBody:ys,beforeLabel:ys,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return ae(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ys,afterBody:ys,beforeFooter:ys,footer:ys,afterFooter:ys};function bn(n,t,e,i){const a=n[t].call(e,i);return typeof a>"u"?yw[t].call(e,i):a}class QT extends za{static positioners=Ic;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&e.options.animation&&i.animations,o=new ew(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=yL(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,a=bn(i,"beforeTitle",this,t),o=bn(i,"title",this,t),c=bn(i,"afterTitle",this,t);let h=[];return h=Hi(h,vs(a)),h=Hi(h,vs(o)),h=Hi(h,vs(c)),h}getBeforeBody(t,e){return YT(bn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,a=[];return Zt(t,o=>{const c={before:[],lines:[],after:[]},h=KT(i,o);Hi(c.before,vs(bn(h,"beforeLabel",this,o))),Hi(c.lines,bn(h,"label",this,o)),Hi(c.after,vs(bn(h,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(t,e){return YT(bn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,a=bn(i,"beforeFooter",this,t),o=bn(i,"footer",this,t),c=bn(i,"afterFooter",this,t);let h=[];return h=Hi(h,vs(a)),h=Hi(h,vs(o)),h=Hi(h,vs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,a=[],o=[],c=[];let h=[],d,m;for(d=0,m=e.length;d<m;++d)h.push(hL(this.chart,e[d]));return t.filter&&(h=h.filter((y,v,T)=>t.filter(y,v,T,i))),t.itemSort&&(h=h.sort((y,v)=>t.itemSort(y,v,i))),Zt(h,y=>{const v=KT(t.callbacks,y);a.push(bn(v,"labelColor",this,y)),o.push(bn(v,"labelPointStyle",this,y)),c.push(bn(v,"labelTextColor",this,y))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const h=Ic[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const d=this._size=FT(this,i),m=Object.assign({},h,d),y=qT(this.chart,i,m),v=GT(i,m,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:v.x,y:v.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,a){const o=this.getCaretPosition(t,i,a);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:d,topRight:m,bottomLeft:y,bottomRight:v}=Bc(h),{x:T,y:A}=t,{width:I,height:O}=e;let N,B,tt,nt,rt,Q;return o==="center"?(rt=A+O/2,a==="left"?(N=T,B=N-c,nt=rt+c,Q=rt-c):(N=T+I,B=N+c,nt=rt-c,Q=rt+c),tt=N):(a==="left"?B=T+Math.max(d,y)+c:a==="right"?B=T+I-Math.max(m,v)-c:B=this.caretX,o==="top"?(nt=A,rt=nt-c,N=B-c,tt=B+c):(nt=A+O,rt=nt+c,N=B+c,tt=B-c),Q=nt),{x1:N,x2:B,x3:tt,y1:nt,y2:rt,y3:Q}}drawTitle(t,e,i){const a=this.title,o=a.length;let c,h,d;if(o){const m=Ho(i.rtl,this.x,this.width);for(t.x=uf(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=ln(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,d=0;d<o;++d)e.fillText(a[d],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,d+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,a,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:d,boxWidth:m}=o,y=ln(o.bodyFont),v=uf(this,"left",o),T=a.x(v),A=d<y.lineHeight?(y.lineHeight-d)/2:0,I=e.y+A;if(o.usePointStyle){const O={radius:Math.min(m,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},N=a.leftForLtr(T,m)+m/2,B=I+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Ep(t,O,N,B),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Ep(t,O,N,B)}else{t.lineWidth=Qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const O=a.leftForLtr(T,m),N=a.leftForLtr(a.xPlus(T,1),m-2),B=Bc(c.borderRadius);Object.values(B).some(tt=>tt!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Tp(t,{x:O,y:I,w:m,h:d,radius:B}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Tp(t,{x:N,y:I+1,w:m-2,h:d-2,radius:B}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(O,I,m,d),t.strokeRect(O,I,m,d),t.fillStyle=c.backgroundColor,t.fillRect(N,I+1,m-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:m,boxPadding:y}=i,v=ln(i.bodyFont);let T=v.lineHeight,A=0;const I=Ho(i.rtl,this.x,this.width),O=function(x){e.fillText(x,I.x(t.x+A),t.y+T/2),t.y+=T+o},N=I.textAlign(c);let B,tt,nt,rt,Q,st,R;for(e.textAlign=c,e.textBaseline="middle",e.font=v.string,t.x=uf(this,N,i),e.fillStyle=i.bodyColor,Zt(this.beforeBody,O),A=h&&N!=="right"?c==="center"?m/2+y:m+2+y:0,rt=0,st=a.length;rt<st;++rt){for(B=a[rt],tt=this.labelTextColors[rt],e.fillStyle=tt,Zt(B.before,O),nt=B.lines,h&&nt.length&&(this._drawColorBox(e,t,rt,I,i),T=Math.max(v.lineHeight,d)),Q=0,R=nt.length;Q<R;++Q)O(nt[Q]),T=v.lineHeight;Zt(B.after,O)}A=0,T=v.lineHeight,Zt(this.afterBody,O),t.y-=o}drawFooter(t,e,i){const a=this.footer,o=a.length;let c,h;if(o){const d=Ho(i.rtl,this.x,this.width);for(t.x=uf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",c=ln(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(a[h],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,a){const{xAlign:o,yAlign:c}=this,{x:h,y:d}=t,{width:m,height:y}=i,{topLeft:v,topRight:T,bottomLeft:A,bottomRight:I}=Bc(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(h+v,d),c==="top"&&this.drawCaret(t,e,i,a),e.lineTo(h+m-T,d),e.quadraticCurveTo(h+m,d,h+m,d+T),c==="center"&&o==="right"&&this.drawCaret(t,e,i,a),e.lineTo(h+m,d+y-I),e.quadraticCurveTo(h+m,d+y,h+m-I,d+y),c==="bottom"&&this.drawCaret(t,e,i,a),e.lineTo(h+A,d+y),e.quadraticCurveTo(h,d+y,h,d+y-A),c==="center"&&o==="left"&&this.drawCaret(t,e,i,a),e.lineTo(h,d+v),e.quadraticCurveTo(h,d,h+v,d),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const c=Ic[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=FT(this,t),d=Object.assign({},c,this._size),m=qT(e,t,d),y=GT(t,d,m,e);(a._to!==y.x||o._to!==y.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=Zn(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,a,e),JA(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),ZA(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,a=t.map(({datasetIndex:h,index:d})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[d],index:d}}),o=!Ff(i,a),c=this._positionChanged(a,e);(o||c)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),d=e||!Ff(c,o)||h;return d&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:a,options:o}=this,c=Ic[o.position].call(this,t,e);return c!==!1&&(i!==c.x||a!==c.y)}}var _L={id:"tooltip",_element:QT,positioners:Ic,afterInit(n,t,e){e&&(n.tooltip=new QT({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const vL=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function bL(n,t,e,i){const a=n.indexOf(t);if(a===-1)return vL(n,t,e,i);const o=n.lastIndexOf(t);return a!==o?e:a}const EL=(n,t)=>n===null?null:Xn(Math.round(n),0,t);function WT(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class TL extends ol{static id="category";static defaults={ticks:{callback:WT}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:a,label:o}of e)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ae(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:bL(i,t,Ht(e,t),this._addedLabels),EL(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)a.push({value:c});return a}getLabelForValue(t){return WT.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function SL(n,t){const e=[],{bounds:a,step:o,min:c,max:h,precision:d,count:m,maxTicks:y,maxDigits:v,includeBounds:T}=n,A=o||1,I=y-1,{min:O,max:N}=t,B=!ae(c),tt=!ae(h),nt=!ae(m),rt=(N-O)/(v+1);let Q=ZE((N-O)/I/A)*A,st,R,x,C;if(Q<1e-14&&!B&&!tt)return[{value:O},{value:N}];C=Math.ceil(N/Q)-Math.floor(O/Q),C>I&&(Q=ZE(C*Q/I/A)*A),ae(d)||(st=Math.pow(10,d),Q=Math.ceil(Q*st)/st),a==="ticks"?(R=Math.floor(O/Q)*Q,x=Math.ceil(N/Q)*Q):(R=O,x=N),B&&tt&&o&&sV((h-c)/o,Q/1e3)?(C=Math.round(Math.min((h-c)/Q,y)),Q=(h-c)/C,R=c,x=h):nt?(R=B?c:R,x=tt?h:x,C=m-1,Q=(x-R)/C):(C=(x-R)/Q,Lc(C,Math.round(C),Q/1e3)?C=Math.round(C):C=Math.ceil(C));const V=Math.max(tT(Q),tT(R));st=Math.pow(10,ae(d)?V:d),R=Math.round(R*st)/st,x=Math.round(x*st)/st;let M=0;for(B&&(T&&R!==c?(e.push({value:c}),R<c&&M++,Lc(Math.round((R+M*Q)*st)/st,c,XT(c,rt,n))&&M++):R<c&&M++);M<C;++M){const P=Math.round((R+M*Q)*st)/st;if(tt&&P>h)break;e.push({value:P})}return tt&&T&&x!==h?e.length&&Lc(e[e.length-1].value,h,XT(h,rt,n))?e[e.length-1].value=h:e.push({value:h}):(!tt||x===h)&&e.push({value:x}),e}function XT(n,t,{horizontal:e,minRotation:i}){const a=ba(i),o=(e?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class AL extends ol{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ae(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const c=d=>a=e?a:d,h=d=>o=i?o:d;if(t){const d=Xo(a),m=Xo(o);d<0&&m<0?h(0):d>0&&m>0&&c(0)}if(a===o){let d=o===0?1:Math.abs(o*.05);h(o+d),t||c(a-d)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=SL(a,o);return t.bounds==="ticks"&&rV(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const a=(i-e)/Math.max(t.length-1,1)/2;e-=a,i+=a}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return FA(t,this.chart.options.locale,this.options.ticks.format)}}class wL extends AL{static id="linear";static defaults={ticks:{callback:qA.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Jn(t)?t:0,this.max=Jn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ba(this.options.ticks.minRotation),a=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Ed={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Sn=Object.keys(Ed);function $T(n,t){return n-t}function JT(n,t){if(ae(t))return null;const e=n._adapter,{parser:i,round:a,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),Jn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(a&&(c=a==="week"&&(tu(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,a)),+c)}function ZT(n,t,e,i){const a=Sn.length;for(let o=Sn.indexOf(n);o<a-1;++o){const c=Ed[Sn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Sn[o]}return Sn[a-1]}function xL(n,t,e,i,a){for(let o=Sn.length-1;o>=Sn.indexOf(e);o--){const c=Sn[o];if(Ed[c].common&&n._adapter.diff(a,i,c)>=t-1)return c}return Sn[e?Sn.indexOf(e):0]}function RL(n){for(let t=Sn.indexOf(n)+1,e=Sn.length;t<e;++t)if(Ed[Sn[t]].common)return Sn[t]}function tS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:a}=xy(e,t),o=e[i]>=t?e[i]:e[a];n[o]=!0}}function CL(n,t,e,i){const a=n._adapter,o=+a.startOf(t[0].value,i),c=t[t.length-1].value;let h,d;for(h=o;h<=c;h=+a.add(h,1,i))d=e[h],d>=0&&(t[d].major=!0);return t}function eS(n,t,e){const i=[],a={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],a[h]=c,i.push({value:h,major:!1});return o===0||!e?i:CL(n,i,a,e)}class nS extends ol{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),a=this._adapter=new L4._date(t.adapters.date);a.init(e),Pc(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:JT(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function d(m){!c&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),a=Jn(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),o=Jn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,h=hV(a,o,c);return this._unit=e.unit||(i.autoSkip?ZT(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):xL(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:RL(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),eS(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Xn(e,0,c),i=Xn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,a=this.options,o=a.time,c=o.unit||ZT(o.minUnit,e,i,this._getLabelCapacity(e)),h=Ht(a.ticks.stepSize,1),d=c==="week"?o.isoWeekday:!1,m=tu(d)||d===!0,y={};let v=e,T,A;if(m&&(v=+t.startOf(v,"isoWeek",d)),v=+t.startOf(v,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const I=a.ticks.source==="data"&&this.getDataTimestamps();for(T=v,A=0;T<i;T=+t.add(T,h,c),A++)tS(y,T,I);return(T===i||a.bounds==="ticks"||A===1)&&tS(y,T,I),Object.keys(y).sort($T).map(O=>+O)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,o=this._unit,c=e||a[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,a){const o=this.options,c=o.ticks.callback;if(c)return ce(c,[t,e,i],this);const h=o.time.displayFormats,d=this._unit,m=this._majorUnit,y=d&&h[d],v=m&&h[m],T=i[e],A=m&&v&&T&&T.major;return this._adapter.format(t,a||(A?v:y))}generateTickLabels(t){let e,i,a;for(e=0,i=t.length;e<i;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,a=ba(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(a),c=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,a=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,eS(this,[t],this._majorUnit),a),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,i=a.length;e<i;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const a=this.getLabels();for(e=0,i=a.length;e<i;++e)t.push(JT(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return dV(t.sort($T))}}function hf(n,t,e){let i=0,a=n.length-1,o,c,h,d;e?(t>=n[i].pos&&t<=n[a].pos&&({lo:i,hi:a}=Ea(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:d}=n[a]):(t>=n[i].time&&t<=n[a].time&&({lo:i,hi:a}=Ea(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:d}=n[a]);const m=c-o;return m?h+(d-h)*(t-o)/m:h}class BL extends nS{static id="timeseries";static defaults=nS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=hf(e,this.min),this._tableRange=hf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,a=[],o=[];let c,h,d,m,y;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&a.push(m);if(a.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=a.length;c<h;++c)y=a[c+1],d=a[c-1],m=a[c],Math.round((y+d)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(hf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return hf(this._table,i*this._tableRange+this._minPos,!0)}}const _w="label";function iS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function IL(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function vw(n,t){n.labels=t}function bw(n,t,e=_w){const i=[];n.datasets=t.map(a=>{const o=n.datasets.find(c=>c[e]===a[e]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function DL(n,t=_w){const e={labels:[],datasets:[]};return vw(e,n.labels),bw(e,n.datasets,t),e}function OL(n,t){const{height:e=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:c,data:h,options:d,plugins:m=[],fallbackContent:y,updateMode:v,...T}=n,A=Ft.useRef(null),I=Ft.useRef(null),O=()=>{A.current&&(I.current=new bd(A.current,{type:c,data:DL(h,o),options:d&&{...d},plugins:m}),iS(t,I.current))},N=()=>{iS(t,null),I.current&&(I.current.destroy(),I.current=null)};return Ft.useEffect(()=>{!a&&I.current&&d&&IL(I.current,d)},[a,d]),Ft.useEffect(()=>{!a&&I.current&&vw(I.current.config.data,h.labels)},[a,h.labels]),Ft.useEffect(()=>{!a&&I.current&&h.datasets&&bw(I.current.config.data,h.datasets,o)},[a,h.datasets]),Ft.useEffect(()=>{I.current&&(a?(N(),setTimeout(O)):I.current.update(v))},[a,d,h.labels,h.datasets,v]),Ft.useEffect(()=>{I.current&&(N(),setTimeout(O))},[c]),Ft.useEffect(()=>(O(),()=>N()),[]),it.jsx("canvas",{ref:A,role:"img",height:e,width:i,...T,children:y})}const ML=Ft.forwardRef(OL);function NL(n,t){return bd.register(t),Ft.forwardRef((e,i)=>it.jsx(ML,{...e,ref:i,type:n}))}const kL=NL("line",P4);bd.register(TL,wL,nL,eL,uL,_L,lL);const VL=()=>{const{user:n}=MA(),[t,e]=Ft.useState(""),[i,a]=Ft.useState(""),[o,c]=Ft.useState(""),[h,d]=Ft.useState([]),[m,y]=Ft.useState(!1),[v,T]=Ft.useState(null);Ft.useEffect(()=>{if(n)return Ek(n.uid,st=>{d([...st].reverse())})},[n]);const A=async Q=>{Q.preventDefault(),y(!0);try{const st={weight:parseFloat(t),systolic:parseInt(i),diastolic:parseInt(o)};v?(await Sk(v,st),T(null)):await bk(n.uid,st),e(""),a(""),c("")}catch(st){alert("Error saving record: "+st.message)}finally{y(!1)}},I=Q=>{T(Q.id),e(Q.weight.toString()),a(Q.systolic.toString()),c(Q.diastolic.toString()),window.scrollTo({top:0,behavior:"smooth"})},O=()=>{T(null),e(""),a(""),c("")},N=async Q=>{if(window.confirm("Are you sure you want to delete this record?"))try{await Tk(Q)}catch(st){alert("Error deleting record: "+st.message)}},B=[...h].sort((Q,st)=>{const R=Q.timestamp?Q.timestamp.toMillis():0;return(st.timestamp?st.timestamp.toMillis():0)-R})[0],tt=B?Ak(B.systolic,B.diastolic):null,nt={labels:h.map(Q=>Q.timestamp?new Date(Q.timestamp.toDate()).toLocaleDateString():""),datasets:[{label:"Systolic",data:h.map(Q=>Q.systolic),borderColor:"#6366f1",backgroundColor:"rgba(99, 102, 241, 0.5)",tension:.3},{label:"Diastolic",data:h.map(Q=>Q.diastolic),borderColor:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.5)",tension:.3},{label:"Weight",data:h.map(Q=>Q.weight),borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.5)",tension:.3,yAxisID:"y1"}]},rt={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"BP (mmHg)",color:"#94a3b8"},grid:{color:"rgba(255, 255, 255, 0.05)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Weight (kg)",color:"#94a3b8"},grid:{drawOnChartArea:!1}},x:{grid:{color:"rgba(255, 255, 255, 0.05)"}}},plugins:{legend:{labels:{color:"#f8fafc"}}}};return it.jsxs("div",{className:"dashboard-container",style:{padding:"24px",maxWidth:"1200px",margin:"0 auto"},children:[it.jsxs("header",{className:"dashboard-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[it.jsxs("div",{children:[it.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold"},children:"Health Dashboard"}),it.jsx("p",{style:{color:"var(--text-muted)"},children:"Tracking your vitals"})]}),it.jsxs("button",{onClick:qN,style:{background:"var(--glass)",color:"white",padding:"8px 16px",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px",border:"1px solid var(--glass-border)"},children:[it.jsx(ok,{size:18})," Logout"]})]}),it.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px",marginBottom:"32px"},children:[it.jsxs("section",{className:"glass-card",children:[it.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[it.jsxs("h2",{style:{fontSize:"18px",display:"flex",alignItems:"center",gap:"8px"},children:[v?it.jsx(GE,{size:20,color:"var(--warning)"}):it.jsx(uk,{size:20,color:"var(--primary)"}),v?"Edit Entry":"New Entry"]}),v&&it.jsx("button",{onClick:O,style:{background:"transparent",color:"var(--text-muted)",display:"flex",alignItems:"center"},children:it.jsx(_k,{size:18})})]}),it.jsxs("form",{onSubmit:A,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[it.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[it.jsx("label",{style:{fontSize:"13px",color:"var(--text-muted)"},children:"Weight (kg)"}),it.jsx("input",{type:"number",step:"0.1",value:t,onChange:Q=>e(Q.target.value),required:!0})]}),it.jsxs("div",{className:"bp-input-grid",style:{display:"grid",gap:"16px"},children:[it.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[it.jsx("label",{style:{fontSize:"13px",color:"var(--text-muted)"},children:"Systolic"}),it.jsx("input",{type:"number",value:i,onChange:Q=>a(Q.target.value),required:!0})]}),it.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[it.jsx("label",{style:{fontSize:"13px",color:"var(--text-muted)"},children:"Diastolic"}),it.jsx("input",{type:"number",value:o,onChange:Q=>c(Q.target.value),required:!0})]})]}),it.jsx("button",{type:"submit",disabled:m,style:{background:v?"var(--warning)":"var(--primary)",color:"white",padding:"12px",borderRadius:"8px",fontWeight:"600"},children:m?"Saving...":v?"Update Record":"Save Record"})]})]}),it.jsxs("section",{className:"glass-card",style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[it.jsxs("h2",{style:{fontSize:"18px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[it.jsx(ZN,{size:20,color:"var(--primary)"})," Latest Status"]}),B?it.jsxs("div",{style:{textAlign:"center"},children:[it.jsxs("div",{style:{fontSize:"42px",fontWeight:"bold"},children:[B.systolic,"/",B.diastolic]}),it.jsx("div",{style:{color:tt.color,fontWeight:"600",marginBottom:"16px"},children:tt.label}),it.jsxs("div",{className:"latest-status-stats",style:{display:"flex",justifyContent:"center",gap:"16px"},children:[it.jsxs("div",{className:"stat-item",style:{background:"var(--glass)",padding:"12px",borderRadius:"12px",flex:1},children:[it.jsx(fk,{size:18}),it.jsxs("div",{children:[B.weight," kg"]})]}),it.jsxs("div",{className:"stat-item",style:{background:"var(--glass)",padding:"12px",borderRadius:"12px",flex:1},children:[it.jsx(ik,{size:18}),it.jsx("div",{style:{fontSize:"12px"},children:B.timestamp?new Date(B.timestamp.toDate()).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit"}):"Pending"})]})]})]}):it.jsx("p",{style:{textAlign:"center",color:"var(--text-muted)"},children:"No records yet."})]})]}),it.jsxs("section",{className:"glass-card",style:{minHeight:"400px",marginBottom:"32px"},children:[it.jsx("h2",{style:{fontSize:"18px",marginBottom:"20px"},children:"30-Day Trends"}),it.jsx("div",{style:{height:"300px"},children:it.jsx(kL,{data:nt,options:rt})})]}),it.jsxs("section",{className:"glass-card",children:[it.jsx("h2",{style:{fontSize:"18px",marginBottom:"20px"},children:"History"}),it.jsx("div",{style:{overflowX:"auto"},children:it.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[it.jsx("thead",{children:it.jsxs("tr",{style:{borderBottom:"1px solid var(--glass-border)"},children:[it.jsx("th",{style:{padding:"12px",color:"var(--text-muted)",fontWeight:"500"},children:"Date"}),it.jsx("th",{style:{padding:"12px",color:"var(--text-muted)",fontWeight:"500"},children:"BP (mmHg)"}),it.jsx("th",{style:{padding:"12px",color:"var(--text-muted)",fontWeight:"500"},children:"Weight (kg)"}),it.jsx("th",{style:{padding:"12px",textAlign:"right",color:"var(--text-muted)",fontWeight:"500"},children:"Actions"})]})}),it.jsxs("tbody",{children:[h.map(Q=>it.jsxs("tr",{style:{borderBottom:"1px solid var(--glass-border)"},children:[it.jsx("td",{style:{padding:"12px"},children:Q.timestamp?new Date(Q.timestamp.toDate()).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit"}):"Pending"}),it.jsxs("td",{style:{padding:"12px",fontWeight:"500"},children:[Q.systolic,"/",Q.diastolic]}),it.jsx("td",{style:{padding:"12px"},children:Q.weight}),it.jsx("td",{style:{padding:"12px",textAlign:"right"},children:it.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[it.jsx("button",{onClick:()=>I(Q),style:{background:"transparent",color:"var(--primary)",padding:"6px"},title:"Edit",children:it.jsx(GE,{size:18})}),it.jsx("button",{onClick:()=>N(Q.id),style:{background:"transparent",color:"var(--danger)",padding:"6px"},title:"Delete",children:it.jsx(gk,{size:18})})]})})]},Q.id)),h.length===0&&it.jsx("tr",{children:it.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"24px",color:"var(--text-muted)"},children:"No records found."})})]})]})})]})]})},PL=()=>{const{user:n,loading:t}=MA();return t?it.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"white"},children:"Loading Application..."}):n?it.jsx(VL,{}):it.jsx(vk,{})};function LL(){return it.jsx(YN,{children:it.jsx(PL,{})})}lR.createRoot(document.getElementById("root")).render(it.jsx(tR.StrictMode,{children:it.jsx(LL,{})}));
