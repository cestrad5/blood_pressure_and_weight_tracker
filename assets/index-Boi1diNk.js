(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function WT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pm={exports:{}},cc={};var W0;function FR(){if(W0)return cc;W0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return cc.Fragment=t,cc.jsx=e,cc.jsxs=e,cc}var X0;function qR(){return X0||(X0=1,pm.exports=FR()),pm.exports}var ct=qR(),ym={exports:{}},St={};var $0;function GR(){if($0)return St;$0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,I={};function j(L,W,ot){this.props=L,this.context=W,this.refs=I,this.updater=ot||D}j.prototype.isReactComponent={},j.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function tt(){}tt.prototype=j.prototype;function et(L,W,ot){this.props=L,this.context=W,this.refs=I,this.updater=ot||D}var it=et.prototype=new tt;it.constructor=et,N(it,j.prototype),it.isPureReactComponent=!0;var nt=Array.isArray;function rt(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(L,W,ot){var lt=ot.ref;return{$$typeof:n,type:L,key:W,ref:lt!==void 0?lt:null,props:ot}}function V(L,W){return C(L.type,W,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function P(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ot){return W[ot]})}var O=/\/+/g;function zt(L,W){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):W.toString(36)}function xt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(rt,rt):(L.status="pending",L.then(function(W){L.status==="pending"&&(L.status="fulfilled",L.value=W)},function(W){L.status==="pending"&&(L.status="rejected",L.reason=W)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Y(L,W,ot,lt,yt){var vt=typeof L;(vt==="undefined"||vt==="boolean")&&(L=null);var Bt=!1;if(L===null)Bt=!0;else switch(vt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(L.$$typeof){case n:case t:Bt=!0;break;case y:return Bt=L._init,Y(Bt(L._payload),W,ot,lt,yt)}}if(Bt)return yt=yt(L),Bt=lt===""?"."+zt(L,0):lt,nt(yt)?(ot="",Bt!=null&&(ot=Bt.replace(O,"$&/")+"/"),Y(yt,W,ot,"",function(Nr){return Nr})):yt!=null&&(M(yt)&&(yt=V(yt,ot+(yt.key==null||L&&L.key===yt.key?"":(""+yt.key).replace(O,"$&/")+"/")+Bt)),W.push(yt)),1;Bt=0;var Ve=lt===""?".":lt+":";if(nt(L))for(var he=0;he<L.length;he++)lt=L[he],vt=Ve+zt(lt,he),Bt+=Y(lt,W,ot,vt,yt);else if(he=A(L),typeof he=="function")for(L=he.call(L),he=0;!(lt=L.next()).done;)lt=lt.value,vt=Ve+zt(lt,he++),Bt+=Y(lt,W,ot,vt,yt);else if(vt==="object"){if(typeof L.then=="function")return Y(xt(L),W,ot,lt,yt);throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function st(L,W,ot){if(L==null)return L;var lt=[],yt=0;return Y(L,lt,"","",function(vt){return W.call(ot,vt,yt++)}),lt}function gt(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(ot){(L._status===0||L._status===-1)&&(L._status=1,L._result=ot)},function(ot){(L._status===0||L._status===-1)&&(L._status=2,L._result=ot)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var It=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Mt={map:st,forEach:function(L,W,ot){st(L,function(){W.apply(this,arguments)},ot)},count:function(L){var W=0;return st(L,function(){W++}),W},toArray:function(L){return st(L,function(W){return W})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return St.Activity=v,St.Children=Mt,St.Component=j,St.Fragment=e,St.Profiler=a,St.PureComponent=et,St.StrictMode=i,St.Suspense=d,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,St.__COMPILER_RUNTIME={__proto__:null,c:function(L){return x.H.useMemoCache(L)}},St.cache=function(L){return function(){return L.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(L,W,ot){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var lt=N({},L.props),yt=L.key;if(W!=null)for(vt in W.key!==void 0&&(yt=""+W.key),W)!R.call(W,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&W.ref===void 0||(lt[vt]=W[vt]);var vt=arguments.length-2;if(vt===1)lt.children=ot;else if(1<vt){for(var Bt=Array(vt),Ve=0;Ve<vt;Ve++)Bt[Ve]=arguments[Ve+2];lt.children=Bt}return C(L.type,yt,lt)},St.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},St.createElement=function(L,W,ot){var lt,yt={},vt=null;if(W!=null)for(lt in W.key!==void 0&&(vt=""+W.key),W)R.call(W,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(yt[lt]=W[lt]);var Bt=arguments.length-2;if(Bt===1)yt.children=ot;else if(1<Bt){for(var Ve=Array(Bt),he=0;he<Bt;he++)Ve[he]=arguments[he+2];yt.children=Ve}if(L&&L.defaultProps)for(lt in Bt=L.defaultProps,Bt)yt[lt]===void 0&&(yt[lt]=Bt[lt]);return C(L,vt,yt)},St.createRef=function(){return{current:null}},St.forwardRef=function(L){return{$$typeof:h,render:L}},St.isValidElement=M,St.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:gt}},St.memo=function(L,W){return{$$typeof:m,type:L,compare:W===void 0?null:W}},St.startTransition=function(L){var W=x.T,ot={};x.T=ot;try{var lt=L(),yt=x.S;yt!==null&&yt(ot,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(rt,It)}catch(vt){It(vt)}finally{W!==null&&ot.types!==null&&(W.types=ot.types),x.T=W}},St.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},St.use=function(L){return x.H.use(L)},St.useActionState=function(L,W,ot){return x.H.useActionState(L,W,ot)},St.useCallback=function(L,W){return x.H.useCallback(L,W)},St.useContext=function(L){return x.H.useContext(L)},St.useDebugValue=function(){},St.useDeferredValue=function(L,W){return x.H.useDeferredValue(L,W)},St.useEffect=function(L,W){return x.H.useEffect(L,W)},St.useEffectEvent=function(L){return x.H.useEffectEvent(L)},St.useId=function(){return x.H.useId()},St.useImperativeHandle=function(L,W,ot){return x.H.useImperativeHandle(L,W,ot)},St.useInsertionEffect=function(L,W){return x.H.useInsertionEffect(L,W)},St.useLayoutEffect=function(L,W){return x.H.useLayoutEffect(L,W)},St.useMemo=function(L,W){return x.H.useMemo(L,W)},St.useOptimistic=function(L,W){return x.H.useOptimistic(L,W)},St.useReducer=function(L,W,ot){return x.H.useReducer(L,W,ot)},St.useRef=function(L){return x.H.useRef(L)},St.useState=function(L){return x.H.useState(L)},St.useSyncExternalStore=function(L,W,ot){return x.H.useSyncExternalStore(L,W,ot)},St.useTransition=function(){return x.H.useTransition()},St.version="19.2.4",St}var J0;function Tp(){return J0||(J0=1,ym.exports=GR()),ym.exports}var Gt=Tp();const YR=WT(Gt);var _m={exports:{}},uc={},vm={exports:{}},bm={};var Z0;function KR(){return Z0||(Z0=1,(function(n){function t(Y,st){var gt=Y.length;Y.push(st);t:for(;0<gt;){var It=gt-1>>>1,Mt=Y[It];if(0<a(Mt,st))Y[It]=st,Y[gt]=Mt,gt=It;else break t}}function e(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var st=Y[0],gt=Y.pop();if(gt!==st){Y[0]=gt;t:for(var It=0,Mt=Y.length,L=Mt>>>1;It<L;){var W=2*(It+1)-1,ot=Y[W],lt=W+1,yt=Y[lt];if(0>a(ot,gt))lt<Mt&&0>a(yt,ot)?(Y[It]=yt,Y[lt]=gt,It=lt):(Y[It]=ot,Y[W]=gt,It=W);else if(lt<Mt&&0>a(yt,gt))Y[It]=yt,Y[lt]=gt,It=lt;else break t}}return st}function a(Y,st){var gt=Y.sortIndex-st.sortIndex;return gt!==0?gt:Y.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],m=[],y=1,v=null,T=3,A=!1,D=!1,N=!1,I=!1,j=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function it(Y){for(var st=e(m);st!==null;){if(st.callback===null)i(m);else if(st.startTime<=Y)i(m),st.sortIndex=st.expirationTime,t(d,st);else break;st=e(m)}}function nt(Y){if(N=!1,it(Y),!D)if(e(d)!==null)D=!0,rt||(rt=!0,P());else{var st=e(m);st!==null&&xt(nt,st.startTime-Y)}}var rt=!1,x=-1,R=5,C=-1;function V(){return I?!0:!(n.unstable_now()-C<R)}function M(){if(I=!1,rt){var Y=n.unstable_now();C=Y;var st=!0;try{t:{D=!1,N&&(N=!1,tt(x),x=-1),A=!0;var gt=T;try{e:{for(it(Y),v=e(d);v!==null&&!(v.expirationTime>Y&&V());){var It=v.callback;if(typeof It=="function"){v.callback=null,T=v.priorityLevel;var Mt=It(v.expirationTime<=Y);if(Y=n.unstable_now(),typeof Mt=="function"){v.callback=Mt,it(Y),st=!0;break e}v===e(d)&&i(d),it(Y)}else i(d);v=e(d)}if(v!==null)st=!0;else{var L=e(m);L!==null&&xt(nt,L.startTime-Y),st=!1}}break t}finally{v=null,T=gt,A=!1}st=void 0}}finally{st?P():rt=!1}}}var P;if(typeof et=="function")P=function(){et(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,zt=O.port2;O.port1.onmessage=M,P=function(){zt.postMessage(null)}}else P=function(){j(M,0)};function xt(Y,st){x=j(function(){Y(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var st=3;break;default:st=T}var gt=T;T=st;try{return Y()}finally{T=gt}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(Y,st){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var gt=T;T=Y;try{return st()}finally{T=gt}},n.unstable_scheduleCallback=function(Y,st,gt){var It=n.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?It+gt:It):gt=It,Y){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=gt+Mt,Y={id:y++,callback:st,priorityLevel:Y,startTime:gt,expirationTime:Mt,sortIndex:-1},gt>It?(Y.sortIndex=gt,t(m,Y),e(d)===null&&Y===e(m)&&(N?(tt(x),x=-1):N=!0,xt(nt,gt-It))):(Y.sortIndex=Mt,t(d,Y),D||A||(D=!0,rt||(rt=!0,P()))),Y},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Y){var st=T;return function(){var gt=T;T=st;try{return Y.apply(this,arguments)}finally{T=gt}}}})(bm)),bm}var tb;function QR(){return tb||(tb=1,vm.exports=KR()),vm.exports}var Em={exports:{}},en={};var eb;function WR(){if(eb)return en;eb=1;var n=Tp();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,en.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(d,m,null,y)},en.flushSync=function(d){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=m,i.p=y,i.d.f()}},en.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},en.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},en.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:A}):y==="script"&&i.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},en.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},en.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);i.d.L(d,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},en.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},en.requestFormReset=function(d){i.d.r(d)},en.unstable_batchedUpdates=function(d,m){return d(m)},en.useFormState=function(d,m,y){return c.H.useFormState(d,m,y)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.2.4",en}var nb;function XR(){if(nb)return Em.exports;nb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Em.exports=WR(),Em.exports}var ib;function $R(){if(ib)return uc;ib=1;var n=QR(),t=Tp(),e=XR();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(l(s)!==s)throw Error(i(188))}function m(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var g=o.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){o=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===o)return d(g),s;if(p===u)return d(g),r;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=g,u=p;else{for(var b=!1,S=g.child;S;){if(S===o){b=!0,o=g,u=p;break}if(S===u){b=!0,u=g,o=p;break}S=S.sibling}if(!b){for(S=p.child;S;){if(S===o){b=!0,o=p,u=g;break}if(S===u){b=!0,u=p,o=g;break}S=S.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),et=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function zt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case j:return"Profiler";case I:return"StrictMode";case nt:return"Suspense";case rt:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case et:return s.displayName||"Context";case tt:return(s._context.displayName||"Context")+".Consumer";case it:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case x:return r=s.displayName||null,r!==null?r:zt(s.type)||"Memo";case R:r=s._payload,s=s._init;try{return zt(s(r))}catch{}}return null}var xt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},It=[],Mt=-1;function L(s){return{current:s}}function W(s){0>Mt||(s.current=It[Mt],It[Mt]=null,Mt--)}function ot(s,r){Mt++,It[Mt]=s.current,s.current=r}var lt=L(null),yt=L(null),vt=L(null),Bt=L(null);function Ve(s,r){switch(ot(vt,r),ot(yt,s),ot(lt,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?_0(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=_0(r),s=v0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}W(lt),ot(lt,s)}function he(){W(lt),W(yt),W(vt)}function Nr(s){s.memoizedState!==null&&ot(Bt,s);var r=lt.current,o=v0(r,s.type);r!==o&&(ot(yt,s),ot(lt,o))}function La(s){yt.current===s&&(W(lt),W(yt)),Bt.current===s&&(W(Bt),rc._currentValue=gt)}var za,Ua;function yi(s){if(za===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);za=r&&r[1]||"",Ua=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+za+s+Ua}var rl=!1;function kr(s,r){if(!s||rl)return"";rl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(K){var q=K}Reflect.construct(s,[],$)}else{try{$.call()}catch(K){q=K}s.call($.prototype)}}else{try{throw Error()}catch(K){q=K}($=s())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],S=p[1];if(b&&S){var k=b.split(`
`),F=S.split(`
`);for(g=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;g<F.length&&!F[g].includes("DetermineComponentFrameRoot");)g++;if(u===k.length||g===F.length)for(u=k.length-1,g=F.length-1;1<=u&&0<=g&&k[u]!==F[g];)g--;for(;1<=u&&0<=g;u--,g--)if(k[u]!==F[g]){if(u!==1||g!==1)do if(u--,g--,0>g||k[u]!==F[g]){var Q=`
`+k[u].replace(" at new "," at ");return s.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",s.displayName)),Q}while(1<=u&&0<=g);break}}}finally{rl=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?yi(o):""}function al(s,r){switch(s.tag){case 26:case 27:case 5:return yi(s.type);case 16:return yi("Lazy");case 13:return s.child!==r&&r!==null?yi("Suspense Fallback"):yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return kr(s.type,!1);case 11:return kr(s.type.render,!1);case 1:return kr(s.type,!0);case 31:return yi("Activity");default:return""}}function ol(s){try{var r="",o=null;do r+=al(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Se=Object.prototype.hasOwnProperty,Pe=n.unstable_scheduleCallback,Cs=n.unstable_cancelCallback,_d=n.unstable_shouldYield,mu=n.unstable_requestPaint,un=n.unstable_now,Vr=n.unstable_getCurrentPriorityLevel,ll=n.unstable_ImmediatePriority,cl=n.unstable_UserBlockingPriority,Is=n.unstable_NormalPriority,vd=n.unstable_LowPriority,pu=n.unstable_IdlePriority,yu=n.log,_u=n.unstable_setDisableYieldValue,Zn=null,Ye=null;function Mn(s){if(typeof yu=="function"&&_u(s),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Zn,s)}catch{}}var ye=Math.clz32?Math.clz32:bu,vu=Math.log,Ba=Math.LN2;function bu(s){return s>>>=0,s===0?32:31-(vu(s)/Ba|0)|0}var _i=256,Pr=262144,Ae=4194304;function vi(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function bi(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?g=vi(u):(b&=S,b!==0?g=vi(b):o||(o=S&~s,o!==0&&(g=vi(o))))):(S=u&~p,S!==0?g=vi(S):b!==0?g=vi(b):o||(o=u&~s,o!==0&&(g=vi(o)))),g===0?0:r!==0&&r!==g&&(r&p)===0&&(p=g&-g,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:g}function ti(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function bd(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eu(){var s=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),s}function Ei(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Lr(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ed(s,r,o,u,g,p){var b=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var S=s.entanglements,k=s.expirationTimes,F=s.hiddenUpdates;for(o=b&~o;0<o;){var Q=31-ye(o),$=1<<Q;S[Q]=0,k[Q]=-1;var q=F[Q];if(q!==null)for(F[Q]=null,Q=0;Q<q.length;Q++){var K=q[Q];K!==null&&(K.lane&=-536870913)}o&=~$}u!==0&&zr(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~r))}function zr(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-ye(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function ul(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-ye(o),g=1<<u;g&r|s[u]&r&&(s[u]|=r),o&=~g}}function hl(s,r){var o=r&-r;return o=(o&42)!==0?1:Ur(o),(o&(s.suspendedLanes|r))!==0?0:o}function Ur(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Xi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Tu(){var s=st.p;return s!==0?s:(s=window.event,s===void 0?32:j0(s.type))}function ei(s,r){var o=st.p;try{return st.p=s,r()}finally{st.p=o}}var ni=Math.random().toString(36).slice(2),we="__reactFiber$"+ni,Be="__reactProps$"+ni,Ti="__reactContainer$"+ni,Ha="__reactEvents$"+ni,Td="__reactListeners$"+ni,Su="__reactHandles$"+ni,Au="__reactResources$"+ni,Si="__reactMarker$"+ni;function ja(s){delete s[we],delete s[Be],delete s[Ha],delete s[Td],delete s[Su]}function Ai(s){var r=s[we];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Ti]||o[we]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=R0(s);s!==null;){if(o=s[we])return o;s=R0(s)}return r}s=o,o=s.parentNode}return null}function Nn(s){if(s=s[we]||s[Ti]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Sn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function wi(s){var r=s[Au];return r||(r=s[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Re(s){s[Si]=!0}var fl=new Set,dl={};function Ri(s,r){xi(s,r),xi(s+"Capture",r)}function xi(s,r){for(dl[s]=r,s=0;s<r.length;s++)fl.add(r[s])}var gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},pl={};function wu(s){return Se.call(pl,s)?!0:Se.call(ml,s)?!1:gl.test(s)?pl[s]=!0:(ml[s]=!0,!1)}function Fa(s,r,o){if(wu(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function An(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function xe(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function He(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ds(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function yl(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return g.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Xt(s){if(!s._valueTracker){var r=Ds(s)?"checked":"value";s._valueTracker=yl(s,r,""+s[r])}}function Br(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=Ds(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Ci(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Hr=/[\n"\\]/g;function dn(s){return s.replace(Hr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function qa(s,r,o,u,g,p,b,S){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),r!=null?b==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+He(r)):s.value!==""+He(r)&&(s.value=""+He(r)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),r!=null?_l(s,b,He(r)):o!=null?_l(s,b,He(o)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+He(S):s.removeAttribute("name")}function Ru(s,r,o,u,g,p,b,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Xt(s);return}o=o!=null?""+He(o):"",r=r!=null?""+He(r):o,S||r===s.value||(s.value=r),s.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),Xt(s)}function _l(s,r,o){r==="number"&&Ci(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Os(s,r,o,u){if(s=s.options,r){r={};for(var g=0;g<o.length;g++)r["$"+o[g]]=!0;for(o=0;o<s.length;o++)g=r.hasOwnProperty("$"+s[o].value),s[o].selected!==g&&(s[o].selected=g),g&&u&&(s[o].defaultSelected=!0)}else{for(o=""+He(o),r=null,g=0;g<s.length;g++){if(s[g].value===o){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}r!==null||s[g].disabled||(r=s[g])}r!==null&&(r.selected=!0)}}function xu(s,r,o){if(r!=null&&(r=""+He(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+He(o):""}function Ms(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(xt(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=He(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),Xt(s)}function gn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vl(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||Cu.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function bl(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&o[g]!==u&&vl(s,g,u)}else for(var p in r)r.hasOwnProperty(p)&&vl(s,p,r[p])}function Ga(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(s){return Ns.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ii(){}var El=null;function kn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ks=null,Ii=null;function jr(s){var r=Nn(s);if(r&&(s=r.stateNode)){var o=s[Be]||null;t:switch(s=r.stateNode,r.type){case"input":if(qa(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+dn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var g=u[Be]||null;if(!g)throw Error(i(90));qa(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&Br(u)}break t;case"textarea":xu(s,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Os(s,!!o.multiple,r,!1)}}}var Ka=!1;function Vs(s,r,o){if(Ka)return s(r,o);Ka=!0;try{var u=s(r);return u}finally{if(Ka=!1,(ks!==null||Ii!==null)&&(Th(),ks&&(r=ks,s=Ii,Ii=ks=null,jr(r),s)))for(r=0;r<s.length;r++)jr(s[r])}}function si(s,r){var o=s.stateNode;if(o===null)return null;var u=o[Be]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=!1;if(Vn)try{var te={};Object.defineProperty(te,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Fr=!1}var Di=null,Tl=null,qr=null;function Sl(){if(qr)return qr;var s,r=Tl,o=r.length,u,g="value"in Di?Di.value:Di.textContent,p=g.length;for(s=0;s<o&&r[s]===g[s];s++);var b=o-s;for(u=1;u<=b&&r[o-u]===g[p-u];u++);return qr=g.slice(s,1<u?1-u:void 0)}function Gr(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function $i(){return!0}function ri(){return!1}function Ke(s){function r(o,u,g,p,b){this._reactName=o,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(o=s[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?$i:ri,this.isPropagationStopped=ri,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),r}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Ke(Ji),Ps=v({},Ji,{view:0,detail:0}),Al=Ke(Ps),Ls,Qa,Mi,Wa=v({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Mi&&(Mi&&s.type==="mousemove"?(Ls=s.screenX-Mi.screenX,Qa=s.screenY-Mi.screenY):Qa=Ls=0,Mi=s),Ls)},movementY:function(s){return"movementY"in s?s.movementY:Qa}}),wl=Ke(Wa),Yr=v({},Wa,{dataTransfer:0}),Du=Ke(Yr),Ou=v({},Ps,{relatedTarget:0}),Kr=Ke(Ou),Rl=v({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=Ke(Rl),Xa=v({},Ji,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Nu=Ke(Xa),ku=v({},Ji,{data:0}),Ni=Ke(ku),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Lu[s])?!!r[s]:!1}function zs(){return zu}var hn=v({},Ps,{key:function(s){if(s.key){var r=Vu[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Gr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Pu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(s){return s.type==="keypress"?Gr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Gr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Uu=Ke(hn),Bu=v({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Ke(Bu),f=v({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),_=Ke(f),E=v({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ke(E),B=v({},Wa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ke(B),at=v({},Ji,{newState:0,oldState:0}),wt=Ke(at),_e=[9,13,27,32],Yt=Vn&&"CompositionEvent"in window,fe=null;Vn&&"documentMode"in document&&(fe=document.documentMode);var Pn=Vn&&"TextEvent"in window&&!fe,ki=Vn&&(!Yt||fe&&8<fe&&11>=fe),ai=" ",oi=!1;function Qr(s,r){switch(s){case"keyup":return _e.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ja=!1;function dw(s,r){switch(s){case"compositionend":return $a(r);case"keypress":return r.which!==32?null:(oi=!0,ai);case"textInput":return s=r.data,s===ai&&oi?null:s;default:return null}}function gw(s,r){if(Ja)return s==="compositionend"||!Yt&&Qr(s,r)?(s=Sl(),qr=Tl=Di=null,Ja=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ki&&r.locale!=="ko"?null:r.data;default:return null}}var mw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iy(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!mw[s.type]:r==="textarea"}function Dy(s,r,o,u){ks?Ii?Ii.push(u):Ii=[u]:ks=u,r=Ih(r,"onChange"),0<r.length&&(o=new Oi("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var xl=null,Cl=null;function pw(s){f0(s,0)}function Hu(s){var r=Sn(s);if(Br(r))return s}function Oy(s,r){if(s==="change")return r}var My=!1;if(Vn){var Sd;if(Vn){var Ad="oninput"in document;if(!Ad){var Ny=document.createElement("div");Ny.setAttribute("oninput","return;"),Ad=typeof Ny.oninput=="function"}Sd=Ad}else Sd=!1;My=Sd&&(!document.documentMode||9<document.documentMode)}function ky(){xl&&(xl.detachEvent("onpropertychange",Vy),Cl=xl=null)}function Vy(s){if(s.propertyName==="value"&&Hu(Cl)){var r=[];Dy(r,Cl,s,kn(s)),Vs(pw,r)}}function yw(s,r,o){s==="focusin"?(ky(),xl=r,Cl=o,xl.attachEvent("onpropertychange",Vy)):s==="focusout"&&ky()}function _w(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hu(Cl)}function vw(s,r){if(s==="click")return Hu(r)}function bw(s,r){if(s==="input"||s==="change")return Hu(r)}function Ew(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var wn=typeof Object.is=="function"?Object.is:Ew;function Il(s,r){if(wn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var g=o[u];if(!Se.call(r,g)||!wn(s[g],r[g]))return!1}return!0}function Py(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ly(s,r){var o=Py(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Py(o)}}function zy(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?zy(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Uy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Ci(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Ci(s.document)}return r}function wd(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var Tw=Vn&&"documentMode"in document&&11>=document.documentMode,Za=null,Rd=null,Dl=null,xd=!1;function By(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xd||Za==null||Za!==Ci(u)||(u=Za,"selectionStart"in u&&wd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Dl&&Il(Dl,u)||(Dl=u,u=Ih(Rd,"onSelect"),0<u.length&&(r=new Oi("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=Za)))}function Wr(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var to={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},Cd={},Hy={};Vn&&(Hy=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function Xr(s){if(Cd[s])return Cd[s];if(!to[s])return s;var r=to[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in Hy)return Cd[s]=r[o];return s}var jy=Xr("animationend"),Fy=Xr("animationiteration"),qy=Xr("animationstart"),Sw=Xr("transitionrun"),Aw=Xr("transitionstart"),ww=Xr("transitioncancel"),Gy=Xr("transitionend"),Yy=new Map,Id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Id.push("scrollEnd");function li(s,r){Yy.set(s,r),Ri(r,[s])}var ju=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ln=[],eo=0,Dd=0;function Fu(){for(var s=eo,r=Dd=eo=0;r<s;){var o=Ln[r];Ln[r++]=null;var u=Ln[r];Ln[r++]=null;var g=Ln[r];Ln[r++]=null;var p=Ln[r];if(Ln[r++]=null,u!==null&&g!==null){var b=u.pending;b===null?g.next=g:(g.next=b.next,b.next=g),u.pending=g}p!==0&&Ky(o,g,p)}}function qu(s,r,o,u){Ln[eo++]=s,Ln[eo++]=r,Ln[eo++]=o,Ln[eo++]=u,Dd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Od(s,r,o,u){return qu(s,r,o,u),Gu(s)}function $r(s,r){return qu(s,null,null,r),Gu(s)}function Ky(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var g=!1,p=s.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&r!==null&&(g=31-ye(o),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[r]:u.push(r),r.lane=o|536870912),p):null}function Gu(s){if(50<Jl)throw Jl=0,Bg=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var no={};function Rw(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(s,r,o,u){return new Rw(s,r,o,u)}function Md(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ts(s,r){var o=s.alternate;return o===null?(o=Rn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Qy(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Yu(s,r,o,u,g,p){var b=0;if(u=s,typeof s=="function")Md(s)&&(b=1);else if(typeof s=="string")b=OR(s,o,lt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case C:return s=Rn(31,o,r,g),s.elementType=C,s.lanes=p,s;case N:return Jr(o.children,g,p,r);case I:b=8,g|=24;break;case j:return s=Rn(12,o,r,g|2),s.elementType=j,s.lanes=p,s;case nt:return s=Rn(13,o,r,g),s.elementType=nt,s.lanes=p,s;case rt:return s=Rn(19,o,r,g),s.elementType=rt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case et:b=10;break t;case tt:b=9;break t;case it:b=11;break t;case x:b=14;break t;case R:b=16,u=null;break t}b=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Rn(b,o,r,g),r.elementType=s,r.type=u,r.lanes=p,r}function Jr(s,r,o,u){return s=Rn(7,s,u,r),s.lanes=o,s}function Nd(s,r,o){return s=Rn(6,s,null,r),s.lanes=o,s}function Wy(s){var r=Rn(18,null,null,0);return r.stateNode=s,r}function kd(s,r,o){return r=Rn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Xy=new WeakMap;function zn(s,r){if(typeof s=="object"&&s!==null){var o=Xy.get(s);return o!==void 0?o:(r={value:s,source:r,stack:ol(r)},Xy.set(s,r),r)}return{value:s,source:r,stack:ol(r)}}var io=[],so=0,Ku=null,Ol=0,Un=[],Bn=0,Us=null,Vi=1,Pi="";function es(s,r){io[so++]=Ol,io[so++]=Ku,Ku=s,Ol=r}function $y(s,r,o){Un[Bn++]=Vi,Un[Bn++]=Pi,Un[Bn++]=Us,Us=s;var u=Vi;s=Pi;var g=32-ye(u)-1;u&=~(1<<g),o+=1;var p=32-ye(r)+g;if(30<p){var b=g-g%5;p=(u&(1<<b)-1).toString(32),u>>=b,g-=b,Vi=1<<32-ye(r)+g|o<<g|u,Pi=p+s}else Vi=1<<p|o<<g|u,Pi=s}function Vd(s){s.return!==null&&(es(s,1),$y(s,1,0))}function Pd(s){for(;s===Ku;)Ku=io[--so],io[so]=null,Ol=io[--so],io[so]=null;for(;s===Us;)Us=Un[--Bn],Un[Bn]=null,Pi=Un[--Bn],Un[Bn]=null,Vi=Un[--Bn],Un[Bn]=null}function Jy(s,r){Un[Bn++]=Vi,Un[Bn++]=Pi,Un[Bn++]=Us,Vi=r.id,Pi=r.overflow,Us=s}var Qe=null,oe=null,Ut=!1,Bs=null,Hn=!1,Ld=Error(i(519));function Hs(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ml(zn(r,s)),Ld}function Zy(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[we]=s,r[Be]=u,o){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<tc.length;o++)Ot(tc[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),Ru(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Ms(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||p0(r.textContent,o)?(u.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),u.onScroll!=null&&Ot("scroll",r),u.onScrollEnd!=null&&Ot("scrollend",r),u.onClick!=null&&(r.onclick=ii),r=!0):r=!1,r||Hs(s,!0)}function t_(s){for(Qe=s.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Qe=Qe.return}}function ro(s){if(s!==Qe)return!1;if(!Ut)return t_(s),Ut=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||em(s.type,s.memoizedProps)),o=!o),o&&oe&&Hs(s),t_(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=w0(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));oe=w0(s)}else r===27?(r=oe,er(s.type)?(s=am,am=null,oe=s):oe=r):oe=Qe?Fn(s.stateNode.nextSibling):null;return!0}function Zr(){oe=Qe=null,Ut=!1}function zd(){var s=Bs;return s!==null&&(_n===null?_n=s:_n.push.apply(_n,s),Bs=null),s}function Ml(s){Bs===null?Bs=[s]:Bs.push(s)}var Ud=L(null),ta=null,ns=null;function js(s,r,o){ot(Ud,r._currentValue),r._currentValue=o}function is(s){s._currentValue=Ud.current,W(Ud)}function Bd(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Hd(s,r,o,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var b=g.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=g;for(var k=0;k<r.length;k++)if(S.context===r[k]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),Bd(p.return,o,s),u||(b=null);break t}p=S.next}}else if(g.tag===18){if(b=g.return,b===null)throw Error(i(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),Bd(b,o,s),b=null}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===s){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}}function ao(s,r,o,u){s=null;for(var g=r,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var b=g.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var S=g.type;wn(g.pendingProps.value,b.value)||(s!==null?s.push(S):s=[S])}}else if(g===Bt.current){if(b=g.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(rc):s=[rc])}g=g.return}s!==null&&Hd(r,s,o,u),r.flags|=262144}function Qu(s){for(s=s.firstContext;s!==null;){if(!wn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ea(s){ta=s,ns=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function We(s){return e_(ta,s)}function Wu(s,r){return ta===null&&ea(s),e_(s,r)}function e_(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ns===null){if(s===null)throw Error(i(308));ns=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ns=ns.next=r;return o}var xw=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},Cw=n.unstable_scheduleCallback,Iw=n.unstable_NormalPriority,Ce={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jd(){return{controller:new xw,data:new Map,refCount:0}}function Nl(s){s.refCount--,s.refCount===0&&Cw(Iw,function(){s.controller.abort()})}var kl=null,Fd=0,oo=0,lo=null;function Dw(s,r){if(kl===null){var o=kl=[];Fd=0,oo=Yg(),lo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Fd++,r.then(n_,n_),r}function n_(){if(--Fd===0&&kl!==null){lo!==null&&(lo.status="fulfilled");var s=kl;kl=null,oo=0,lo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function Ow(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<o.length;g++)(0,o[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),u}var i_=Y.S;Y.S=function(s,r){Bv=un(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Dw(s,r),i_!==null&&i_(s,r)};var na=L(null);function qd(){var s=na.current;return s!==null?s:se.pooledCache}function Xu(s,r){r===null?ot(na,na.current):ot(na,r.pool)}function s_(){var s=qd();return s===null?null:{parent:Ce._currentValue,pool:s}}var co=Error(i(460)),Gd=Error(i(474)),$u=Error(i(542)),Ju={then:function(){}};function r_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function a_(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(ii,ii),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,l_(s),s;default:if(typeof r.status=="string")r.then(ii,ii);else{if(s=se,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,l_(s),s}throw sa=r,co}}function ia(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(sa=o,co):o}}var sa=null;function o_(){if(sa===null)throw Error(i(459));var s=sa;return sa=null,s}function l_(s){if(s===co||s===$u)throw Error(i(483))}var uo=null,Vl=0;function Zu(s){var r=Vl;return Vl+=1,uo===null&&(uo=[]),a_(uo,s,r)}function Pl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function th(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function c_(s){function r(U,z){if(s){var H=U.deletions;H===null?(U.deletions=[z],U.flags|=16):H.push(z)}}function o(U,z){if(!s)return null;for(;z!==null;)r(U,z),z=z.sibling;return null}function u(U){for(var z=new Map;U!==null;)U.key!==null?z.set(U.key,U):z.set(U.index,U),U=U.sibling;return z}function g(U,z){return U=ts(U,z),U.index=0,U.sibling=null,U}function p(U,z,H){return U.index=H,s?(H=U.alternate,H!==null?(H=H.index,H<z?(U.flags|=67108866,z):H):(U.flags|=67108866,z)):(U.flags|=1048576,z)}function b(U){return s&&U.alternate===null&&(U.flags|=67108866),U}function S(U,z,H,X){return z===null||z.tag!==6?(z=Nd(H,U.mode,X),z.return=U,z):(z=g(z,H),z.return=U,z)}function k(U,z,H,X){var mt=H.type;return mt===N?Q(U,z,H.props.children,X,H.key):z!==null&&(z.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&ia(mt)===z.type)?(z=g(z,H.props),Pl(z,H),z.return=U,z):(z=Yu(H.type,H.key,H.props,null,U.mode,X),Pl(z,H),z.return=U,z)}function F(U,z,H,X){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=kd(H,U.mode,X),z.return=U,z):(z=g(z,H.children||[]),z.return=U,z)}function Q(U,z,H,X,mt){return z===null||z.tag!==7?(z=Jr(H,U.mode,X,mt),z.return=U,z):(z=g(z,H),z.return=U,z)}function $(U,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Nd(""+z,U.mode,H),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return H=Yu(z.type,z.key,z.props,null,U.mode,H),Pl(H,z),H.return=U,H;case D:return z=kd(z,U.mode,H),z.return=U,z;case R:return z=ia(z),$(U,z,H)}if(xt(z)||P(z))return z=Jr(z,U.mode,H,null),z.return=U,z;if(typeof z.then=="function")return $(U,Zu(z),H);if(z.$$typeof===et)return $(U,Wu(U,z),H);th(U,z)}return null}function q(U,z,H,X){var mt=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return mt!==null?null:S(U,z,""+H,X);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===mt?k(U,z,H,X):null;case D:return H.key===mt?F(U,z,H,X):null;case R:return H=ia(H),q(U,z,H,X)}if(xt(H)||P(H))return mt!==null?null:Q(U,z,H,X,null);if(typeof H.then=="function")return q(U,z,Zu(H),X);if(H.$$typeof===et)return q(U,z,Wu(U,H),X);th(U,H)}return null}function K(U,z,H,X,mt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(H)||null,S(z,U,""+X,mt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return U=U.get(X.key===null?H:X.key)||null,k(z,U,X,mt);case D:return U=U.get(X.key===null?H:X.key)||null,F(z,U,X,mt);case R:return X=ia(X),K(U,z,H,X,mt)}if(xt(X)||P(X))return U=U.get(H)||null,Q(z,U,X,mt,null);if(typeof X.then=="function")return K(U,z,H,Zu(X),mt);if(X.$$typeof===et)return K(U,z,H,Wu(z,X),mt);th(z,X)}return null}function ft(U,z,H,X){for(var mt=null,Ft=null,dt=z,Ct=z=0,kt=null;dt!==null&&Ct<H.length;Ct++){dt.index>Ct?(kt=dt,dt=null):kt=dt.sibling;var qt=q(U,dt,H[Ct],X);if(qt===null){dt===null&&(dt=kt);break}s&&dt&&qt.alternate===null&&r(U,dt),z=p(qt,z,Ct),Ft===null?mt=qt:Ft.sibling=qt,Ft=qt,dt=kt}if(Ct===H.length)return o(U,dt),Ut&&es(U,Ct),mt;if(dt===null){for(;Ct<H.length;Ct++)dt=$(U,H[Ct],X),dt!==null&&(z=p(dt,z,Ct),Ft===null?mt=dt:Ft.sibling=dt,Ft=dt);return Ut&&es(U,Ct),mt}for(dt=u(dt);Ct<H.length;Ct++)kt=K(dt,U,Ct,H[Ct],X),kt!==null&&(s&&kt.alternate!==null&&dt.delete(kt.key===null?Ct:kt.key),z=p(kt,z,Ct),Ft===null?mt=kt:Ft.sibling=kt,Ft=kt);return s&&dt.forEach(function(ar){return r(U,ar)}),Ut&&es(U,Ct),mt}function _t(U,z,H,X){if(H==null)throw Error(i(151));for(var mt=null,Ft=null,dt=z,Ct=z=0,kt=null,qt=H.next();dt!==null&&!qt.done;Ct++,qt=H.next()){dt.index>Ct?(kt=dt,dt=null):kt=dt.sibling;var ar=q(U,dt,qt.value,X);if(ar===null){dt===null&&(dt=kt);break}s&&dt&&ar.alternate===null&&r(U,dt),z=p(ar,z,Ct),Ft===null?mt=ar:Ft.sibling=ar,Ft=ar,dt=kt}if(qt.done)return o(U,dt),Ut&&es(U,Ct),mt;if(dt===null){for(;!qt.done;Ct++,qt=H.next())qt=$(U,qt.value,X),qt!==null&&(z=p(qt,z,Ct),Ft===null?mt=qt:Ft.sibling=qt,Ft=qt);return Ut&&es(U,Ct),mt}for(dt=u(dt);!qt.done;Ct++,qt=H.next())qt=K(dt,U,Ct,qt.value,X),qt!==null&&(s&&qt.alternate!==null&&dt.delete(qt.key===null?Ct:qt.key),z=p(qt,z,Ct),Ft===null?mt=qt:Ft.sibling=qt,Ft=qt);return s&&dt.forEach(function(jR){return r(U,jR)}),Ut&&es(U,Ct),mt}function ie(U,z,H,X){if(typeof H=="object"&&H!==null&&H.type===N&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:t:{for(var mt=H.key;z!==null;){if(z.key===mt){if(mt=H.type,mt===N){if(z.tag===7){o(U,z.sibling),X=g(z,H.props.children),X.return=U,U=X;break t}}else if(z.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&ia(mt)===z.type){o(U,z.sibling),X=g(z,H.props),Pl(X,H),X.return=U,U=X;break t}o(U,z);break}else r(U,z);z=z.sibling}H.type===N?(X=Jr(H.props.children,U.mode,X,H.key),X.return=U,U=X):(X=Yu(H.type,H.key,H.props,null,U.mode,X),Pl(X,H),X.return=U,U=X)}return b(U);case D:t:{for(mt=H.key;z!==null;){if(z.key===mt)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){o(U,z.sibling),X=g(z,H.children||[]),X.return=U,U=X;break t}else{o(U,z);break}else r(U,z);z=z.sibling}X=kd(H,U.mode,X),X.return=U,U=X}return b(U);case R:return H=ia(H),ie(U,z,H,X)}if(xt(H))return ft(U,z,H,X);if(P(H)){if(mt=P(H),typeof mt!="function")throw Error(i(150));return H=mt.call(H),_t(U,z,H,X)}if(typeof H.then=="function")return ie(U,z,Zu(H),X);if(H.$$typeof===et)return ie(U,z,Wu(U,H),X);th(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(o(U,z.sibling),X=g(z,H),X.return=U,U=X):(o(U,z),X=Nd(H,U.mode,X),X.return=U,U=X),b(U)):o(U,z)}return function(U,z,H,X){try{Vl=0;var mt=ie(U,z,H,X);return uo=null,mt}catch(dt){if(dt===co||dt===$u)throw dt;var Ft=Rn(29,dt,null,U.mode);return Ft.lanes=X,Ft.return=U,Ft}}}var ra=c_(!0),u_=c_(!1),Fs=!1;function Yd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kd(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function qs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Gs(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=Gu(s),Ky(s,null,o),r}return qu(s,u,r,o),Gu(s)}function Ll(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,ul(s,o)}}function Qd(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var g=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?g=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?g=p=r:p=p.next=r}else g=p=r;o={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Wd=!1;function zl(){if(Wd){var s=lo;if(s!==null)throw s}}function Ul(s,r,o,u){Wd=!1;var g=s.updateQueue;Fs=!1;var p=g.firstBaseUpdate,b=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var k=S,F=k.next;k.next=null,b===null?p=F:b.next=F,b=k;var Q=s.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==b&&(S===null?Q.firstBaseUpdate=F:S.next=F,Q.lastBaseUpdate=k))}if(p!==null){var $=g.baseState;b=0,Q=F=k=null,S=p;do{var q=S.lane&-536870913,K=q!==S.lane;if(K?(Nt&q)===q:(u&q)===q){q!==0&&q===oo&&(Wd=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ft=s,_t=S;q=r;var ie=o;switch(_t.tag){case 1:if(ft=_t.payload,typeof ft=="function"){$=ft.call(ie,$,q);break t}$=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=_t.payload,q=typeof ft=="function"?ft.call(ie,$,q):ft,q==null)break t;$=v({},$,q);break t;case 2:Fs=!0}}q=S.callback,q!==null&&(s.flags|=64,K&&(s.flags|=8192),K=g.callbacks,K===null?g.callbacks=[q]:K.push(q))}else K={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(F=Q=K,k=$):Q=Q.next=K,b|=q;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;K=S,S=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);Q===null&&(k=$),g.baseState=k,g.firstBaseUpdate=F,g.lastBaseUpdate=Q,p===null&&(g.shared.lanes=0),Xs|=b,s.lanes=b,s.memoizedState=$}}function h_(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function f_(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)h_(o[s],r)}var ho=L(null),eh=L(0);function d_(s,r){s=fs,ot(eh,s),ot(ho,r),fs=s|r.baseLanes}function Xd(){ot(eh,fs),ot(ho,ho.current)}function $d(){fs=eh.current,W(ho),W(eh)}var xn=L(null),jn=null;function Ys(s){var r=s.alternate;ot(ve,ve.current&1),ot(xn,s),jn===null&&(r===null||ho.current!==null||r.memoizedState!==null)&&(jn=s)}function Jd(s){ot(ve,ve.current),ot(xn,s),jn===null&&(jn=s)}function g_(s){s.tag===22?(ot(ve,ve.current),ot(xn,s),jn===null&&(jn=s)):Ks()}function Ks(){ot(ve,ve.current),ot(xn,xn.current)}function Cn(s){W(xn),jn===s&&(jn=null),W(ve)}var ve=L(0);function nh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||sm(o)||rm(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ss=0,Rt=null,ee=null,Ie=null,ih=!1,fo=!1,aa=!1,sh=0,Bl=0,go=null,Mw=0;function me(){throw Error(i(321))}function Zd(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!wn(s[o],r[o]))return!1;return!0}function tg(s,r,o,u,g,p){return ss=p,Rt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=s===null||s.memoizedState===null?$_:mg,aa=!1,p=o(u,g),aa=!1,fo&&(p=p_(r,o,u,g)),m_(s),p}function m_(s){Y.H=Fl;var r=ee!==null&&ee.next!==null;if(ss=0,Ie=ee=Rt=null,ih=!1,Bl=0,go=null,r)throw Error(i(300));s===null||De||(s=s.dependencies,s!==null&&Qu(s)&&(De=!0))}function p_(s,r,o,u){Rt=s;var g=0;do{if(fo&&(go=null),Bl=0,fo=!1,25<=g)throw Error(i(301));if(g+=1,Ie=ee=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=J_,p=r(o,u)}while(fo);return p}function Nw(){var s=Y.H,r=s.useState()[0];return r=typeof r.then=="function"?Hl(r):r,s=s.useState()[0],(ee!==null?ee.memoizedState:null)!==s&&(Rt.flags|=1024),r}function eg(){var s=sh!==0;return sh=0,s}function ng(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function ig(s){if(ih){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}ih=!1}ss=0,Ie=ee=Rt=null,fo=!1,Bl=sh=0,go=null}function fn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Rt.memoizedState=Ie=s:Ie=Ie.next=s,Ie}function be(){if(ee===null){var s=Rt.alternate;s=s!==null?s.memoizedState:null}else s=ee.next;var r=Ie===null?Rt.memoizedState:Ie.next;if(r!==null)Ie=r,ee=s;else{if(s===null)throw Rt.alternate===null?Error(i(467)):Error(i(310));ee=s,s={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ie===null?Rt.memoizedState=Ie=s:Ie=Ie.next=s}return Ie}function rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(s){var r=Bl;return Bl+=1,go===null&&(go=[]),s=a_(go,s,r),r=Rt,(Ie===null?r.memoizedState:Ie.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?$_:mg),s}function ah(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Hl(s);if(s.$$typeof===et)return We(s)}throw Error(i(438,String(s)))}function sg(s){var r=null,o=Rt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Rt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=rh(),Rt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=V;return r.index++,o}function rs(s,r){return typeof r=="function"?r(s):r}function oh(s){var r=be();return rg(r,ee,s)}function rg(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var b=g.next;g.next=p.next,p.next=b}r.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{r=g.next;var S=b=null,k=null,F=r,Q=!1;do{var $=F.lane&-536870913;if($!==F.lane?(Nt&$)===$:(ss&$)===$){var q=F.revertLane;if(q===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),$===oo&&(Q=!0);else if((ss&q)===q){F=F.next,q===oo&&(Q=!0);continue}else $={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(S=k=$,b=p):k=k.next=$,Rt.lanes|=q,Xs|=q;$=F.action,aa&&o(p,$),p=F.hasEagerState?F.eagerState:o(p,$)}else q={lane:$,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(S=k=q,b=p):k=k.next=q,Rt.lanes|=$,Xs|=$;F=F.next}while(F!==null&&F!==r);if(k===null?b=p:k.next=S,!wn(p,s.memoizedState)&&(De=!0,Q&&(o=lo,o!==null)))throw o;s.memoizedState=p,s.baseState=b,s.baseQueue=k,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function ag(s){var r=be(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,g=o.pending,p=r.memoizedState;if(g!==null){o.pending=null;var b=g=g.next;do p=s(p,b.action),b=b.next;while(b!==g);wn(p,r.memoizedState)||(De=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function y_(s,r,o){var u=Rt,g=be(),p=Ut;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=r();var b=!wn((ee||g).memoizedState,o);if(b&&(g.memoizedState=o,De=!0),g=g.queue,cg(b_.bind(null,u,g,s),[s]),g.getSnapshot!==r||b||Ie!==null&&Ie.memoizedState.tag&1){if(u.flags|=2048,mo(9,{destroy:void 0},v_.bind(null,u,g,o,r),null),se===null)throw Error(i(349));p||(ss&127)!==0||__(u,r,o)}return o}function __(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Rt.updateQueue,r===null?(r=rh(),Rt.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function v_(s,r,o,u){r.value=o,r.getSnapshot=u,E_(r)&&T_(s)}function b_(s,r,o){return o(function(){E_(r)&&T_(s)})}function E_(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!wn(s,o)}catch{return!0}}function T_(s){var r=$r(s,2);r!==null&&vn(r,s,2)}function og(s){var r=fn();if(typeof s=="function"){var o=s;if(s=o(),aa){Mn(!0);try{o()}finally{Mn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:s},r}function S_(s,r,o,u){return s.baseState=o,rg(s,ee,typeof u=="function"?u:rs)}function kw(s,r,o,u,g){if(uh(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};Y.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,A_(r,p)):(p.next=o.next,r.pending=o.next=p)}}function A_(s,r){var o=r.action,u=r.payload,g=s.state;if(r.isTransition){var p=Y.T,b={};Y.T=b;try{var S=o(g,u),k=Y.S;k!==null&&k(b,S),w_(s,r,S)}catch(F){lg(s,r,F)}finally{p!==null&&b.types!==null&&(p.types=b.types),Y.T=p}}else try{p=o(g,u),w_(s,r,p)}catch(F){lg(s,r,F)}}function w_(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){R_(s,r,u)},function(u){return lg(s,r,u)}):R_(s,r,o)}function R_(s,r,o){r.status="fulfilled",r.value=o,x_(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,A_(s,o)))}function lg(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,x_(r),r=r.next;while(r!==u)}s.action=null}function x_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function C_(s,r){return r}function I_(s,r){if(Ut){var o=se.formState;if(o!==null){t:{var u=Rt;if(Ut){if(oe){e:{for(var g=oe,p=Hn;g.nodeType!==8;){if(!p){g=null;break e}if(g=Fn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){oe=Fn(g.nextSibling),u=g.data==="F!";break t}}Hs(u)}u=!1}u&&(r=o[0])}}return o=fn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C_,lastRenderedState:r},o.queue=u,o=Q_.bind(null,Rt,u),u.dispatch=o,u=og(!1),p=gg.bind(null,Rt,!1,u.queue),u=fn(),g={state:r,dispatch:null,action:s,pending:null},u.queue=g,o=kw.bind(null,Rt,g,p,o),g.dispatch=o,u.memoizedState=s,[r,o,!1]}function D_(s){var r=be();return O_(r,ee,s)}function O_(s,r,o){if(r=rg(s,r,C_)[0],s=oh(rs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Hl(r)}catch(b){throw b===co?$u:b}else u=r;r=be();var g=r.queue,p=g.dispatch;return o!==r.memoizedState&&(Rt.flags|=2048,mo(9,{destroy:void 0},Vw.bind(null,g,o),null)),[u,p,s]}function Vw(s,r){s.action=r}function M_(s){var r=be(),o=ee;if(o!==null)return O_(r,o,s);be(),r=r.memoizedState,o=be();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function mo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Rt.updateQueue,r===null&&(r=rh(),Rt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function N_(){return be().memoizedState}function lh(s,r,o,u){var g=fn();Rt.flags|=s,g.memoizedState=mo(1|r,{destroy:void 0},o,u===void 0?null:u)}function ch(s,r,o,u){var g=be();u=u===void 0?null:u;var p=g.memoizedState.inst;ee!==null&&u!==null&&Zd(u,ee.memoizedState.deps)?g.memoizedState=mo(r,p,o,u):(Rt.flags|=s,g.memoizedState=mo(1|r,p,o,u))}function k_(s,r){lh(8390656,8,s,r)}function cg(s,r){ch(2048,8,s,r)}function Pw(s){Rt.flags|=4;var r=Rt.updateQueue;if(r===null)r=rh(),Rt.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function V_(s){var r=be().memoizedState;return Pw({ref:r,nextImpl:s}),function(){if((Kt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function P_(s,r){return ch(4,2,s,r)}function L_(s,r){return ch(4,4,s,r)}function z_(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function U_(s,r,o){o=o!=null?o.concat([s]):null,ch(4,4,z_.bind(null,r,s),o)}function ug(){}function B_(s,r){var o=be();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Zd(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function H_(s,r){var o=be();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Zd(r,u[1]))return u[0];if(u=s(),aa){Mn(!0);try{s()}finally{Mn(!1)}}return o.memoizedState=[u,r],u}function hg(s,r,o){return o===void 0||(ss&1073741824)!==0&&(Nt&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=jv(),Rt.lanes|=s,Xs|=s,o)}function j_(s,r,o,u){return wn(o,r)?o:ho.current!==null?(s=hg(s,o,u),wn(s,r)||(De=!0),s):(ss&42)===0||(ss&1073741824)!==0&&(Nt&261930)===0?(De=!0,s.memoizedState=o):(s=jv(),Rt.lanes|=s,Xs|=s,r)}function F_(s,r,o,u,g){var p=st.p;st.p=p!==0&&8>p?p:8;var b=Y.T,S={};Y.T=S,gg(s,!1,r,o);try{var k=g(),F=Y.S;if(F!==null&&F(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Q=Ow(k,u);jl(s,r,Q,On(s))}else jl(s,r,u,On(s))}catch($){jl(s,r,{then:function(){},status:"rejected",reason:$},On())}finally{st.p=p,b!==null&&S.types!==null&&(b.types=S.types),Y.T=b}}function Lw(){}function fg(s,r,o,u){if(s.tag!==5)throw Error(i(476));var g=q_(s).queue;F_(s,g,r,gt,o===null?Lw:function(){return G_(s),o(u)})}function q_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:gt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function G_(s){var r=q_(s);r.next===null&&(r=s.alternate.memoizedState),jl(s,r.next.queue,{},On())}function dg(){return We(rc)}function Y_(){return be().memoizedState}function K_(){return be().memoizedState}function zw(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=On();s=qs(o);var u=Gs(r,s,o);u!==null&&(vn(u,r,o),Ll(u,r,o)),r={cache:jd()},s.payload=r;return}r=r.return}}function Uw(s,r,o){var u=On();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},uh(s)?W_(r,o):(o=Od(s,r,o,u),o!==null&&(vn(o,s,u),X_(o,r,u)))}function Q_(s,r,o){var u=On();jl(s,r,o,u)}function jl(s,r,o,u){var g={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(uh(s))W_(r,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,S=p(b,o);if(g.hasEagerState=!0,g.eagerState=S,wn(S,b))return qu(s,r,g,0),se===null&&Fu(),!1}catch{}if(o=Od(s,r,g,u),o!==null)return vn(o,s,u),X_(o,r,u),!0}return!1}function gg(s,r,o,u){if(u={lane:2,revertLane:Yg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},uh(s)){if(r)throw Error(i(479))}else r=Od(s,o,u,2),r!==null&&vn(r,s,2)}function uh(s){var r=s.alternate;return s===Rt||r!==null&&r===Rt}function W_(s,r){fo=ih=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function X_(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,ul(s,o)}}var Fl={readContext:We,use:ah,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};Fl.useEffectEvent=me;var $_={readContext:We,use:ah,useCallback:function(s,r){return fn().memoizedState=[s,r===void 0?null:r],s},useContext:We,useEffect:k_,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,lh(4194308,4,z_.bind(null,r,s),o)},useLayoutEffect:function(s,r){return lh(4194308,4,s,r)},useInsertionEffect:function(s,r){lh(4,2,s,r)},useMemo:function(s,r){var o=fn();r=r===void 0?null:r;var u=s();if(aa){Mn(!0);try{s()}finally{Mn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=fn();if(o!==void 0){var g=o(r);if(aa){Mn(!0);try{o(r)}finally{Mn(!1)}}}else g=r;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=Uw.bind(null,Rt,s),[u.memoizedState,s]},useRef:function(s){var r=fn();return s={current:s},r.memoizedState=s},useState:function(s){s=og(s);var r=s.queue,o=Q_.bind(null,Rt,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:ug,useDeferredValue:function(s,r){var o=fn();return hg(o,s,r)},useTransition:function(){var s=og(!1);return s=F_.bind(null,Rt,s.queue,!0,!1),fn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Rt,g=fn();if(Ut){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),se===null)throw Error(i(349));(Nt&127)!==0||__(u,r,o)}g.memoizedState=o;var p={value:o,getSnapshot:r};return g.queue=p,k_(b_.bind(null,u,p,s),[s]),u.flags|=2048,mo(9,{destroy:void 0},v_.bind(null,u,p,o,r),null),o},useId:function(){var s=fn(),r=se.identifierPrefix;if(Ut){var o=Pi,u=Vi;o=(u&~(1<<32-ye(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=sh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=Mw++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:dg,useFormState:I_,useActionState:I_,useOptimistic:function(s){var r=fn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=gg.bind(null,Rt,!0,o),o.dispatch=r,[s,r]},useMemoCache:sg,useCacheRefresh:function(){return fn().memoizedState=zw.bind(null,Rt)},useEffectEvent:function(s){var r=fn(),o={impl:s};return r.memoizedState=o,function(){if((Kt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},mg={readContext:We,use:ah,useCallback:B_,useContext:We,useEffect:cg,useImperativeHandle:U_,useInsertionEffect:P_,useLayoutEffect:L_,useMemo:H_,useReducer:oh,useRef:N_,useState:function(){return oh(rs)},useDebugValue:ug,useDeferredValue:function(s,r){var o=be();return j_(o,ee.memoizedState,s,r)},useTransition:function(){var s=oh(rs)[0],r=be().memoizedState;return[typeof s=="boolean"?s:Hl(s),r]},useSyncExternalStore:y_,useId:Y_,useHostTransitionStatus:dg,useFormState:D_,useActionState:D_,useOptimistic:function(s,r){var o=be();return S_(o,ee,s,r)},useMemoCache:sg,useCacheRefresh:K_};mg.useEffectEvent=V_;var J_={readContext:We,use:ah,useCallback:B_,useContext:We,useEffect:cg,useImperativeHandle:U_,useInsertionEffect:P_,useLayoutEffect:L_,useMemo:H_,useReducer:ag,useRef:N_,useState:function(){return ag(rs)},useDebugValue:ug,useDeferredValue:function(s,r){var o=be();return ee===null?hg(o,s,r):j_(o,ee.memoizedState,s,r)},useTransition:function(){var s=ag(rs)[0],r=be().memoizedState;return[typeof s=="boolean"?s:Hl(s),r]},useSyncExternalStore:y_,useId:Y_,useHostTransitionStatus:dg,useFormState:M_,useActionState:M_,useOptimistic:function(s,r){var o=be();return ee!==null?S_(o,ee,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:sg,useCacheRefresh:K_};J_.useEffectEvent=V_;function pg(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var yg={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=On(),g=qs(u);g.payload=r,o!=null&&(g.callback=o),r=Gs(s,g,u),r!==null&&(vn(r,s,u),Ll(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=On(),g=qs(u);g.tag=1,g.payload=r,o!=null&&(g.callback=o),r=Gs(s,g,u),r!==null&&(vn(r,s,u),Ll(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=On(),u=qs(o);u.tag=2,r!=null&&(u.callback=r),r=Gs(s,u,o),r!==null&&(vn(r,s,o),Ll(r,s,o))}};function Z_(s,r,o,u,g,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):r.prototype&&r.prototype.isPureReactComponent?!Il(o,u)||!Il(g,p):!0}function tv(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&yg.enqueueReplaceState(r,r.state,null)}function oa(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=v({},o));for(var g in s)o[g]===void 0&&(o[g]=s[g])}return o}function ev(s){ju(s)}function nv(s){console.error(s)}function iv(s){ju(s)}function hh(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function sv(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function _g(s,r,o){return o=qs(o),o.tag=3,o.payload={element:null},o.callback=function(){hh(s,r)},o}function rv(s){return s=qs(s),s.tag=3,s}function av(s,r,o,u){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){sv(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){sv(r,o,u),typeof g!="function"&&($s===null?$s=new Set([this]):$s.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function Bw(s,r,o,u,g){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&ao(r,o,g,!0),o=xn.current,o!==null){switch(o.tag){case 31:case 13:return jn===null?Sh():o.alternate===null&&pe===0&&(pe=3),o.flags&=-257,o.flags|=65536,o.lanes=g,u===Ju?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Fg(s,u,g)),!1;case 22:return o.flags|=65536,u===Ju?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Fg(s,u,g)),!1}throw Error(i(435,o.tag))}return Fg(s,u,g),Sh(),!1}if(Ut)return r=xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==Ld&&(s=Error(i(422),{cause:u}),Ml(zn(s,o)))):(u!==Ld&&(r=Error(i(423),{cause:u}),Ml(zn(r,o))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=zn(u,o),g=_g(s.stateNode,u,g),Qd(s,g),pe!==4&&(pe=2)),!1;var p=Error(i(520),{cause:u});if(p=zn(p,o),$l===null?$l=[p]:$l.push(p),pe!==4&&(pe=2),r===null)return!0;u=zn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=g&-g,o.lanes|=s,s=_g(o.stateNode,u,s),Qd(o,s),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&($s===null||!$s.has(p))))return o.flags|=65536,g&=-g,o.lanes|=g,g=rv(g),av(g,s,o,u),Qd(o,g),!1}o=o.return}while(o!==null);return!1}var vg=Error(i(461)),De=!1;function Xe(s,r,o,u){r.child=s===null?u_(r,null,o,u):ra(r,s.child,o,u)}function ov(s,r,o,u,g){o=o.render;var p=r.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return ea(r),u=tg(s,r,o,b,p,g),S=eg(),s!==null&&!De?(ng(s,r,g),as(s,r,g)):(Ut&&S&&Vd(r),r.flags|=1,Xe(s,r,u,g),r.child)}function lv(s,r,o,u,g){if(s===null){var p=o.type;return typeof p=="function"&&!Md(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,cv(s,r,p,u,g)):(s=Yu(o.type,null,u,r,r.mode,g),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!xg(s,g)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:Il,o(b,u)&&s.ref===r.ref)return as(s,r,g)}return r.flags|=1,s=ts(p,u),s.ref=r.ref,s.return=r,r.child=s}function cv(s,r,o,u,g){if(s!==null){var p=s.memoizedProps;if(Il(p,u)&&s.ref===r.ref)if(De=!1,r.pendingProps=u=p,xg(s,g))(s.flags&131072)!==0&&(De=!0);else return r.lanes=s.lanes,as(s,r,g)}return bg(s,r,o,u,g)}function uv(s,r,o,u){var g=u.children,p=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,s!==null){for(u=r.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,r.child=null;return hv(s,r,p,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Xu(r,p!==null?p.cachePool:null),p!==null?d_(r,p):Xd(),g_(r);else return u=r.lanes=536870912,hv(s,r,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(Xu(r,p.cachePool),d_(r,p),Ks(),r.memoizedState=null):(s!==null&&Xu(r,null),Xd(),Ks());return Xe(s,r,g,o),r.child}function ql(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function hv(s,r,o,u,g){var p=qd();return p=p===null?null:{parent:Ce._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},s!==null&&Xu(r,null),Xd(),g_(r),s!==null&&ao(s,r,u,!0),r.childLanes=g,null}function fh(s,r){return r=gh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function fv(s,r,o){return ra(r,s.child,null,o),s=fh(r,r.pendingProps),s.flags|=2,Cn(r),r.memoizedState=null,s}function Hw(s,r,o){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Ut){if(u.mode==="hidden")return s=fh(r,u),r.lanes=536870912,ql(null,s);if(Jd(r),(s=oe)?(s=A0(s,Hn),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Us!==null?{id:Vi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},o=Wy(s),o.return=r,r.child=o,Qe=r,oe=null)):s=null,s===null)throw Hs(r);return r.lanes=536870912,null}return fh(r,u)}var p=s.memoizedState;if(p!==null){var b=p.dehydrated;if(Jd(r),g)if(r.flags&256)r.flags&=-257,r=fv(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(De||ao(s,r,o,!1),g=(o&s.childLanes)!==0,De||g){if(u=se,u!==null&&(b=hl(u,o),b!==0&&b!==p.retryLane))throw p.retryLane=b,$r(s,b),vn(u,s,b),vg;Sh(),r=fv(s,r,o)}else s=p.treeContext,oe=Fn(b.nextSibling),Qe=r,Ut=!0,Bs=null,Hn=!1,s!==null&&Jy(r,s),r=fh(r,u),r.flags|=4096;return r}return s=ts(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function dh(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function bg(s,r,o,u,g){return ea(r),o=tg(s,r,o,u,void 0,g),u=eg(),s!==null&&!De?(ng(s,r,g),as(s,r,g)):(Ut&&u&&Vd(r),r.flags|=1,Xe(s,r,o,g),r.child)}function dv(s,r,o,u,g,p){return ea(r),r.updateQueue=null,o=p_(r,u,o,g),m_(s),u=eg(),s!==null&&!De?(ng(s,r,p),as(s,r,p)):(Ut&&u&&Vd(r),r.flags|=1,Xe(s,r,o,p),r.child)}function gv(s,r,o,u,g){if(ea(r),r.stateNode===null){var p=no,b=o.contextType;typeof b=="object"&&b!==null&&(p=We(b)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=yg,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Yd(r),b=o.contextType,p.context=typeof b=="object"&&b!==null?We(b):no,p.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(pg(r,o,b,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&yg.enqueueReplaceState(p,p.state,null),Ul(r,u,p,g),zl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var S=r.memoizedProps,k=oa(o,S);p.props=k;var F=p.context,Q=o.contextType;b=no,typeof Q=="object"&&Q!==null&&(b=We(Q));var $=o.getDerivedStateFromProps;Q=typeof $=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||F!==b)&&tv(r,p,u,b),Fs=!1;var q=r.memoizedState;p.state=q,Ul(r,u,p,g),zl(),F=r.memoizedState,S||q!==F||Fs?(typeof $=="function"&&(pg(r,o,$,u),F=r.memoizedState),(k=Fs||Z_(r,o,k,u,q,F,b))?(Q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=F),p.props=u,p.state=F,p.context=b,u=k):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,Kd(s,r),b=r.memoizedProps,Q=oa(o,b),p.props=Q,$=r.pendingProps,q=p.context,F=o.contextType,k=no,typeof F=="object"&&F!==null&&(k=We(F)),S=o.getDerivedStateFromProps,(F=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==$||q!==k)&&tv(r,p,u,k),Fs=!1,q=r.memoizedState,p.state=q,Ul(r,u,p,g),zl();var K=r.memoizedState;b!==$||q!==K||Fs||s!==null&&s.dependencies!==null&&Qu(s.dependencies)?(typeof S=="function"&&(pg(r,o,S,u),K=r.memoizedState),(Q=Fs||Z_(r,o,Q,u,q,K,k)||s!==null&&s.dependencies!==null&&Qu(s.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,K,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,K,k)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&q===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&q===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=K),p.props=u,p.state=K,p.context=k,u=Q):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&q===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&q===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,dh(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=ra(r,s.child,null,g),r.child=ra(r,null,o,g)):Xe(s,r,o,g),r.memoizedState=p.state,s=r.child):s=as(s,r,g),s}function mv(s,r,o,u){return Zr(),r.flags|=256,Xe(s,r,o,u),r.child}var Eg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tg(s){return{baseLanes:s,cachePool:s_()}}function Sg(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Dn),s}function pv(s,r,o){var u=r.pendingProps,g=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(ve.current&2)!==0),b&&(g=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ut){if(g?Ys(r):Ks(),(s=oe)?(s=A0(s,Hn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Us!==null?{id:Vi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},o=Wy(s),o.return=r,r.child=o,Qe=r,oe=null)):s=null,s===null)throw Hs(r);return rm(s)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,g?(Ks(),g=r.mode,S=gh({mode:"hidden",children:S},g),u=Jr(u,g,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=Tg(o),u.childLanes=Sg(s,b,o),r.memoizedState=Eg,ql(null,u)):(Ys(r),Ag(r,S))}var k=s.memoizedState;if(k!==null&&(S=k.dehydrated,S!==null)){if(p)r.flags&256?(Ys(r),r.flags&=-257,r=wg(s,r,o)):r.memoizedState!==null?(Ks(),r.child=s.child,r.flags|=128,r=null):(Ks(),S=u.fallback,g=r.mode,u=gh({mode:"visible",children:u.children},g),S=Jr(S,g,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,ra(r,s.child,null,o),u=r.child,u.memoizedState=Tg(o),u.childLanes=Sg(s,b,o),r.memoizedState=Eg,r=ql(null,u));else if(Ys(r),rm(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var F=b.dgst;b=F,u=Error(i(419)),u.stack="",u.digest=b,Ml({value:u,source:null,stack:null}),r=wg(s,r,o)}else if(De||ao(s,r,o,!1),b=(o&s.childLanes)!==0,De||b){if(b=se,b!==null&&(u=hl(b,o),u!==0&&u!==k.retryLane))throw k.retryLane=u,$r(s,u),vn(b,s,u),vg;sm(S)||Sh(),r=wg(s,r,o)}else sm(S)?(r.flags|=192,r.child=s.child,r=null):(s=k.treeContext,oe=Fn(S.nextSibling),Qe=r,Ut=!0,Bs=null,Hn=!1,s!==null&&Jy(r,s),r=Ag(r,u.children),r.flags|=4096);return r}return g?(Ks(),S=u.fallback,g=r.mode,k=s.child,F=k.sibling,u=ts(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,F!==null?S=ts(F,S):(S=Jr(S,g,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,ql(null,u),u=r.child,S=s.child.memoizedState,S===null?S=Tg(o):(g=S.cachePool,g!==null?(k=Ce._currentValue,g=g.parent!==k?{parent:k,pool:k}:g):g=s_(),S={baseLanes:S.baseLanes|o,cachePool:g}),u.memoizedState=S,u.childLanes=Sg(s,b,o),r.memoizedState=Eg,ql(s.child,u)):(Ys(r),o=s.child,s=o.sibling,o=ts(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(b=r.deletions,b===null?(r.deletions=[s],r.flags|=16):b.push(s)),r.child=o,r.memoizedState=null,o)}function Ag(s,r){return r=gh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function gh(s,r){return s=Rn(22,s,null,r),s.lanes=0,s}function wg(s,r,o){return ra(r,s.child,null,o),s=Ag(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function yv(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Bd(s.return,r,o)}function Rg(s,r,o,u,g,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:g,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=g,b.treeForkCount=p)}function _v(s,r,o){var u=r.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var b=ve.current,S=(b&2)!==0;if(S?(b=b&1|2,r.flags|=128):b&=1,ot(ve,b),Xe(s,r,u,o),u=Ut?Ol:0,!S&&s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&yv(s,o,r);else if(s.tag===19)yv(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(o=r.child,g=null;o!==null;)s=o.alternate,s!==null&&nh(s)===null&&(g=o),o=o.sibling;o=g,o===null?(g=r.child,r.child=null):(g=o.sibling,o.sibling=null),Rg(r,!1,g,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,g=r.child,r.child=null;g!==null;){if(s=g.alternate,s!==null&&nh(s)===null){r.child=g;break}s=g.sibling,g.sibling=o,o=g,g=s}Rg(r,!0,o,null,p,u);break;case"together":Rg(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function as(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Xs|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(ao(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=ts(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=ts(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function xg(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Qu(s)))}function jw(s,r,o){switch(r.tag){case 3:Ve(r,r.stateNode.containerInfo),js(r,Ce,s.memoizedState.cache),Zr();break;case 27:case 5:Nr(r);break;case 4:Ve(r,r.stateNode.containerInfo);break;case 10:js(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Jd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ys(r),r.flags|=128,null):(o&r.child.childLanes)!==0?pv(s,r,o):(Ys(r),s=as(s,r,o),s!==null?s.sibling:null);Ys(r);break;case 19:var g=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(ao(s,r,o,!1),u=(o&r.childLanes)!==0),g){if(u)return _v(s,r,o);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ot(ve,ve.current),u)break;return null;case 22:return r.lanes=0,uv(s,r,o,r.pendingProps);case 24:js(r,Ce,s.memoizedState.cache)}return as(s,r,o)}function vv(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)De=!0;else{if(!xg(s,o)&&(r.flags&128)===0)return De=!1,jw(s,r,o);De=(s.flags&131072)!==0}else De=!1,Ut&&(r.flags&1048576)!==0&&$y(r,Ol,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(s=ia(r.elementType),r.type=s,typeof s=="function")Md(s)?(u=oa(s,u),r.tag=1,r=gv(null,r,s,u,o)):(r.tag=0,r=bg(null,r,s,u,o));else{if(s!=null){var g=s.$$typeof;if(g===it){r.tag=11,r=ov(null,r,s,u,o);break t}else if(g===x){r.tag=14,r=lv(null,r,s,u,o);break t}}throw r=zt(s)||s,Error(i(306,r,""))}}return r;case 0:return bg(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,g=oa(u,r.pendingProps),gv(s,r,u,g,o);case 3:t:{if(Ve(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;g=p.element,Kd(s,r),Ul(r,u,null,o);var b=r.memoizedState;if(u=b.cache,js(r,Ce,u),u!==p.cache&&Hd(r,[Ce],o,!0),zl(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=mv(s,r,u,o);break t}else if(u!==g){g=zn(Error(i(424)),r),Ml(g),r=mv(s,r,u,o);break t}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,oe=Fn(s.firstChild),Qe=r,Ut=!0,Bs=null,Hn=!0,o=u_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Zr(),u===g){r=as(s,r,o);break t}Xe(s,r,u,o)}r=r.child}return r;case 26:return dh(s,r),s===null?(o=D0(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ut||(o=r.type,s=r.pendingProps,u=Dh(vt.current).createElement(o),u[we]=r,u[Be]=s,$e(u,o,s),Re(u),r.stateNode=u):r.memoizedState=D0(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Nr(r),s===null&&Ut&&(u=r.stateNode=x0(r.type,r.pendingProps,vt.current),Qe=r,Hn=!0,g=oe,er(r.type)?(am=g,oe=Fn(u.firstChild)):oe=g),Xe(s,r,r.pendingProps.children,o),dh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ut&&((g=u=oe)&&(u=_R(u,r.type,r.pendingProps,Hn),u!==null?(r.stateNode=u,Qe=r,oe=Fn(u.firstChild),Hn=!1,g=!0):g=!1),g||Hs(r)),Nr(r),g=r.type,p=r.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,em(g,p)?u=null:b!==null&&em(g,b)&&(r.flags|=32),r.memoizedState!==null&&(g=tg(s,r,Nw,null,null,o),rc._currentValue=g),dh(s,r),Xe(s,r,u,o),r.child;case 6:return s===null&&Ut&&((s=o=oe)&&(o=vR(o,r.pendingProps,Hn),o!==null?(r.stateNode=o,Qe=r,oe=null,s=!0):s=!1),s||Hs(r)),null;case 13:return pv(s,r,o);case 4:return Ve(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=ra(r,null,u,o):Xe(s,r,u,o),r.child;case 11:return ov(s,r,r.type,r.pendingProps,o);case 7:return Xe(s,r,r.pendingProps,o),r.child;case 8:return Xe(s,r,r.pendingProps.children,o),r.child;case 12:return Xe(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,js(r,r.type,u.value),Xe(s,r,u.children,o),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,ea(r),g=We(g),u=u(g),r.flags|=1,Xe(s,r,u,o),r.child;case 14:return lv(s,r,r.type,r.pendingProps,o);case 15:return cv(s,r,r.type,r.pendingProps,o);case 19:return _v(s,r,o);case 31:return Hw(s,r,o);case 22:return uv(s,r,o,r.pendingProps);case 24:return ea(r),u=We(Ce),s===null?(g=qd(),g===null&&(g=se,p=jd(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=o),g=p),r.memoizedState={parent:u,cache:g},Yd(r),js(r,Ce,g)):((s.lanes&o)!==0&&(Kd(s,r),Ul(r,null,null,o),zl()),g=s.memoizedState,p=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),js(r,Ce,u)):(u=p.cache,js(r,Ce,u),u!==g.cache&&Hd(r,[Ce],o,!0))),Xe(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function os(s){s.flags|=4}function Cg(s,r,o,u,g){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(Yv())s.flags|=8192;else throw sa=Ju,Gd}else s.flags&=-16777217}function bv(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!V0(r))if(Yv())s.flags|=8192;else throw sa=Ju,Gd}function mh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Eu():536870912,s.lanes|=r,vo|=r)}function Gl(s,r){if(!Ut)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function le(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var g=s.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function Fw(s,r,o){var u=r.pendingProps;switch(Pd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(r),null;case 1:return le(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),is(Ce),he(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(ro(r)?os(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,zd())),le(r),null;case 26:var g=r.type,p=r.memoizedState;return s===null?(os(r),p!==null?(le(r),bv(r,p)):(le(r),Cg(r,g,null,u,o))):p?p!==s.memoizedState?(os(r),le(r),bv(r,p)):(le(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&os(r),le(r),Cg(r,g,s,u,o)),null;case 27:if(La(r),o=vt.current,g=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&os(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return le(r),null}s=lt.current,ro(r)?Zy(r):(s=x0(g,u,o),r.stateNode=s,os(r))}return le(r),null;case 5:if(La(r),g=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&os(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return le(r),null}if(p=lt.current,ro(r))Zy(r);else{var b=Dh(vt.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(g,{is:u.is}):b.createElement(g)}}p[we]=r,p[Be]=u;t:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break t;for(;b.sibling===null;){if(b.return===null||b.return===r)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;t:switch($e(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&os(r)}}return le(r),Cg(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&os(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=vt.current,ro(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,g=Qe,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[we]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||p0(s.nodeValue,o)),s||Hs(r,!0)}else s=Dh(s).createTextNode(u),s[we]=r,r.stateNode=s}return le(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=ro(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[we]=r}else Zr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;le(r),s=!1}else o=zd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Cn(r),r):(Cn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return le(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=ro(r),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[we]=r}else Zr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;le(r),g=!1}else g=zd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Cn(r),r):(Cn(r),null)}return Cn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),mh(r,r.updateQueue),le(r),null);case 4:return he(),s===null&&Xg(r.stateNode.containerInfo),le(r),null;case 10:return is(r.type),le(r),null;case 19:if(W(ve),u=r.memoizedState,u===null)return le(r),null;if(g=(r.flags&128)!==0,p=u.rendering,p===null)if(g)Gl(u,!1);else{if(pe!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=nh(s),p!==null){for(r.flags|=128,Gl(u,!1),s=p.updateQueue,r.updateQueue=s,mh(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)Qy(o,s),o=o.sibling;return ot(ve,ve.current&1|2),Ut&&es(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&un()>bh&&(r.flags|=128,g=!0,Gl(u,!1),r.lanes=4194304)}else{if(!g)if(s=nh(p),s!==null){if(r.flags|=128,g=!0,s=s.updateQueue,r.updateQueue=s,mh(r,s),Gl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ut)return le(r),null}else 2*un()-u.renderingStartTime>bh&&o!==536870912&&(r.flags|=128,g=!0,Gl(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(s=u.last,s!==null?s.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=un(),s.sibling=null,o=ve.current,ot(ve,g?o&1|2:o&1),Ut&&es(r,u.treeForkCount),s):(le(r),null);case 22:case 23:return Cn(r),$d(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(le(r),r.subtreeFlags&6&&(r.flags|=8192)):le(r),o=r.updateQueue,o!==null&&mh(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&W(na),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),is(Ce),le(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function qw(s,r){switch(Pd(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return is(Ce),he(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return La(r),null;case 31:if(r.memoizedState!==null){if(Cn(r),r.alternate===null)throw Error(i(340));Zr()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Cn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Zr()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return W(ve),null;case 4:return he(),null;case 10:return is(r.type),null;case 22:case 23:return Cn(r),$d(),s!==null&&W(na),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return is(Ce),null;case 25:return null;default:return null}}function Ev(s,r){switch(Pd(r),r.tag){case 3:is(Ce),he();break;case 26:case 27:case 5:La(r);break;case 4:he();break;case 31:r.memoizedState!==null&&Cn(r);break;case 13:Cn(r);break;case 19:W(ve);break;case 10:is(r.type);break;case 22:case 23:Cn(r),$d(),s!==null&&W(na);break;case 24:is(Ce)}}function Yl(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var g=u.next;o=g;do{if((o.tag&s)===s){u=void 0;var p=o.create,b=o.inst;u=p(),b.destroy=u}o=o.next}while(o!==g)}}catch(S){Jt(r,r.return,S)}}function Qs(s,r,o){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,g=r;var k=o,F=S;try{F()}catch(Q){Jt(g,k,Q)}}}u=u.next}while(u!==p)}}catch(Q){Jt(r,r.return,Q)}}function Tv(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{f_(r,o)}catch(u){Jt(s,s.return,u)}}}function Sv(s,r,o){o.props=oa(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){Jt(s,r,u)}}function Kl(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(g){Jt(s,r,g)}}function Li(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(g){Jt(s,r,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){Jt(s,r,g)}else o.current=null}function Av(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(g){Jt(s,s.return,g)}}function Ig(s,r,o){try{var u=s.stateNode;fR(u,s.type,o,r),u[Be]=r}catch(g){Jt(s,s.return,g)}}function wv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&er(s.type)||s.tag===4}function Dg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||wv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&er(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Og(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ii));else if(u!==4&&(u===27&&er(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Og(s,r,o),s=s.sibling;s!==null;)Og(s,r,o),s=s.sibling}function ph(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&er(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(ph(s,r,o),s=s.sibling;s!==null;)ph(s,r,o),s=s.sibling}function Rv(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);$e(r,u,o),r[we]=s,r[Be]=o}catch(p){Jt(s,s.return,p)}}var ls=!1,Oe=!1,Mg=!1,xv=typeof WeakSet=="function"?WeakSet:Set,je=null;function Gw(s,r){if(s=s.containerInfo,Zg=Lh,s=Uy(s),wd(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else t:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var b=0,S=-1,k=-1,F=0,Q=0,$=s,q=null;e:for(;;){for(var K;$!==o||g!==0&&$.nodeType!==3||(S=b+g),$!==p||u!==0&&$.nodeType!==3||(k=b+u),$.nodeType===3&&(b+=$.nodeValue.length),(K=$.firstChild)!==null;)q=$,$=K;for(;;){if($===s)break e;if(q===o&&++F===g&&(S=b),q===p&&++Q===u&&(k=b),(K=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=K}o=S===-1||k===-1?null:{start:S,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(tm={focusedElem:s,selectionRange:o},Lh=!1,je=r;je!==null;)if(r=je,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,je=s;else for(;je!==null;){switch(r=je,p=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)g=s[o],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,o=r,g=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var ft=oa(o.type,g);s=u.getSnapshotBeforeUpdate(ft,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(_t){Jt(o,o.return,_t)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)im(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":im(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,je=s;break}je=r.return}}function Cv(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:us(s,o),u&4&&Yl(5,o);break;case 1:if(us(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(b){Jt(o,o.return,b)}else{var g=oa(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(g,r,s.__reactInternalSnapshotBeforeUpdate)}catch(b){Jt(o,o.return,b)}}u&64&&Tv(o),u&512&&Kl(o,o.return);break;case 3:if(us(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{f_(s,r)}catch(b){Jt(o,o.return,b)}}break;case 27:r===null&&u&4&&Rv(o);case 26:case 5:us(s,o),r===null&&u&4&&Av(o),u&512&&Kl(o,o.return);break;case 12:us(s,o);break;case 31:us(s,o),u&4&&Ov(s,o);break;case 13:us(s,o),u&4&&Mv(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=tR.bind(null,o),bR(s,o))));break;case 22:if(u=o.memoizedState!==null||ls,!u){r=r!==null&&r.memoizedState!==null||Oe,g=ls;var p=Oe;ls=u,(Oe=r)&&!p?hs(s,o,(o.subtreeFlags&8772)!==0):us(s,o),ls=g,Oe=p}break;case 30:break;default:us(s,o)}}function Iv(s){var r=s.alternate;r!==null&&(s.alternate=null,Iv(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&ja(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var de=null,mn=!1;function cs(s,r,o){for(o=o.child;o!==null;)Dv(s,r,o),o=o.sibling}function Dv(s,r,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Zn,o)}catch{}switch(o.tag){case 26:Oe||Li(o,r),cs(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Oe||Li(o,r);var u=de,g=mn;er(o.type)&&(de=o.stateNode,mn=!1),cs(s,r,o),nc(o.stateNode),de=u,mn=g;break;case 5:Oe||Li(o,r);case 6:if(u=de,g=mn,de=null,cs(s,r,o),de=u,mn=g,de!==null)if(mn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(o.stateNode)}catch(p){Jt(o,r,p)}else try{de.removeChild(o.stateNode)}catch(p){Jt(o,r,p)}break;case 18:de!==null&&(mn?(s=de,T0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),xo(s)):T0(de,o.stateNode));break;case 4:u=de,g=mn,de=o.stateNode.containerInfo,mn=!0,cs(s,r,o),de=u,mn=g;break;case 0:case 11:case 14:case 15:Qs(2,o,r),Oe||Qs(4,o,r),cs(s,r,o);break;case 1:Oe||(Li(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Sv(o,r,u)),cs(s,r,o);break;case 21:cs(s,r,o);break;case 22:Oe=(u=Oe)||o.memoizedState!==null,cs(s,r,o),Oe=u;break;default:cs(s,r,o)}}function Ov(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{xo(s)}catch(o){Jt(r,r.return,o)}}}function Mv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{xo(s)}catch(o){Jt(r,r.return,o)}}function Yw(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new xv),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new xv),r;default:throw Error(i(435,s.tag))}}function yh(s,r){var o=Yw(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var g=eR.bind(null,s,u);u.then(g,g)}})}function pn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var g=o[u],p=s,b=r,S=b;t:for(;S!==null;){switch(S.tag){case 27:if(er(S.type)){de=S.stateNode,mn=!1;break t}break;case 5:de=S.stateNode,mn=!1;break t;case 3:case 4:de=S.stateNode.containerInfo,mn=!0;break t}S=S.return}if(de===null)throw Error(i(160));Dv(p,b,g),de=null,mn=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Nv(r,s),r=r.sibling}var ci=null;function Nv(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:pn(r,s),yn(s),u&4&&(Qs(3,s,s.return),Yl(3,s),Qs(5,s,s.return));break;case 1:pn(r,s),yn(s),u&512&&(Oe||o===null||Li(o,o.return)),u&64&&ls&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var g=ci;if(pn(r,s),yn(s),u&512&&(Oe||o===null||Li(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){t:{u=s.type,o=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Si]||p[we]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),$e(p,u,o),p[we]=s,Re(p),u=p;break t;case"link":var b=N0("link","href",g).get(u+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(p=b[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break e}}p=g.createElement(u),$e(p,u,o),g.head.appendChild(p);break;case"meta":if(b=N0("meta","content",g).get(u+(o.content||""))){for(S=0;S<b.length;S++)if(p=b[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break e}}p=g.createElement(u),$e(p,u,o),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[we]=s,Re(p),u=p}s.stateNode=u}else k0(g,s.type,s.stateNode);else s.stateNode=M0(g,u,s.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?k0(g,s.type,s.stateNode):M0(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Ig(s,s.memoizedProps,o.memoizedProps)}break;case 27:pn(r,s),yn(s),u&512&&(Oe||o===null||Li(o,o.return)),o!==null&&u&4&&Ig(s,s.memoizedProps,o.memoizedProps);break;case 5:if(pn(r,s),yn(s),u&512&&(Oe||o===null||Li(o,o.return)),s.flags&32){g=s.stateNode;try{gn(g,"")}catch(ft){Jt(s,s.return,ft)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Ig(s,g,o!==null?o.memoizedProps:g)),u&1024&&(Mg=!0);break;case 6:if(pn(r,s),yn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(ft){Jt(s,s.return,ft)}}break;case 3:if(Nh=null,g=ci,ci=Oh(r.containerInfo),pn(r,s),ci=g,yn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{xo(r.containerInfo)}catch(ft){Jt(s,s.return,ft)}Mg&&(Mg=!1,kv(s));break;case 4:u=ci,ci=Oh(s.stateNode.containerInfo),pn(r,s),yn(s),ci=u;break;case 12:pn(r,s),yn(s);break;case 31:pn(r,s),yn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,yh(s,u)));break;case 13:pn(r,s),yn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(vh=un()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,yh(s,u)));break;case 22:g=s.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,F=ls,Q=Oe;if(ls=F||g,Oe=Q||k,pn(r,s),Oe=Q,ls=F,yn(s),u&8192)t:for(r=s.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(o===null||k||ls||Oe||la(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){k=o=r;try{if(p=k.stateNode,g)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=k.stateNode;var $=k.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ft){Jt(k,k.return,ft)}}}else if(r.tag===6){if(o===null){k=r;try{k.stateNode.nodeValue=g?"":k.memoizedProps}catch(ft){Jt(k,k.return,ft)}}}else if(r.tag===18){if(o===null){k=r;try{var K=k.stateNode;g?S0(K,!0):S0(k.stateNode,!1)}catch(ft){Jt(k,k.return,ft)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,yh(s,o))));break;case 19:pn(r,s),yn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,yh(s,u)));break;case 30:break;case 21:break;default:pn(r,s),yn(s)}}function yn(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(wv(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var g=o.stateNode,p=Dg(s);ph(s,p,g);break;case 5:var b=o.stateNode;o.flags&32&&(gn(b,""),o.flags&=-33);var S=Dg(s);ph(s,S,b);break;case 3:case 4:var k=o.stateNode.containerInfo,F=Dg(s);Og(s,F,k);break;default:throw Error(i(161))}}catch(Q){Jt(s,s.return,Q)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function kv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;kv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function us(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Cv(s,r.alternate,r),r=r.sibling}function la(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Qs(4,r,r.return),la(r);break;case 1:Li(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Sv(r,r.return,o),la(r);break;case 27:nc(r.stateNode);case 26:case 5:Li(r,r.return),la(r);break;case 22:r.memoizedState===null&&la(r);break;case 30:la(r);break;default:la(r)}s=s.sibling}}function hs(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=s,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:hs(g,p,o),Yl(4,p);break;case 1:if(hs(g,p,o),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(F){Jt(u,u.return,F)}if(u=p,g=u.updateQueue,g!==null){var S=u.stateNode;try{var k=g.shared.hiddenCallbacks;if(k!==null)for(g.shared.hiddenCallbacks=null,g=0;g<k.length;g++)h_(k[g],S)}catch(F){Jt(u,u.return,F)}}o&&b&64&&Tv(p),Kl(p,p.return);break;case 27:Rv(p);case 26:case 5:hs(g,p,o),o&&u===null&&b&4&&Av(p),Kl(p,p.return);break;case 12:hs(g,p,o);break;case 31:hs(g,p,o),o&&b&4&&Ov(g,p);break;case 13:hs(g,p,o),o&&b&4&&Mv(g,p);break;case 22:p.memoizedState===null&&hs(g,p,o),Kl(p,p.return);break;case 30:break;default:hs(g,p,o)}r=r.sibling}}function Ng(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Nl(o))}function kg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Nl(s))}function ui(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vv(s,r,o,u),r=r.sibling}function Vv(s,r,o,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:ui(s,r,o,u),g&2048&&Yl(9,r);break;case 1:ui(s,r,o,u);break;case 3:ui(s,r,o,u),g&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Nl(s)));break;case 12:if(g&2048){ui(s,r,o,u),s=r.stateNode;try{var p=r.memoizedProps,b=p.id,S=p.onPostCommit;typeof S=="function"&&S(b,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(k){Jt(r,r.return,k)}}else ui(s,r,o,u);break;case 31:ui(s,r,o,u);break;case 13:ui(s,r,o,u);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?ui(s,r,o,u):Ql(s,r):p._visibility&2?ui(s,r,o,u):(p._visibility|=2,po(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Ng(b,r);break;case 24:ui(s,r,o,u),g&2048&&kg(r.alternate,r);break;default:ui(s,r,o,u)}}function po(s,r,o,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=s,b=r,S=o,k=u,F=b.flags;switch(b.tag){case 0:case 11:case 15:po(p,b,S,k,g),Yl(8,b);break;case 23:break;case 22:var Q=b.stateNode;b.memoizedState!==null?Q._visibility&2?po(p,b,S,k,g):Ql(p,b):(Q._visibility|=2,po(p,b,S,k,g)),g&&F&2048&&Ng(b.alternate,b);break;case 24:po(p,b,S,k,g),g&&F&2048&&kg(b.alternate,b);break;default:po(p,b,S,k,g)}r=r.sibling}}function Ql(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,g=u.flags;switch(u.tag){case 22:Ql(o,u),g&2048&&Ng(u.alternate,u);break;case 24:Ql(o,u),g&2048&&kg(u.alternate,u);break;default:Ql(o,u)}r=r.sibling}}var Wl=8192;function yo(s,r,o){if(s.subtreeFlags&Wl)for(s=s.child;s!==null;)Pv(s,r,o),s=s.sibling}function Pv(s,r,o){switch(s.tag){case 26:yo(s,r,o),s.flags&Wl&&s.memoizedState!==null&&MR(o,ci,s.memoizedState,s.memoizedProps);break;case 5:yo(s,r,o);break;case 3:case 4:var u=ci;ci=Oh(s.stateNode.containerInfo),yo(s,r,o),ci=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Wl,Wl=16777216,yo(s,r,o),Wl=u):yo(s,r,o));break;default:yo(s,r,o)}}function Lv(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Xl(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];je=u,Uv(u,s)}Lv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)zv(s),s=s.sibling}function zv(s){switch(s.tag){case 0:case 11:case 15:Xl(s),s.flags&2048&&Qs(9,s,s.return);break;case 3:Xl(s);break;case 12:Xl(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,_h(s)):Xl(s);break;default:Xl(s)}}function _h(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];je=u,Uv(u,s)}Lv(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Qs(8,r,r.return),_h(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,_h(r));break;default:_h(r)}s=s.sibling}}function Uv(s,r){for(;je!==null;){var o=je;switch(o.tag){case 0:case 11:case 15:Qs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Nl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,je=u;else t:for(o=s;je!==null;){u=je;var g=u.sibling,p=u.return;if(Iv(u),u===o){je=null;break t}if(g!==null){g.return=p,je=g;break t}je=p}}}var Kw={getCacheForType:function(s){var r=We(Ce),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return We(Ce).controller.signal}},Qw=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,Dt=null,Nt=0,$t=0,In=null,Ws=!1,_o=!1,Vg=!1,fs=0,pe=0,Xs=0,ca=0,Pg=0,Dn=0,vo=0,$l=null,_n=null,Lg=!1,vh=0,Bv=0,bh=1/0,Eh=null,$s=null,Le=0,Js=null,bo=null,ds=0,zg=0,Ug=null,Hv=null,Jl=0,Bg=null;function On(){return(Kt&2)!==0&&Nt!==0?Nt&-Nt:Y.T!==null?Yg():Tu()}function jv(){if(Dn===0)if((Nt&536870912)===0||Ut){var s=Pr;Pr<<=1,(Pr&3932160)===0&&(Pr=262144),Dn=s}else Dn=536870912;return s=xn.current,s!==null&&(s.flags|=32),Dn}function vn(s,r,o){(s===se&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(Eo(s,0),Zs(s,Nt,Dn,!1)),Lr(s,o),((Kt&2)===0||s!==se)&&(s===se&&((Kt&2)===0&&(ca|=o),pe===4&&Zs(s,Nt,Dn,!1)),zi(s))}function Fv(s,r,o){if((Kt&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||ti(s,r),g=u?$w(s,r):jg(s,r,!0),p=u;do{if(g===0){_o&&!u&&Zs(s,r,0,!1);break}else{if(o=s.current.alternate,p&&!Ww(o)){g=jg(s,r,!1),p=!1;continue}if(g===2){if(p=r,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var S=s;g=$l;var k=S.current.memoizedState.isDehydrated;if(k&&(Eo(S,b).flags|=256),b=jg(S,b,!1),b!==2){if(Vg&&!k){S.errorRecoveryDisabledLanes|=p,ca|=p,g=4;break t}p=_n,_n=g,p!==null&&(_n===null?_n=p:_n.push.apply(_n,p))}g=b}if(p=!1,g!==2)continue}}if(g===1){Eo(s,0),Zs(s,r,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Zs(u,r,Dn,!Ws);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=vh+300-un(),10<g)){if(Zs(u,r,Dn,!Ws),bi(u,0,!0)!==0)break t;ds=r,u.timeoutHandle=b0(qv.bind(null,u,o,_n,Eh,Lg,r,Dn,ca,vo,Ws,p,"Throttled",-0,0),g);break t}qv(u,o,_n,Eh,Lg,r,Dn,ca,vo,Ws,p,null,-0,0)}}break}while(!0);zi(s)}function qv(s,r,o,u,g,p,b,S,k,F,Q,$,q,K){if(s.timeoutHandle=-1,$=r.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Pv(r,p,$);var ft=(p&62914560)===p?vh-un():(p&4194048)===p?Bv-un():0;if(ft=NR($,ft),ft!==null){ds=p,s.cancelPendingCommit=ft(Jv.bind(null,s,r,p,o,u,g,b,S,k,Q,$,null,q,K)),Zs(s,p,b,!F);return}}Jv(s,r,p,o,u,g,b,S,k)}function Ww(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var g=o[u],p=g.getSnapshot;g=g.value;try{if(!wn(p(),g))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zs(s,r,o,u){r&=~Pg,r&=~ca,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var g=r;0<g;){var p=31-ye(g),b=1<<p;u[p]=-1,g&=~b}o!==0&&zr(s,o,r)}function Th(){return(Kt&6)===0?(Zl(0),!1):!0}function Hg(){if(Dt!==null){if($t===0)var s=Dt.return;else s=Dt,ns=ta=null,ig(s),uo=null,Vl=0,s=Dt;for(;s!==null;)Ev(s.alternate,s),s=s.return;Dt=null}}function Eo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,mR(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),ds=0,Hg(),se=s,Dt=o=ts(s.current,null),Nt=r,$t=0,In=null,Ws=!1,_o=ti(s,r),Vg=!1,vo=Dn=Pg=ca=Xs=pe=0,_n=$l=null,Lg=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var g=31-ye(u),p=1<<g;r|=s[g],u&=~p}return fs=r,Fu(),o}function Gv(s,r){Rt=null,Y.H=Fl,r===co||r===$u?(r=o_(),$t=3):r===Gd?(r=o_(),$t=4):$t=r===vg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,Dt===null&&(pe=1,hh(s,zn(r,s.current)))}function Yv(){var s=xn.current;return s===null?!0:(Nt&4194048)===Nt?jn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?s===jn:!1}function Kv(){var s=Y.H;return Y.H=Fl,s===null?Fl:s}function Qv(){var s=Y.A;return Y.A=Kw,s}function Sh(){pe=4,Ws||(Nt&4194048)!==Nt&&xn.current!==null||(_o=!0),(Xs&134217727)===0&&(ca&134217727)===0||se===null||Zs(se,Nt,Dn,!1)}function jg(s,r,o){var u=Kt;Kt|=2;var g=Kv(),p=Qv();(se!==s||Nt!==r)&&(Eh=null,Eo(s,r)),r=!1;var b=pe;t:do try{if($t!==0&&Dt!==null){var S=Dt,k=In;switch($t){case 8:Hg(),b=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(r=!0);var F=$t;if($t=0,In=null,To(s,S,k,F),o&&_o){b=0;break t}break;default:F=$t,$t=0,In=null,To(s,S,k,F)}}Xw(),b=pe;break}catch(Q){Gv(s,Q)}while(!0);return r&&s.shellSuspendCounter++,ns=ta=null,Kt=u,Y.H=g,Y.A=p,Dt===null&&(se=null,Nt=0,Fu()),b}function Xw(){for(;Dt!==null;)Wv(Dt)}function $w(s,r){var o=Kt;Kt|=2;var u=Kv(),g=Qv();se!==s||Nt!==r?(Eh=null,bh=un()+500,Eo(s,r)):_o=ti(s,r);t:do try{if($t!==0&&Dt!==null){r=Dt;var p=In;e:switch($t){case 1:$t=0,In=null,To(s,r,p,1);break;case 2:case 9:if(r_(p)){$t=0,In=null,Xv(r);break}r=function(){$t!==2&&$t!==9||se!==s||($t=7),zi(s)},p.then(r,r);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:r_(p)?($t=0,In=null,Xv(r)):($t=0,In=null,To(s,r,p,7));break;case 5:var b=null;switch(Dt.tag){case 26:b=Dt.memoizedState;case 5:case 27:var S=Dt;if(b?V0(b):S.stateNode.complete){$t=0,In=null;var k=S.sibling;if(k!==null)Dt=k;else{var F=S.return;F!==null?(Dt=F,Ah(F)):Dt=null}break e}}$t=0,In=null,To(s,r,p,5);break;case 6:$t=0,In=null,To(s,r,p,6);break;case 8:Hg(),pe=6;break t;default:throw Error(i(462))}}Jw();break}catch(Q){Gv(s,Q)}while(!0);return ns=ta=null,Y.H=u,Y.A=g,Kt=o,Dt!==null?0:(se=null,Nt=0,Fu(),pe)}function Jw(){for(;Dt!==null&&!_d();)Wv(Dt)}function Wv(s){var r=vv(s.alternate,s,fs);s.memoizedProps=s.pendingProps,r===null?Ah(s):Dt=r}function Xv(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=dv(o,r,r.pendingProps,r.type,void 0,Nt);break;case 11:r=dv(o,r,r.pendingProps,r.type.render,r.ref,Nt);break;case 5:ig(r);default:Ev(o,r),r=Dt=Qy(r,fs),r=vv(o,r,fs)}s.memoizedProps=s.pendingProps,r===null?Ah(s):Dt=r}function To(s,r,o,u){ns=ta=null,ig(r),uo=null,Vl=0;var g=r.return;try{if(Bw(s,g,r,o,Nt)){pe=1,hh(s,zn(o,s.current)),Dt=null;return}}catch(p){if(g!==null)throw Dt=g,p;pe=1,hh(s,zn(o,s.current)),Dt=null;return}r.flags&32768?(Ut||u===1?s=!0:_o||(Nt&536870912)!==0?s=!1:(Ws=s=!0,(u===2||u===9||u===3||u===6)&&(u=xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),$v(r,s)):Ah(r)}function Ah(s){var r=s;do{if((r.flags&32768)!==0){$v(r,Ws);return}s=r.return;var o=Fw(r.alternate,r,fs);if(o!==null){Dt=o;return}if(r=r.sibling,r!==null){Dt=r;return}Dt=r=s}while(r!==null);pe===0&&(pe=5)}function $v(s,r){do{var o=qw(s.alternate,s);if(o!==null){o.flags&=32767,Dt=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Dt=s;return}Dt=s=o}while(s!==null);pe=6,Dt=null}function Jv(s,r,o,u,g,p,b,S,k){s.cancelPendingCommit=null;do wh();while(Le!==0);if((Kt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=Dd,Ed(s,o,p,b,S,k),s===se&&(Dt=se=null,Nt=0),bo=r,Js=s,ds=o,zg=p,Ug=g,Hv=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,nR(Is,function(){return i0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,g=st.p,st.p=2,b=Kt,Kt|=4;try{Gw(s,r,o)}finally{Kt=b,st.p=g,Y.T=u}}Le=1,Zv(),t0(),e0()}}function Zv(){if(Le===1){Le=0;var s=Js,r=bo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var u=st.p;st.p=2;var g=Kt;Kt|=4;try{Nv(r,s);var p=tm,b=Uy(s.containerInfo),S=p.focusedElem,k=p.selectionRange;if(b!==S&&S&&S.ownerDocument&&zy(S.ownerDocument.documentElement,S)){if(k!==null&&wd(S)){var F=k.start,Q=k.end;if(Q===void 0&&(Q=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(Q,S.value.length);else{var $=S.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var K=q.getSelection(),ft=S.textContent.length,_t=Math.min(k.start,ft),ie=k.end===void 0?_t:Math.min(k.end,ft);!K.extend&&_t>ie&&(b=ie,ie=_t,_t=b);var U=Ly(S,_t),z=Ly(S,ie);if(U&&z&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==z.node||K.focusOffset!==z.offset)){var H=$.createRange();H.setStart(U.node,U.offset),K.removeAllRanges(),_t>ie?(K.addRange(H),K.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),K.addRange(H))}}}}for($=[],K=S;K=K.parentNode;)K.nodeType===1&&$.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<$.length;S++){var X=$[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Lh=!!Zg,tm=Zg=null}finally{Kt=g,st.p=u,Y.T=o}}s.current=r,Le=2}}function t0(){if(Le===2){Le=0;var s=Js,r=bo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var u=st.p;st.p=2;var g=Kt;Kt|=4;try{Cv(s,r.alternate,r)}finally{Kt=g,st.p=u,Y.T=o}}Le=3}}function e0(){if(Le===4||Le===3){Le=0,mu();var s=Js,r=bo,o=ds,u=Hv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Le=5:(Le=0,bo=Js=null,n0(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&($s=null),Xi(o),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Zn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Y.T,g=st.p,st.p=2,Y.T=null;try{for(var p=s.onRecoverableError,b=0;b<u.length;b++){var S=u[b];p(S.value,{componentStack:S.stack})}}finally{Y.T=r,st.p=g}}(ds&3)!==0&&wh(),zi(s),g=s.pendingLanes,(o&261930)!==0&&(g&42)!==0?s===Bg?Jl++:(Jl=0,Bg=s):Jl=0,Zl(0)}}function n0(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Nl(r)))}function wh(){return Zv(),t0(),e0(),i0()}function i0(){if(Le!==5)return!1;var s=Js,r=zg;zg=0;var o=Xi(ds),u=Y.T,g=st.p;try{st.p=32>o?32:o,Y.T=null,o=Ug,Ug=null;var p=Js,b=ds;if(Le=0,bo=Js=null,ds=0,(Kt&6)!==0)throw Error(i(331));var S=Kt;if(Kt|=4,zv(p.current),Vv(p,p.current,b,o),Kt=S,Zl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Zn,p)}catch{}return!0}finally{st.p=g,Y.T=u,n0(s,r)}}function s0(s,r,o){r=zn(o,r),r=_g(s.stateNode,r,2),s=Gs(s,r,2),s!==null&&(Lr(s,2),zi(s))}function Jt(s,r,o){if(s.tag===3)s0(s,s,o);else for(;r!==null;){if(r.tag===3){s0(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($s===null||!$s.has(u))){s=zn(o,s),o=rv(2),u=Gs(r,o,2),u!==null&&(av(o,u,r,s),Lr(u,2),zi(u));break}}r=r.return}}function Fg(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new Qw;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(o)||(Vg=!0,g.add(o),s=Zw.bind(null,s,r,o),r.then(s,s))}function Zw(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,se===s&&(Nt&o)===o&&(pe===4||pe===3&&(Nt&62914560)===Nt&&300>un()-vh?(Kt&2)===0&&Eo(s,0):Pg|=o,vo===Nt&&(vo=0)),zi(s)}function r0(s,r){r===0&&(r=Eu()),s=$r(s,r),s!==null&&(Lr(s,r),zi(s))}function tR(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),r0(s,o)}function eR(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(o=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),r0(s,o)}function nR(s,r){return Pe(s,r)}var Rh=null,So=null,qg=!1,xh=!1,Gg=!1,tr=0;function zi(s){s!==So&&s.next===null&&(So===null?Rh=So=s:So=So.next=s),xh=!0,qg||(qg=!0,sR())}function Zl(s,r){if(!Gg&&xh){Gg=!0;do for(var o=!1,u=Rh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var b=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-ye(42|s)+1)-1,p&=g&~(b&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,c0(u,p))}else p=Nt,p=bi(u,u===se?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ti(u,p)||(o=!0,c0(u,p));u=u.next}while(o);Gg=!1}}function iR(){a0()}function a0(){xh=qg=!1;var s=0;tr!==0&&gR()&&(s=tr);for(var r=un(),o=null,u=Rh;u!==null;){var g=u.next,p=o0(u,r);p===0?(u.next=null,o===null?Rh=g:o.next=g,g===null&&(So=o)):(o=u,(s!==0||(p&3)!==0)&&(xh=!0)),u=g}Le!==0&&Le!==5||Zl(s),tr!==0&&(tr=0)}function o0(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-ye(p),S=1<<b,k=g[b];k===-1?((S&o)===0||(S&u)!==0)&&(g[b]=bd(S,r)):k<=r&&(s.expiredLanes|=S),p&=~S}if(r=se,o=Nt,o=bi(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&($t===2||$t===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Cs(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||ti(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&Cs(u),Xi(o)){case 2:case 8:o=cl;break;case 32:o=Is;break;case 268435456:o=pu;break;default:o=Is}return u=l0.bind(null,s),o=Pe(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&Cs(u),s.callbackPriority=2,s.callbackNode=null,2}function l0(s,r){if(Le!==0&&Le!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(wh()&&s.callbackNode!==o)return null;var u=Nt;return u=bi(s,s===se?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Fv(s,u,r),o0(s,un()),s.callbackNode!=null&&s.callbackNode===o?l0.bind(null,s):null)}function c0(s,r){if(wh())return null;Fv(s,r,!0)}function sR(){pR(function(){(Kt&6)!==0?Pe(ll,iR):a0()})}function Yg(){if(tr===0){var s=oo;s===0&&(s=_i,_i<<=1,(_i&261888)===0&&(_i=256)),tr=s}return tr}function u0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ya(""+s)}function h0(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function rR(s,r,o,u,g){if(r==="submit"&&o&&o.stateNode===g){var p=u0((g[Be]||null).action),b=u.submitter;b&&(r=(r=b[Be]||null)?u0(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var S=new Oi("action","action",null,u,g);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(tr!==0){var k=b?h0(g,b):new FormData(g);fg(o,{pending:!0,data:k,method:g.method,action:p},null,k)}}else typeof p=="function"&&(S.preventDefault(),k=b?h0(g,b):new FormData(g),fg(o,{pending:!0,data:k,method:g.method,action:p},p,k))},currentTarget:g}]})}}for(var Kg=0;Kg<Id.length;Kg++){var Qg=Id[Kg],aR=Qg.toLowerCase(),oR=Qg[0].toUpperCase()+Qg.slice(1);li(aR,"on"+oR)}li(jy,"onAnimationEnd"),li(Fy,"onAnimationIteration"),li(qy,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(Sw,"onTransitionRun"),li(Aw,"onTransitionStart"),li(ww,"onTransitionCancel"),li(Gy,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tc));function f0(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],g=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var b=u.length-1;0<=b;b--){var S=u[b],k=S.instance,F=S.currentTarget;if(S=S.listener,k!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=F;try{p(g)}catch(Q){ju(Q)}g.currentTarget=null,p=k}else for(b=0;b<u.length;b++){if(S=u[b],k=S.instance,F=S.currentTarget,S=S.listener,k!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=F;try{p(g)}catch(Q){ju(Q)}g.currentTarget=null,p=k}}}}function Ot(s,r){var o=r[Ha];o===void 0&&(o=r[Ha]=new Set);var u=s+"__bubble";o.has(u)||(d0(r,s,2,!1),o.add(u))}function Wg(s,r,o){var u=0;r&&(u|=4),d0(o,s,u,r)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function Xg(s){if(!s[Ch]){s[Ch]=!0,fl.forEach(function(o){o!=="selectionchange"&&(lR.has(o)||Wg(o,!1,s),Wg(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Ch]||(r[Ch]=!0,Wg("selectionchange",!1,r))}}function d0(s,r,o,u){switch(j0(r)){case 2:var g=PR;break;case 8:g=LR;break;default:g=hm}o=g.bind(null,r,o,s),g=void 0,!Fr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(r,o,{capture:!0,passive:g}):s.addEventListener(r,o,!0):g!==void 0?s.addEventListener(r,o,{passive:g}):s.addEventListener(r,o,!1)}function $g(s,r,o,u,g){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===g)break;if(b===4)for(b=u.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===g)return;b=b.return}for(;S!==null;){if(b=Ai(S),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){u=p=b;continue t}S=S.parentNode}}u=u.return}Vs(function(){var F=p,Q=kn(o),$=[];t:{var q=Yy.get(s);if(q!==void 0){var K=Oi,ft=s;switch(s){case"keypress":if(Gr(o)===0)break t;case"keydown":case"keyup":K=Uu;break;case"focusin":ft="focus",K=Kr;break;case"focusout":ft="blur",K=Kr;break;case"beforeblur":case"afterblur":K=Kr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=_;break;case jy:case Fy:case qy:K=Mu;break;case Gy:K=w;break;case"scroll":case"scrollend":K=Al;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Zi;break;case"toggle":case"beforetoggle":K=wt}var _t=(r&4)!==0,ie=!_t&&(s==="scroll"||s==="scrollend"),U=_t?q!==null?q+"Capture":null:q;_t=[];for(var z=F,H;z!==null;){var X=z;if(H=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||H===null||U===null||(X=si(z,U),X!=null&&_t.push(ec(z,X,H))),ie)break;z=z.return}0<_t.length&&(q=new K(q,ft,null,o,Q),$.push({event:q,listeners:_t}))}}if((r&7)===0){t:{if(q=s==="mouseover"||s==="pointerover",K=s==="mouseout"||s==="pointerout",q&&o!==El&&(ft=o.relatedTarget||o.fromElement)&&(Ai(ft)||ft[Ti]))break t;if((K||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,K?(ft=o.relatedTarget||o.toElement,K=F,ft=ft?Ai(ft):null,ft!==null&&(ie=l(ft),_t=ft.tag,ft!==ie||_t!==5&&_t!==27&&_t!==6)&&(ft=null)):(K=null,ft=F),K!==ft)){if(_t=wl,X="onMouseLeave",U="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(_t=Zi,X="onPointerLeave",U="onPointerEnter",z="pointer"),ie=K==null?q:Sn(K),H=ft==null?q:Sn(ft),q=new _t(X,z+"leave",K,o,Q),q.target=ie,q.relatedTarget=H,X=null,Ai(Q)===F&&(_t=new _t(U,z+"enter",ft,o,Q),_t.target=H,_t.relatedTarget=ie,X=_t),ie=X,K&&ft)e:{for(_t=cR,U=K,z=ft,H=0,X=U;X;X=_t(X))H++;X=0;for(var mt=z;mt;mt=_t(mt))X++;for(;0<H-X;)U=_t(U),H--;for(;0<X-H;)z=_t(z),X--;for(;H--;){if(U===z||z!==null&&U===z.alternate){_t=U;break e}U=_t(U),z=_t(z)}_t=null}else _t=null;K!==null&&g0($,q,K,_t,!1),ft!==null&&ie!==null&&g0($,ie,ft,_t,!0)}}t:{if(q=F?Sn(F):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var Ft=Oy;else if(Iy(q))if(My)Ft=bw;else{Ft=_w;var dt=yw}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?F&&Ga(F.elementType)&&(Ft=Oy):Ft=vw;if(Ft&&(Ft=Ft(s,F))){Dy($,Ft,o,Q);break t}dt&&dt(s,q,F),s==="focusout"&&F&&q.type==="number"&&F.memoizedProps.value!=null&&_l(q,"number",q.value)}switch(dt=F?Sn(F):window,s){case"focusin":(Iy(dt)||dt.contentEditable==="true")&&(Za=dt,Rd=F,Dl=null);break;case"focusout":Dl=Rd=Za=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,By($,o,Q);break;case"selectionchange":if(Tw)break;case"keydown":case"keyup":By($,o,Q)}var Ct;if(Yt)t:{switch(s){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Ja?Qr(s,o)&&(kt="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(kt="onCompositionStart");kt&&(ki&&o.locale!=="ko"&&(Ja||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Ja&&(Ct=Sl()):(Di=Q,Tl="value"in Di?Di.value:Di.textContent,Ja=!0)),dt=Ih(F,kt),0<dt.length&&(kt=new Ni(kt,s,null,o,Q),$.push({event:kt,listeners:dt}),Ct?kt.data=Ct:(Ct=$a(o),Ct!==null&&(kt.data=Ct)))),(Ct=Pn?dw(s,o):gw(s,o))&&(kt=Ih(F,"onBeforeInput"),0<kt.length&&(dt=new Ni("onBeforeInput","beforeinput",null,o,Q),$.push({event:dt,listeners:kt}),dt.data=Ct)),rR($,s,F,o,Q)}f0($,r)})}function ec(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Ih(s,r){for(var o=r+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=si(s,o),g!=null&&u.unshift(ec(s,g,p)),g=si(s,r),g!=null&&u.push(ec(s,g,p))),s.tag===3)return u;s=s.return}return[]}function cR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function g0(s,r,o,u,g){for(var p=r._reactName,b=[];o!==null&&o!==u;){var S=o,k=S.alternate,F=S.stateNode;if(S=S.tag,k!==null&&k===u)break;S!==5&&S!==26&&S!==27||F===null||(k=F,g?(F=si(o,p),F!=null&&b.unshift(ec(o,F,k))):g||(F=si(o,p),F!=null&&b.push(ec(o,F,k)))),o=o.return}b.length!==0&&s.push({event:r,listeners:b})}var uR=/\r\n?/g,hR=/\u0000|\uFFFD/g;function m0(s){return(typeof s=="string"?s:""+s).replace(uR,`
`).replace(hR,"")}function p0(s,r){return r=m0(r),m0(s)===r}function ne(s,r,o,u,g,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||gn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&gn(s,""+u);break;case"className":An(s,"class",u);break;case"tabIndex":An(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(s,o,u);break;case"style":bl(s,u,p);break;case"data":if(r!=="object"){An(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Ya(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&ne(s,r,"name",g.name,g,null),ne(s,r,"formEncType",g.formEncType,g,null),ne(s,r,"formMethod",g.formMethod,g,null),ne(s,r,"formTarget",g.formTarget,g,null)):(ne(s,r,"encType",g.encType,g,null),ne(s,r,"method",g.method,g,null),ne(s,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Ya(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=ii);break;case"onScroll":u!=null&&Ot("scroll",s);break;case"onScrollEnd":u!=null&&Ot("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=Ya(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":Ot("beforetoggle",s),Ot("toggle",s),Fa(s,"popover",u);break;case"xlinkActuate":xe(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xe(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xe(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xe(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xe(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xe(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xe(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Fa(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Iu.get(o)||o,Fa(s,o,u))}}function Jg(s,r,o,u,g,p){switch(o){case"style":bl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?gn(s,u):(typeof u=="number"||typeof u=="bigint")&&gn(s,""+u);break;case"onScroll":u!=null&&Ot("scroll",s);break;case"onScrollEnd":u!=null&&Ot("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),r=o.slice(2,g?o.length-7:void 0),p=s[Be]||null,p=p!=null?p[o]:null,typeof p=="function"&&s.removeEventListener(r,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,g);break t}o in s?s[o]=u:u===!0?s.setAttribute(o,""):Fa(s,o,u)}}}function $e(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",s),Ot("load",s);var u=!1,g=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ne(s,r,p,b,o,null)}}g&&ne(s,r,"srcSet",o.srcSet,o,null),u&&ne(s,r,"src",o.src,o,null);return;case"input":Ot("invalid",s);var S=p=b=g=null,k=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var Q=o[u];if(Q!=null)switch(u){case"name":g=Q;break;case"type":b=Q;break;case"checked":k=Q;break;case"defaultChecked":F=Q;break;case"value":p=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:ne(s,r,u,Q,o,null)}}Ru(s,p,S,k,F,b,g,!1);return;case"select":Ot("invalid",s),u=b=p=null;for(g in o)if(o.hasOwnProperty(g)&&(S=o[g],S!=null))switch(g){case"value":p=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:ne(s,r,g,S,o,null)}r=p,o=b,s.multiple=!!u,r!=null?Os(s,!!u,r,!1):o!=null&&Os(s,!!u,o,!0);return;case"textarea":Ot("invalid",s),p=g=u=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":g=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ne(s,r,b,S,o,null)}Ms(s,u,g,p);return;case"option":for(k in o)o.hasOwnProperty(k)&&(u=o[k],u!=null)&&(k==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ne(s,r,k,u,o,null));return;case"dialog":Ot("beforetoggle",s),Ot("toggle",s),Ot("cancel",s),Ot("close",s);break;case"iframe":case"object":Ot("load",s);break;case"video":case"audio":for(u=0;u<tc.length;u++)Ot(tc[u],s);break;case"image":Ot("error",s),Ot("load",s);break;case"details":Ot("toggle",s);break;case"embed":case"source":case"link":Ot("error",s),Ot("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ne(s,r,F,u,o,null)}return;default:if(Ga(r)){for(Q in o)o.hasOwnProperty(Q)&&(u=o[Q],u!==void 0&&Jg(s,r,Q,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&ne(s,r,S,u,o,null))}function fR(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,b=null,S=null,k=null,F=null,Q=null;for(K in o){var $=o[K];if(o.hasOwnProperty(K)&&$!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=$;default:u.hasOwnProperty(K)||ne(s,r,K,null,u,$)}}for(var q in u){var K=u[q];if($=o[q],u.hasOwnProperty(q)&&(K!=null||$!=null))switch(q){case"type":p=K;break;case"name":g=K;break;case"checked":F=K;break;case"defaultChecked":Q=K;break;case"value":b=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:K!==$&&ne(s,r,q,K,u,$)}}qa(s,b,S,k,F,Q,p,g);return;case"select":K=b=S=q=null;for(p in o)if(k=o[p],o.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":K=k;default:u.hasOwnProperty(p)||ne(s,r,p,null,u,k)}for(g in u)if(p=u[g],k=o[g],u.hasOwnProperty(g)&&(p!=null||k!=null))switch(g){case"value":q=p;break;case"defaultValue":S=p;break;case"multiple":b=p;default:p!==k&&ne(s,r,g,p,u,k)}r=S,o=b,u=K,q!=null?Os(s,!!o,q,!1):!!u!=!!o&&(r!=null?Os(s,!!o,r,!0):Os(s,!!o,o?[]:"",!1));return;case"textarea":K=q=null;for(S in o)if(g=o[S],o.hasOwnProperty(S)&&g!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ne(s,r,S,null,u,g)}for(b in u)if(g=u[b],p=o[b],u.hasOwnProperty(b)&&(g!=null||p!=null))switch(b){case"value":q=g;break;case"defaultValue":K=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&ne(s,r,b,g,u,p)}xu(s,q,K);return;case"option":for(var ft in o)q=o[ft],o.hasOwnProperty(ft)&&q!=null&&!u.hasOwnProperty(ft)&&(ft==="selected"?s.selected=!1:ne(s,r,ft,null,u,q));for(k in u)q=u[k],K=o[k],u.hasOwnProperty(k)&&q!==K&&(q!=null||K!=null)&&(k==="selected"?s.selected=q&&typeof q!="function"&&typeof q!="symbol":ne(s,r,k,q,u,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in o)q=o[_t],o.hasOwnProperty(_t)&&q!=null&&!u.hasOwnProperty(_t)&&ne(s,r,_t,null,u,q);for(F in u)if(q=u[F],K=o[F],u.hasOwnProperty(F)&&q!==K&&(q!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:ne(s,r,F,q,u,K)}return;default:if(Ga(r)){for(var ie in o)q=o[ie],o.hasOwnProperty(ie)&&q!==void 0&&!u.hasOwnProperty(ie)&&Jg(s,r,ie,void 0,u,q);for(Q in u)q=u[Q],K=o[Q],!u.hasOwnProperty(Q)||q===K||q===void 0&&K===void 0||Jg(s,r,Q,q,u,K);return}}for(var U in o)q=o[U],o.hasOwnProperty(U)&&q!=null&&!u.hasOwnProperty(U)&&ne(s,r,U,null,u,q);for($ in u)q=u[$],K=o[$],!u.hasOwnProperty($)||q===K||q==null&&K==null||ne(s,r,$,q,u,K)}function y0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var g=o[u],p=g.transferSize,b=g.initiatorType,S=g.duration;if(p&&S&&y0(b)){for(b=0,S=g.responseEnd,u+=1;u<o.length;u++){var k=o[u],F=k.startTime;if(F>S)break;var Q=k.transferSize,$=k.initiatorType;Q&&y0($)&&(k=k.responseEnd,b+=Q*(k<S?1:(S-F)/(k-F)))}if(--u,r+=8*(p+b)/(g.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Zg=null,tm=null;function Dh(s){return s.nodeType===9?s:s.ownerDocument}function _0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v0(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function em(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nm=null;function gR(){var s=window.event;return s&&s.type==="popstate"?s===nm?!1:(nm=s,!0):(nm=null,!1)}var b0=typeof setTimeout=="function"?setTimeout:void 0,mR=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,pR=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(s){return E0.resolve(null).then(s).catch(yR)}:b0;function yR(s){setTimeout(function(){throw s})}function er(s){return s==="head"}function T0(s,r){var o=r,u=0;do{var g=o.nextSibling;if(s.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(g),xo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")nc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,nc(o);for(var p=o.firstChild;p;){var b=p.nextSibling,S=p.nodeName;p[Si]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=b}}else o==="body"&&nc(s.ownerDocument.body);o=g}while(o);xo(r)}function S0(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function im(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":im(o),ja(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function _R(s,r,o,u){for(;s.nodeType===1;){var g=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Si])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Fn(s.nextSibling),s===null)break}return null}function vR(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Fn(s.nextSibling),s===null))return null;return s}function A0(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Fn(s.nextSibling),s===null))return null;return s}function sm(s){return s.data==="$?"||s.data==="$~"}function rm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function bR(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Fn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var am=null;function w0(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return Fn(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function R0(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function x0(s,r,o){switch(r=Dh(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function nc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);ja(s)}var qn=new Map,C0=new Set;function Oh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var gs=st.d;st.d={f:ER,r:TR,D:SR,C:AR,L:wR,m:RR,X:CR,S:xR,M:IR};function ER(){var s=gs.f(),r=Th();return s||r}function TR(s){var r=Nn(s);r!==null&&r.tag===5&&r.type==="form"?G_(r):gs.r(s)}var Ao=typeof document>"u"?null:document;function I0(s,r,o){var u=Ao;if(u&&typeof r=="string"&&r){var g=dn(r);g='link[rel="'+s+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),C0.has(g)||(C0.add(g),s={rel:s,crossOrigin:o,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),$e(r,"link",s),Re(r),u.head.appendChild(r)))}}function SR(s){gs.D(s),I0("dns-prefetch",s,null)}function AR(s,r){gs.C(s,r),I0("preconnect",s,r)}function wR(s,r,o){gs.L(s,r,o);var u=Ao;if(u&&s&&r){var g='link[rel="preload"][as="'+dn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+dn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+dn(o.imageSizes)+'"]')):g+='[href="'+dn(s)+'"]';var p=g;switch(r){case"style":p=wo(s);break;case"script":p=Ro(s)}qn.has(p)||(s=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),qn.set(p,s),u.querySelector(g)!==null||r==="style"&&u.querySelector(ic(p))||r==="script"&&u.querySelector(sc(p))||(r=u.createElement("link"),$e(r,"link",s),Re(r),u.head.appendChild(r)))}}function RR(s,r){gs.m(s,r);var o=Ao;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+dn(u)+'"][href="'+dn(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ro(s)}if(!qn.has(p)&&(s=v({rel:"modulepreload",href:s},r),qn.set(p,s),o.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(sc(p)))return}u=o.createElement("link"),$e(u,"link",s),Re(u),o.head.appendChild(u)}}}function xR(s,r,o){gs.S(s,r,o);var u=Ao;if(u&&s){var g=wi(u).hoistableStyles,p=wo(s);r=r||"default";var b=g.get(p);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(ic(p)))S.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},o),(o=qn.get(p))&&om(s,o);var k=b=u.createElement("link");Re(k),$e(k,"link",s),k._p=new Promise(function(F,Q){k.onload=F,k.onerror=Q}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Mh(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:S},g.set(p,b)}}}function CR(s,r){gs.X(s,r);var o=Ao;if(o&&s){var u=wi(o).hoistableScripts,g=Ro(s),p=u.get(g);p||(p=o.querySelector(sc(g)),p||(s=v({src:s,async:!0},r),(r=qn.get(g))&&lm(s,r),p=o.createElement("script"),Re(p),$e(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function IR(s,r){gs.M(s,r);var o=Ao;if(o&&s){var u=wi(o).hoistableScripts,g=Ro(s),p=u.get(g);p||(p=o.querySelector(sc(g)),p||(s=v({src:s,async:!0,type:"module"},r),(r=qn.get(g))&&lm(s,r),p=o.createElement("script"),Re(p),$e(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function D0(s,r,o,u){var g=(g=vt.current)?Oh(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=wo(o.href),o=wi(g).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=wo(o.href);var p=wi(g).hoistableStyles,b=p.get(s);if(b||(g=g.ownerDocument||g,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=g.querySelector(ic(s)))&&!p._p&&(b.instance=p,b.state.loading=5),qn.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},qn.set(s,o),p||DR(g,s,o,b.state))),r&&u===null)throw Error(i(528,""));return b}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ro(o),o=wi(g).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function wo(s){return'href="'+dn(s)+'"'}function ic(s){return'link[rel="stylesheet"]['+s+"]"}function O0(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function DR(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),$e(r,"link",o),Re(r),s.head.appendChild(r))}function Ro(s){return'[src="'+dn(s)+'"]'}function sc(s){return"script[async]"+s}function M0(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+dn(o.href)+'"]');if(u)return r.instance=u,Re(u),u;var g=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Re(u),$e(u,"style",g),Mh(u,o.precedence,s),r.instance=u;case"stylesheet":g=wo(o.href);var p=s.querySelector(ic(g));if(p)return r.state.loading|=4,r.instance=p,Re(p),p;u=O0(o),(g=qn.get(g))&&om(u,g),p=(s.ownerDocument||s).createElement("link"),Re(p);var b=p;return b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),$e(p,"link",u),r.state.loading|=4,Mh(p,o.precedence,s),r.instance=p;case"script":return p=Ro(o.src),(g=s.querySelector(sc(p)))?(r.instance=g,Re(g),g):(u=o,(g=qn.get(p))&&(u=v({},o),lm(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Re(g),$e(g,"link",u),s.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Mh(u,o.precedence,s));return r.instance}function Mh(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===r)p=S;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function om(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function lm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Nh=null;function N0(s,r,o){if(Nh===null){var u=new Map,g=Nh=new Map;g.set(o,u)}else g=Nh,u=g.get(o),u||(u=new Map,g.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),g=0;g<o.length;g++){var p=o[g];if(!(p[Si]||p[we]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=s+b;var S=u.get(b);S?S.push(p):u.set(b,[p])}}return u}function k0(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function OR(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function V0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function MR(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=wo(u.href),p=r.querySelector(ic(g));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=kh.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=p,Re(p);return}p=r.ownerDocument||r,u=O0(u),(g=qn.get(g))&&om(u,g),p=p.createElement("link"),Re(p);var b=p;b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),$e(p,"link",u),o.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=kh.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var cm=0;function NR(s,r){return s.stylesheets&&s.count===0&&Ph(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&Ph(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+r);0<s.imgBytes&&cm===0&&(cm=62500*dR());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Ph(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>cm?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function kh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ph(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Vh=null;function Ph(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Vh=new Map,r.forEach(kR,s),Vh=null,kh.call(s))}function kR(s,r){if(!(r.state.loading&4)){var o=Vh.get(s);if(o)var u=o.get(null);else{o=new Map,Vh.set(s,o);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var b=g[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}g=r.instance,b=g.getAttribute("data-precedence"),p=o.get(b)||u,p===u&&o.set(null,g),o.set(b,g),this.count++,u=kh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),r.state.loading|=4}}var rc={$$typeof:et,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function VR(s,r,o,u,g,p,b,S,k){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function P0(s,r,o,u,g,p,b,S,k,F,Q,$){return s=new VR(s,r,o,b,k,F,Q,$,S),r=1,p===!0&&(r|=24),p=Rn(3,null,null,r),s.current=p,p.stateNode=s,r=jd(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},Yd(p),s}function L0(s){return s?(s=no,s):no}function z0(s,r,o,u,g,p){g=L0(g),u.context===null?u.context=g:u.pendingContext=g,u=qs(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Gs(s,u,r),o!==null&&(vn(o,s,r),Ll(o,s,r))}function U0(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function um(s,r){U0(s,r),(s=s.alternate)&&U0(s,r)}function B0(s){if(s.tag===13||s.tag===31){var r=$r(s,67108864);r!==null&&vn(r,s,67108864),um(s,67108864)}}function H0(s){if(s.tag===13||s.tag===31){var r=On();r=Ur(r);var o=$r(s,r);o!==null&&vn(o,s,r),um(s,r)}}var Lh=!0;function PR(s,r,o,u){var g=Y.T;Y.T=null;var p=st.p;try{st.p=2,hm(s,r,o,u)}finally{st.p=p,Y.T=g}}function LR(s,r,o,u){var g=Y.T;Y.T=null;var p=st.p;try{st.p=8,hm(s,r,o,u)}finally{st.p=p,Y.T=g}}function hm(s,r,o,u){if(Lh){var g=fm(u);if(g===null)$g(s,r,u,zh,o),F0(s,u);else if(UR(g,s,r,o,u))u.stopPropagation();else if(F0(s,u),r&4&&-1<zR.indexOf(s)){for(;g!==null;){var p=Nn(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=vi(p.pendingLanes);if(b!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var k=1<<31-ye(b);S.entanglements[1]|=k,b&=~k}zi(p),(Kt&6)===0&&(bh=un()+500,Zl(0))}}break;case 31:case 13:S=$r(p,2),S!==null&&vn(S,p,2),Th(),um(p,2)}if(p=fm(u),p===null&&$g(s,r,u,zh,o),p===g)break;g=p}g!==null&&u.stopPropagation()}else $g(s,r,u,null,o)}}function fm(s){return s=kn(s),dm(s)}var zh=null;function dm(s){if(zh=null,s=Ai(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return zh=s,null}function j0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vr()){case ll:return 2;case cl:return 8;case Is:case vd:return 32;case pu:return 268435456;default:return 32}default:return 32}}var gm=!1,nr=null,ir=null,sr=null,ac=new Map,oc=new Map,rr=[],zR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(s,r){switch(s){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":ac.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(r.pointerId)}}function lc(s,r,o,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},r!==null&&(r=Nn(r),r!==null&&B0(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),s)}function UR(s,r,o,u,g){switch(r){case"focusin":return nr=lc(nr,s,r,o,u,g),!0;case"dragenter":return ir=lc(ir,s,r,o,u,g),!0;case"mouseover":return sr=lc(sr,s,r,o,u,g),!0;case"pointerover":var p=g.pointerId;return ac.set(p,lc(ac.get(p)||null,s,r,o,u,g)),!0;case"gotpointercapture":return p=g.pointerId,oc.set(p,lc(oc.get(p)||null,s,r,o,u,g)),!0}return!1}function q0(s){var r=Ai(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,ei(s.priority,function(){H0(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,ei(s.priority,function(){H0(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Uh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=fm(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);El=u,o.target.dispatchEvent(u),El=null}else return r=Nn(o),r!==null&&B0(r),s.blockedOn=o,!1;r.shift()}return!0}function G0(s,r,o){Uh(s)&&o.delete(r)}function BR(){gm=!1,nr!==null&&Uh(nr)&&(nr=null),ir!==null&&Uh(ir)&&(ir=null),sr!==null&&Uh(sr)&&(sr=null),ac.forEach(G0),oc.forEach(G0)}function Bh(s,r){s.blockedOn===r&&(s.blockedOn=null,gm||(gm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,BR)))}var Hh=null;function Y0(s){Hh!==s&&(Hh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Hh===s&&(Hh=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],g=s[r+2];if(typeof u!="function"){if(dm(u||o)===null)continue;break}var p=Nn(o);p!==null&&(s.splice(r,3),r-=3,fg(p,{pending:!0,data:g,method:o.method,action:u},u,g))}}))}function xo(s){function r(k){return Bh(k,s)}nr!==null&&Bh(nr,s),ir!==null&&Bh(ir,s),sr!==null&&Bh(sr,s),ac.forEach(r),oc.forEach(r);for(var o=0;o<rr.length;o++){var u=rr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<rr.length&&(o=rr[0],o.blockedOn===null);)q0(o),o.blockedOn===null&&rr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var g=o[u],p=o[u+1],b=g[Be]||null;if(typeof p=="function")b||Y0(o);else if(b){var S=null;if(p&&p.hasAttribute("formAction")){if(g=p,b=p[Be]||null)S=b.formAction;else if(dm(g)!==null)continue}else S=b.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),Y0(o)}}}function K0(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return g=b})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function mm(s){this._internalRoot=s}jh.prototype.render=mm.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=On();z0(o,u,s,r,null,null)},jh.prototype.unmount=mm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;z0(s.current,2,null,s,null,null),Th(),r[Ti]=null}};function jh(s){this._internalRoot=s}jh.prototype.unstable_scheduleHydration=function(s){if(s){var r=Tu();s={blockedOn:null,target:s,priority:r};for(var o=0;o<rr.length&&r!==0&&r<rr[o].priority;o++);rr.splice(o,0,s),o===0&&q0(s)}};var Q0=t.version;if(Q0!=="19.2.4")throw Error(i(527,Q0,"19.2.4"));st.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var HR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{Zn=Fh.inject(HR),Ye=Fh}catch{}}return uc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",g=ev,p=nv,b=iv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=P0(s,1,!1,null,null,o,u,null,g,p,b,K0),s[Ti]=r.current,Xg(s),new mm(r)},uc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,g="",p=ev,b=nv,S=iv,k=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(k=o.formState)),r=P0(s,1,!0,r,o??null,u,g,k,p,b,S,K0),r.context=L0(null),o=r.current,u=On(),u=Ur(u),g=qs(u),g.callback=null,Gs(o,g,u),o=u,r.current.lanes=o,Lr(r,o),zi(r),s[Ti]=r.current,Xg(s),new jh(r)},uc.version="19.2.4",uc}var sb;function JR(){if(sb)return _m.exports;sb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),_m.exports=$R(),_m.exports}var ZR=JR();const tx=WT(ZR),ex=()=>{};var rb={};const XT=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},nx=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],c=n[e++],h=n[e++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const l=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},$T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,h=c?n[a+1]:0,d=a+2<n.length,m=d?n[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let T=(h&15)<<2|m>>6,A=m&63;d||(A=64,c||(T=64)),i.push(e[y],e[v],e[T],e[A])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(XT(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):nx(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const m=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||h==null||m==null||v==null)throw new ix;const T=l<<2|h>>4;if(i.push(T),m!==64){const A=h<<4&240|m>>2;if(i.push(A),v!==64){const D=m<<6&192|v;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ix extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sx=function(n){const t=XT(n);return $T.encodeByteArray(t,!0)},Tf=function(n){return sx(n).replace(/\./g,"")},JT=function(n){try{return $T.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function rx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ax=()=>rx().__FIREBASE_DEFAULTS__,ox=()=>{if(typeof process>"u"||typeof rb>"u")return;const n=rb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&JT(n[1]);return t&&JSON.parse(t)},Wf=()=>{try{return ex()||ax()||ox()||lx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ZT=n=>Wf()?.emulatorHosts?.[n],cx=n=>{const t=ZT(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},tS=()=>Wf()?.config,eS=n=>Wf()?.[`_${n}`];class ux{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Xo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nS(n){return(await fetch(n,{credentials:"include"})).ok}function hx(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Tf(JSON.stringify(e)),Tf(JSON.stringify(c)),""].join(".")}const xc={};function fx(){const n={prod:[],emulator:[]};for(const t of Object.keys(xc))xc[t]?n.emulator.push(t):n.prod.push(t);return n}function dx(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let ab=!1;function iS(n,t){if(typeof window>"u"||typeof document>"u"||!Xo(window.location.host)||xc[n]===t||xc[n]||ab)return;xc[n]=t;function e(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=fx().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{ab=!0,c()},T}function y(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=dx(i),A=e("text"),D=document.getElementById(A)||document.createElement("span"),N=e("learnmore"),I=document.getElementById(N)||document.createElement("a"),j=e("preprendIcon"),tt=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const et=T.element;h(et),y(I,N);const it=m();d(tt,j),et.append(tt,D,I,it),document.body.appendChild(et)}l?(D.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function mx(){const n=Wf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function px(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _x(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vx(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bx(){return!mx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ex(){try{return typeof indexedDB=="object"}catch{return!1}}function Tx(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const Sx="FirebaseError";class xs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=Sx,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?Ax(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new xs(a,h,i)}}function Ax(n,t){return n.replace(wx,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const wx=/\{\$([^}]+)}/g;function Rx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ta(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const l=n[a],c=t[a];if(ob(l)&&ob(c)){if(!Ta(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function ob(n){return n!==null&&typeof n=="object"}function iu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function yc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function _c(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function xx(n,t){const e=new Cx(n,t);return e.subscribe.bind(e)}class Cx{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");Ix(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=Tm),a.error===void 0&&(a.error=Tm),a.complete===void 0&&(a.complete=Tm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ix(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Tm(){}function cn(n){return n&&n._delegate?n._delegate:n}class Sa{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const da="[DEFAULT]";class Dx{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new ux;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Mx(t))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=da){return this.instances.has(t)}getOptions(t=da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Ox(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=da){return this.component?this.component.multipleInstances?t:da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ox(n){return n===da?void 0:n}function Mx(n){return n.instantiationMode==="EAGER"}class Nx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Dx(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Vt||(Vt={}));const kx={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},Vx=Vt.INFO,Px={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},Lx=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=Px[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sp{constructor(t){this.name=t,this._logLevel=Vx,this._logHandler=Lx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const zx=(n,t)=>t.some(e=>n instanceof e);let lb,cb;function Ux(){return lb||(lb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bx(){return cb||(cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sS=new WeakMap,Fm=new WeakMap,rS=new WeakMap,Sm=new WeakMap,Ap=new WeakMap;function Hx(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(pr(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&sS.set(e,n)}).catch(()=>{}),Ap.set(t,n),t}function jx(n){if(Fm.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Fm.set(n,t)}let qm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Fm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||rS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return pr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Fx(n){qm=n(qm)}function qx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Am(this),t,...e);return rS.set(i,t.sort?t.sort():[t]),pr(i)}:Bx().includes(n)?function(...t){return n.apply(Am(this),t),pr(sS.get(this))}:function(...t){return pr(n.apply(Am(this),t))}}function Gx(n){return typeof n=="function"?qx(n):(n instanceof IDBTransaction&&jx(n),zx(n,Ux())?new Proxy(n,qm):n)}function pr(n){if(n instanceof IDBRequest)return Hx(n);if(Sm.has(n))return Sm.get(n);const t=Gx(n);return t!==n&&(Sm.set(n,t),Ap.set(t,n)),t}const Am=n=>Ap.get(n);function Yx(n,t,{blocked:e,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,t),h=pr(c);return i&&c.addEventListener("upgradeneeded",d=>{i(pr(c.result),d.oldVersion,d.newVersion,pr(c.transaction),d)}),e&&c.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const Kx=["get","getKey","getAll","getAllKeys","count"],Qx=["put","add","delete","clear"],wm=new Map;function ub(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(wm.get(t))return wm.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=Qx.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Kx.includes(e)))return;const l=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),a&&d.done]))[0]};return wm.set(t,l),l}Fx(n=>({...n,get:(t,e,i)=>ub(t,e)||n.get(t,e,i),has:(t,e)=>!!ub(t,e)||n.has(t,e)}));class Wx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Xx(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function Xx(n){return n.getComponent()?.type==="VERSION"}const Gm="@firebase/app",hb="0.14.8";const Ss=new Sp("@firebase/app"),$x="@firebase/app-compat",Jx="@firebase/analytics-compat",Zx="@firebase/analytics",tC="@firebase/app-check-compat",eC="@firebase/app-check",nC="@firebase/auth",iC="@firebase/auth-compat",sC="@firebase/database",rC="@firebase/data-connect",aC="@firebase/database-compat",oC="@firebase/functions",lC="@firebase/functions-compat",cC="@firebase/installations",uC="@firebase/installations-compat",hC="@firebase/messaging",fC="@firebase/messaging-compat",dC="@firebase/performance",gC="@firebase/performance-compat",mC="@firebase/remote-config",pC="@firebase/remote-config-compat",yC="@firebase/storage",_C="@firebase/storage-compat",vC="@firebase/firestore",bC="@firebase/ai",EC="@firebase/firestore-compat",TC="firebase",SC="12.9.0";const Ym="[DEFAULT]",AC={[Gm]:"fire-core",[$x]:"fire-core-compat",[Zx]:"fire-analytics",[Jx]:"fire-analytics-compat",[eC]:"fire-app-check",[tC]:"fire-app-check-compat",[nC]:"fire-auth",[iC]:"fire-auth-compat",[sC]:"fire-rtdb",[rC]:"fire-data-connect",[aC]:"fire-rtdb-compat",[oC]:"fire-fn",[lC]:"fire-fn-compat",[cC]:"fire-iid",[uC]:"fire-iid-compat",[hC]:"fire-fcm",[fC]:"fire-fcm-compat",[dC]:"fire-perf",[gC]:"fire-perf-compat",[mC]:"fire-rc",[pC]:"fire-rc-compat",[yC]:"fire-gcs",[_C]:"fire-gcs-compat",[vC]:"fire-fst",[EC]:"fire-fst-compat",[bC]:"fire-vertex","fire-js":"fire-js",[TC]:"fire-js-all"};const Sf=new Map,wC=new Map,Km=new Map;function fb(n,t){try{n.container.addComponent(t)}catch(e){Ss.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ho(n){const t=n.name;if(Km.has(t))return Ss.debug(`There were multiple attempts to register component ${t}.`),!1;Km.set(t,n);for(const e of Sf.values())fb(e,n);for(const e of wC.values())fb(e,n);return!0}function wp(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Yn(n){return n==null?!1:n.settings!==void 0}const RC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new nu("app","Firebase",RC);class xC{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}const $o=SC;function aS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Ym,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw yr.create("bad-app-name",{appName:String(a)});if(e||(e=tS()),!e)throw yr.create("no-options");const l=Sf.get(a);if(l){if(Ta(e,l.options)&&Ta(i,l.config))return l;throw yr.create("duplicate-app",{appName:a})}const c=new Nx(a);for(const d of Km.values())c.addComponent(d);const h=new xC(e,i,c);return Sf.set(a,h),h}function oS(n=Ym){const t=Sf.get(n);if(!t&&n===Ym&&tS())return aS();if(!t)throw yr.create("no-app",{appName:n});return t}function _r(n,t,e){let i=AC[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ss.warn(c.join(" "));return}Ho(new Sa(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const CC="firebase-heartbeat-database",IC=1,Uc="firebase-heartbeat-store";let Rm=null;function lS(){return Rm||(Rm=Yx(CC,IC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Uc)}catch(e){console.warn(e)}}}}).catch(n=>{throw yr.create("idb-open",{originalErrorMessage:n.message})})),Rm}async function DC(n){try{const e=(await lS()).transaction(Uc),i=await e.objectStore(Uc).get(cS(n));return await e.done,i}catch(t){if(t instanceof xs)Ss.warn(t.message);else{const e=yr.create("idb-get",{originalErrorMessage:t?.message});Ss.warn(e.message)}}}async function db(n,t){try{const i=(await lS()).transaction(Uc,"readwrite");await i.objectStore(Uc).put(t,cS(n)),await i.done}catch(e){if(e instanceof xs)Ss.warn(e.message);else{const i=yr.create("idb-set",{originalErrorMessage:e?.message});Ss.warn(i.message)}}}function cS(n){return`${n.name}!${n.options.appId}`}const OC=1024,MC=30;class NC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new VC(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>MC){const a=PC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ss.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gb(),{heartbeatsToSend:e,unsentEntries:i}=kC(this._heartbeatsCache.heartbeats),a=Tf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ss.warn(t),""}}}function gb(){return new Date().toISOString().substring(0,10)}function kC(n,t=OC){const e=[];let i=n.slice();for(const a of n){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),mb(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),mb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class VC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ex()?Tx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await DC(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return db(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return db(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function mb(n){return Tf(JSON.stringify({version:2,heartbeats:n})).length}function PC(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function LC(n){Ho(new Sa("platform-logger",t=>new Wx(t),"PRIVATE")),Ho(new Sa("heartbeat",t=>new NC(t),"PRIVATE")),_r(Gm,hb,n),_r(Gm,hb,"esm2020"),_r("fire-js","")}LC("");function uS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zC=uS,hS=new nu("auth","Firebase",uS());const Af=new Sp("@firebase/auth");function UC(n,...t){Af.logLevel<=Vt.WARN&&Af.warn(`Auth (${$o}): ${n}`,...t)}function uf(n,...t){Af.logLevel<=Vt.ERROR&&Af.error(`Auth (${$o}): ${n}`,...t)}function mi(n,...t){throw Rp(n,...t)}function Fi(n,...t){return Rp(n,...t)}function fS(n,t,e){const i={...zC(),[t]:e};return new nu("auth","Firebase",i).create(t,{appName:n.name})}function Es(n){return fS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return hS.create(n,...t)}function bt(n,t,...e){if(!n)throw Rp(t,...e)}function vs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw uf(t),new Error(t)}function As(n,t){n||vs(t)}function Qm(){return typeof self<"u"&&self.location?.href||""}function BC(){return pb()==="http:"||pb()==="https:"}function pb(){return typeof self<"u"&&self.location?.protocol||null}function HC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BC()||yx()||"connection"in navigator)?navigator.onLine:!0}function jC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class su{constructor(t,e){this.shortDelay=t,this.longDelay=e,As(e>t,"Short delay should be less than long delay!"),this.isMobile=gx()||_x()}get(){return HC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xp(n,t){As(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class dS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const FC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GC=new su(3e4,6e4);function Ir(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Dr(n,t,e,i,a={}){return gS(n,a,async()=>{let l={},c={};i&&(t==="GET"?c=i:l={body:JSON.stringify(i)});const h=iu({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:d,...l};return px()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Xo(n.emulatorConfig.host)&&(m.credentials="include"),dS.fetch()(await mS(n,n.config.apiHost,e,h),m)})}async function gS(n,t,e){n._canInitEmulator=!1;const i={...FC,...t};try{const a=new KC(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw qh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw qh(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw qh(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw qh(n,"user-disabled",c);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw fS(n,y,m);mi(n,y)}}catch(a){if(a instanceof xs)throw a;mi(n,"network-request-failed",{message:String(a)})}}async function ru(n,t,e,i,a={}){const l=await Dr(n,t,e,i,a);return"mfaPendingCredential"in l&&mi(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function mS(n,t,e,i){const a=`${t}${e}?${i}`,l=n,c=l.config.emulator?xp(n.config,a):`${n.config.apiScheme}://${a}`;return qC.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function YC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Fi(this.auth,"network-request-failed")),GC.get())})}}function qh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=Fi(n,t,i);return a.customData._tokenResponse=e,a}function yb(n){return n!==void 0&&n.enterprise!==void 0}class QC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return YC(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WC(n,t){return Dr(n,"GET","/v2/recaptchaConfig",Ir(n,t))}async function XC(n,t){return Dr(n,"POST","/v1/accounts:delete",t)}async function wf(n,t){return Dr(n,"POST","/v1/accounts:lookup",t)}function Cc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $C(n,t=!1){const e=cn(n),i=await e.getIdToken(t),a=Cp(i);bt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Cc(xm(a.auth_time)),issuedAtTime:Cc(xm(a.iat)),expirationTime:Cc(xm(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function xm(n){return Number(n)*1e3}function Cp(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return uf("JWT malformed, contained fewer than 3 sections"),null;try{const a=JT(e);return a?JSON.parse(a):(uf("Failed to decode base64 JWT payload"),null)}catch(a){return uf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function _b(n){const t=Cp(n);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof xs&&JC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function JC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class ZC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wm{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rf(n){const t=n.auth,e=await n.getIdToken(),i=await Bc(n,wf(t,{idToken:e}));bt(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?pS(a.providerUserInfo):[],c=eI(n.providerData,l),h=n.isAnonymous,d=!(n.email&&a.passwordHash)&&!c?.length,m=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Wm(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function tI(n){const t=cn(n);await Rf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eI(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function pS(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function nI(n,t){const e=await gS(n,{},async()=>{const i=iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await mS(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&Xo(n.emulatorConfig.host)&&(d.credentials="include"),dS.fetch()(c,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function iI(n,t){return Dr(n,"POST","/v2/accounts:revokeToken",Ir(n,t))}class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_b(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const e=_b(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:l}=await nI(t,e);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:l}=e,c=new ko;return i&&(bt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(bt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(bt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return vs("not implemented")}}function or(n,t){bt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new ZC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Wm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Bc(this,this.stsTokenManager.getToken(this.auth,t));return bt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return $C(this,t)}reload(){return tI(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Rf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Es(this.auth));const t=await this.getIdToken();return await Bc(this,XC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,l=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,d=e._redirectEventId??void 0,m=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:A,providerData:D,stsTokenManager:N}=e;bt(v&&N,t,"internal-error");const I=ko.fromJSON(this.name,N);bt(typeof v=="string",t,"internal-error"),or(i,t.name),or(a,t.name),bt(typeof T=="boolean",t,"internal-error"),bt(typeof A=="boolean",t,"internal-error"),or(l,t.name),or(c,t.name),or(h,t.name),or(d,t.name),or(m,t.name),or(y,t.name);const j=new hi({uid:v,auth:t,email:a,emailVerified:T,displayName:i,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:I,createdAt:m,lastLoginAt:y});return D&&Array.isArray(D)&&(j.providerData=D.map(tt=>({...tt}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(t,e,i=!1){const a=new ko;a.updateFromServerResponse(e);const l=new hi({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await Rf(l),l}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];bt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?pS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new ko;h.updateFromIdToken(i);const d=new hi({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Wm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,m),d}}const vb=new Map;function bs(n){As(n instanceof Function,"Expected a class definition");let t=vb.get(n);return t?(As(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,vb.set(n,t),t)}class yS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}yS.type="NONE";const bb=yS;function hf(n,t,e){return`firebase:${n}:${t}:${e}`}class Vo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=hf(this.userKey,a.apiKey,l),this.fullPersistenceKey=hf("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await wf(this.auth,{idToken:t}).catch(()=>{});return e?hi._fromGetAccountInfoResponse(this.auth,e,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Vo(bs(bb),t,i);const a=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||bs(bb);const c=hf(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const y=await m._get(c);if(y){let v;if(typeof y=="string"){const T=await wf(t,{idToken:y}).catch(()=>{});if(!T)break;v=await hi._fromGetAccountInfoResponse(t,T,y)}else v=hi._fromJSON(t,y);m!==l&&(h=v),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Vo(l,t,i):(l=d[0],h&&await l._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Vo(l,t,i))}}function Eb(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ES(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_S(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(SS(t))return"Blackberry";if(AS(t))return"Webos";if(vS(t))return"Safari";if((t.includes("chrome/")||bS(t))&&!t.includes("edge/"))return"Chrome";if(TS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function _S(n=ln()){return/firefox\//i.test(n)}function vS(n=ln()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bS(n=ln()){return/crios\//i.test(n)}function ES(n=ln()){return/iemobile/i.test(n)}function TS(n=ln()){return/android/i.test(n)}function SS(n=ln()){return/blackberry/i.test(n)}function AS(n=ln()){return/webos/i.test(n)}function Ip(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sI(n=ln()){return Ip(n)&&!!window.navigator?.standalone}function rI(){return vx()&&document.documentMode===10}function wS(n=ln()){return Ip(n)||TS(n)||AS(n)||SS(n)||/windows phone/i.test(n)||ES(n)}function RS(n,t=[]){let e;switch(n){case"Browser":e=Eb(ln());break;case"Worker":e=`${Eb(ln())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${$o}/${i}`}class aI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=l=>new Promise((c,h)=>{try{const d=t(l);c(d)}catch(d){h(d)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function oI(n,t={}){return Dr(n,"GET","/v2/passwordPolicy",Ir(n,t))}const lI=6;class cI{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??lI,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class uI{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tb(this),this.idTokenSubscription=new Tb(this),this.beforeStateQueue=new aI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=bs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await wf(this,{idToken:t}),i=await hi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Rf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=jC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Es(this));const e=t?cn(t):null;return e&&bt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await oI(this),e=new cI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await iI(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&bs(t)||this._popupRedirectResolver;bt(e,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[bs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,a);return()=>{c=!0,d()}}else{const d=t.addObserver(e);return()=>{c=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=RS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&UC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Da(n){return cn(n)}class Tb{constructor(t){this.auth=t,this.observer=null,this.addObserver=xx(e=>this.observer=e)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hI(n){Xf=n}function xS(n){return Xf.loadJS(n)}function fI(){return Xf.recaptchaEnterpriseScript}function dI(){return Xf.gapiScript}function gI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class mI{constructor(){this.enterprise=new pI}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class pI{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const yI="recaptcha-enterprise",CS="NO_RECAPTCHA";class _I{constructor(t){this.type=yI,this.auth=Da(t)}async verify(t="verify",e=!1){async function i(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{WC(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new QC(d);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(d=>{h(d)})})}function a(l,c,h){const d=window.grecaptcha;yb(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:t}).then(m=>{c(m)}).catch(()=>{c(CS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mI().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(h=>{if(!e&&yb(window.grecaptcha))a(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=fI();d.length!==0&&(d+=h),xS(d).then(()=>{a(h,l,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function Sb(n,t,e,i=!1,a=!1){const l=new _I(n);let c;if(a)c=CS;else try{c=await l.verify(e)}catch{c=await l.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Xm(n,t,e,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Sb(n,t,e,e==="getOobCode");return i(n,l)}else return i(n,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Sb(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(l)})}function vI(n,t){const e=wp(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(Ta(l,t??{}))return a;mi(a,"already-initialized")}return e.initialize({options:t})}function bI(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(bs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function EI(n,t,e){const i=Da(n);bt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,l=IS(t),{host:c,port:h}=TI(t),d=h===null?"":`:${h}`,m={url:`${l}//${c}${d}/`},y=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){bt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),bt(Ta(m,i.config.emulator)&&Ta(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Xo(c)?(nS(`${l}//${c}${d}`),iS("Auth",!0)):SI()}function IS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function TI(n){const t=IS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Ab(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Ab(c)}}}function Ab(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function SI(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Dp{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return vs("not implemented")}_getIdTokenResponse(t){return vs("not implemented")}_linkToIdToken(t,e){return vs("not implemented")}_getReauthenticationResolver(t){return vs("not implemented")}}async function AI(n,t){return Dr(n,"POST","/v1/accounts:signUp",t)}async function wI(n,t){return ru(n,"POST","/v1/accounts:signInWithPassword",Ir(n,t))}async function RI(n,t){return ru(n,"POST","/v1/accounts:signInWithEmailLink",Ir(n,t))}async function xI(n,t){return ru(n,"POST","/v1/accounts:signInWithEmailLink",Ir(n,t))}class Hc extends Dp{constructor(t,e,i,a=null){super("password",i),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new Hc(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Hc(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(t,e,"signInWithPassword",wI);case"emailLink":return RI(t,{email:this._email,oobCode:this._password});default:mi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(t,i,"signUpPassword",AI);case"emailLink":return xI(t,{idToken:e,email:this._email,oobCode:this._password});default:mi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Po(n,t){return ru(n,"POST","/v1/accounts:signInWithIdp",Ir(n,t))}const CI="http://localhost";class Aa extends Dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Aa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):mi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...l}=e;if(!i||!a)return null;const c=new Aa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Po(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Po(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Po(t,e)}buildRequest(){const t={requestUri:CI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=iu(e)}return t}}function II(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DI(n){const t=yc(_c(n)).link,e=t?yc(_c(t)).deep_link_id:null,i=yc(_c(n)).deep_link_id;return(i?yc(_c(i)).link:null)||i||e||t||n}class Op{constructor(t){const e=yc(_c(t)),i=e.apiKey??null,a=e.oobCode??null,l=II(e.mode??null);bt(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=DI(t);try{return new Op(e)}catch{return null}}}class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(t,e){return Hc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Op.parseLink(e);return bt(i,"argument-error"),Hc._fromEmailAndCode(t,i.code,i.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class DS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class au extends DS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class cr extends au{constructor(){super("facebook.com")}static credential(t){return Aa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cr.credential(t.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";class ur extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Aa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return ur.credential(e,i)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";class hr extends au{constructor(){super("github.com")}static credential(t){return Aa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hr.credential(t.oauthAccessToken)}catch{return null}}}hr.GITHUB_SIGN_IN_METHOD="github.com";hr.PROVIDER_ID="github.com";class fr extends au{constructor(){super("twitter.com")}static credential(t,e){return Aa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return fr.credential(e,i)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";async function OI(n,t){return ru(n,"POST","/v1/accounts:signUp",Ir(n,t))}class wa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const l=await hi._fromIdTokenResponse(t,i,a),c=wb(i);return new wa({user:l,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=wb(i);return new wa({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function wb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class xf extends xs{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,xf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new xf(t,e,i,a)}}function OS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?xf._fromErrorAndOperation(n,l,t,i):l})}async function MI(n,t,e=!1){const i=await Bc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return wa._forOperation(n,"link",i)}async function NI(n,t,e=!1){const{auth:i}=n;if(Yn(i.app))return Promise.reject(Es(i));const a="reauthenticate";try{const l=await Bc(n,OS(i,a,t,n),e);bt(l.idToken,i,"internal-error");const c=Cp(l.idToken);bt(c,i,"internal-error");const{sub:h}=c;return bt(n.uid===h,i,"user-mismatch"),wa._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&mi(i,"user-mismatch"),l}}async function MS(n,t,e=!1){if(Yn(n.app))return Promise.reject(Es(n));const i="signIn",a=await OS(n,i,t),l=await wa._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(l.user),l}async function kI(n,t){return MS(Da(n),t)}async function NS(n){const t=Da(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function VI(n,t,e){if(Yn(n.app))return Promise.reject(Es(n));const i=Da(n),c=await Xm(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OI).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&NS(n),d}),h=await wa._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function PI(n,t,e){return Yn(n.app)?Promise.reject(Es(n)):kI(cn(n),Jo.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&NS(n),i})}function LI(n,t,e,i){return cn(n).onIdTokenChanged(t,e,i)}function zI(n,t,e){return cn(n).beforeAuthStateChanged(t,e)}function UI(n,t,e,i){return cn(n).onAuthStateChanged(t,e,i)}function BI(n){return cn(n).signOut()}const Cf="__sak";class kS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Cf,"1"),this.storage.removeItem(Cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const HI=1e3,jI=10;class VS extends kS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);rI()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,jI):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},HI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}VS.type="LOCAL";const FI=VS;class PS extends kS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}PS.type="SESSION";const LS=PS;function qI(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class $f{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new $f(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:l}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async m=>m(e.origin,l)),d=await qI(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$f.receivers=[];function Mp(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class GI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,d)=>{const m=Mp("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function qi(){return window}function YI(n){qi().location.href=n}function zS(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function KI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QI(){return navigator?.serviceWorker?.controller||null}function WI(){return zS()?self:null}const US="firebaseLocalStorageDb",XI=1,If="firebaseLocalStorage",BS="fbase_key";class ou{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Jf(n,t){return n.transaction([If],t?"readwrite":"readonly").objectStore(If)}function $I(){const n=indexedDB.deleteDatabase(US);return new ou(n).toPromise()}function $m(){const n=indexedDB.open(US,XI);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(If,{keyPath:BS})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(If)?t(i):(i.close(),await $I(),t(await $m()))})})}async function Rb(n,t,e){const i=Jf(n,!0).put({[BS]:t,value:e});return new ou(i).toPromise()}async function JI(n,t){const e=Jf(n,!1).get(t),i=await new ou(e).toPromise();return i===void 0?null:i.value}function xb(n,t){const e=Jf(n,!0).delete(t);return new ou(e).toPromise()}const ZI=800,t2=3;class HS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $m(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>t2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$f._getInstance(WI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KI(),!this.activeServiceWorker)return;this.sender=new GI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $m();return await Rb(t,Cf,"1"),await xb(t,Cf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Rb(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>JI(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>xb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Jf(a,!1).getAll();return new ou(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HS.type="LOCAL";const e2=HS;new su(3e4,6e4);function n2(n,t){return t?bs(t):(bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Np extends Dp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Po(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Po(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Po(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function i2(n){return MS(n.auth,new Np(n),n.bypassAuthState)}function s2(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),NI(e,new Np(n),n.bypassAuthState)}async function r2(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),MI(e,new Np(n),n.bypassAuthState)}class jS{constructor(t,e,i,a,l=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=t;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return i2;case"linkViaPopup":case"linkViaRedirect":return r2;case"reauthViaPopup":case"reauthViaRedirect":return s2;default:mi(this.auth,"internal-error")}}resolve(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const a2=new su(2e3,1e4);class No extends jS{constructor(t,e,i,a,l){super(t,e,a,l),this.provider=i,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const t=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,a2.get())};t()}}No.currentPopupAction=null;const o2="pendingRedirect",ff=new Map;class l2 extends jS{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=ff.get(this.auth._key());if(!t){try{const i=await c2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}ff.set(this.auth._key(),t)}return this.bypassAuthState||ff.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c2(n,t){const e=f2(t),i=h2(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function u2(n,t){ff.set(n._key(),t)}function h2(n){return bs(n._redirectPersistence)}function f2(n){return hf(o2,n.config.apiKey,n.name)}async function d2(n,t,e=!1){if(Yn(n.app))return Promise.reject(Es(n));const i=Da(n),a=n2(i,t),c=await new l2(i,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}const g2=600*1e3;class m2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!p2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!FS(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Fi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=g2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cb(t))}saveEventToCache(t){this.cachedEventUids.add(Cb(t)),this.lastProcessedEventTime=Date.now()}}function Cb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function FS({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function p2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FS(n);default:return!1}}async function y2(n,t={}){return Dr(n,"GET","/v1/projects",t)}const _2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v2=/^https?/;async function b2(n){if(n.config.emulator)return;const{authorizedDomains:t}=await y2(n);for(const e of t)try{if(E2(e))return}catch{}mi(n,"unauthorized-domain")}function E2(n){const t=Qm(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!v2.test(e))return!1;if(_2.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const T2=new su(3e4,6e4);function Ib(){const n=qi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function S2(n){return new Promise((t,e)=>{function i(){Ib(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ib(),e(Fi(n,"network-request-failed"))},timeout:T2.get()})}if(qi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(qi().gapi?.load)i();else{const a=gI("iframefcb");return qi()[a]=()=>{gapi.load?i():e(Fi(n,"network-request-failed"))},xS(`${dI()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw df=null,t})}let df=null;function A2(n){return df=df||S2(n),df}const w2=new su(5e3,15e3),R2="__/auth/iframe",x2="emulator/auth/iframe",C2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D2(n){const t=n.config;bt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?xp(t,x2):`https://${n.config.authDomain}/${R2}`,i={apiKey:t.apiKey,appName:n.name,v:$o},a=I2.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${e}?${iu(i).slice(1)}`}async function O2(n){const t=await A2(n),e=qi().gapi;return bt(e,n,"internal-error"),t.open({where:document.body,url:D2(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C2,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Fi(n,"network-request-failed"),h=qi().setTimeout(()=>{l(c)},w2.get());function d(){qi().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{l(c)})}))}const M2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N2=500,k2=600,V2="_blank",P2="http://localhost";class Db{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L2(n,t,e,i=N2,a=k2){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...M2,width:i.toString(),height:a.toString(),top:l,left:c},m=ln().toLowerCase();e&&(h=bS(m)?V2:e),_S(m)&&(t=t||P2,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[A,D])=>`${T}${A}=${D},`,"");if(sI(m)&&h!=="_self")return z2(t||"",h),new Db(null);const v=window.open(t||"",h,y);bt(v,n,"popup-blocked");try{v.focus()}catch{}return new Db(v)}function z2(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const U2="__/auth/handler",B2="emulator/auth/handler",H2=encodeURIComponent("fac");async function Ob(n,t,e,i,a,l){bt(n.config.authDomain,n,"auth-domain-config-required"),bt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:$o,eventId:a};if(t instanceof DS){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",Rx(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(t instanceof au){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),m=d?`#${H2}=${encodeURIComponent(d)}`:"";return`${j2(n)}?${iu(h).slice(1)}${m}`}function j2({config:n}){return n.emulator?xp(n,B2):`https://${n.authDomain}/${U2}`}const Cm="webStorageSupport";class F2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LS,this._completeRedirectFn=d2,this._overrideRedirectResult=u2}async _openPopup(t,e,i,a){As(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Ob(t,e,i,Qm(),a);return L2(t,l,Mp())}async _openRedirect(t,e,i,a){await this._originValidation(t);const l=await Ob(t,e,i,Qm(),a);return YI(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(As(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await O2(t),i=new m2(t);return e.register("authEvent",a=>(bt(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Cm,{type:Cm},a=>{const l=a?.[0]?.[Cm];l!==void 0&&e(!!l),mi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=b2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return wS()||vS()||Ip()}}const q2=F2;var Mb="@firebase/auth",Nb="1.12.0";class G2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Y2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K2(n){Ho(new Sa("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RS(n)},m=new uI(i,a,l,d);return bI(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ho(new Sa("auth-internal",t=>{const e=Da(t.getProvider("auth").getImmediate());return(i=>new G2(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(Mb,Nb,Y2(n)),_r(Mb,Nb,"esm2020")}const Q2=300,W2=eS("authIdTokenMaxAge")||Q2;let kb=null;const X2=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>W2)return;const a=e?.token;kb!==a&&(kb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function $2(n=oS()){const t=wp(n,"auth");if(t.isInitialized())return t.getImmediate();const e=vI(n,{popupRedirectResolver:q2,persistence:[e2,FI,LS]}),i=eS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=X2(l.toString());zI(e,c,()=>c(e.currentUser)),LI(e,h=>c(h))}}const a=ZT("auth");return a&&EI(e,`http://${a}`),e}function J2(){return document.getElementsByTagName("head")?.[0]??document}hI({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const l=Fi("internal-error");l.customData=a,e(l)},i.type="text/javascript",i.charset="UTF-8",J2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K2("Browser");var Z2="firebase",tD="12.9.0";_r(Z2,tD,"app");var Vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vr,qS;(function(){var n;function t(x,R){function C(){}C.prototype=R.prototype,x.F=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(V,M,P){for(var O=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)O[zt-2]=arguments[zt];return R.prototype[M].apply(V,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,R,C){C||(C=0);const V=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)V[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;M<16;++M)V[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],M=x.g[2];let P=x.g[3],O;O=R+(P^C&(M^P))+V[0]+3614090360&4294967295,R=C+(O<<7&4294967295|O>>>25),O=P+(M^R&(C^M))+V[1]+3905402710&4294967295,P=R+(O<<12&4294967295|O>>>20),O=M+(C^P&(R^C))+V[2]+606105819&4294967295,M=P+(O<<17&4294967295|O>>>15),O=C+(R^M&(P^R))+V[3]+3250441966&4294967295,C=M+(O<<22&4294967295|O>>>10),O=R+(P^C&(M^P))+V[4]+4118548399&4294967295,R=C+(O<<7&4294967295|O>>>25),O=P+(M^R&(C^M))+V[5]+1200080426&4294967295,P=R+(O<<12&4294967295|O>>>20),O=M+(C^P&(R^C))+V[6]+2821735955&4294967295,M=P+(O<<17&4294967295|O>>>15),O=C+(R^M&(P^R))+V[7]+4249261313&4294967295,C=M+(O<<22&4294967295|O>>>10),O=R+(P^C&(M^P))+V[8]+1770035416&4294967295,R=C+(O<<7&4294967295|O>>>25),O=P+(M^R&(C^M))+V[9]+2336552879&4294967295,P=R+(O<<12&4294967295|O>>>20),O=M+(C^P&(R^C))+V[10]+4294925233&4294967295,M=P+(O<<17&4294967295|O>>>15),O=C+(R^M&(P^R))+V[11]+2304563134&4294967295,C=M+(O<<22&4294967295|O>>>10),O=R+(P^C&(M^P))+V[12]+1804603682&4294967295,R=C+(O<<7&4294967295|O>>>25),O=P+(M^R&(C^M))+V[13]+4254626195&4294967295,P=R+(O<<12&4294967295|O>>>20),O=M+(C^P&(R^C))+V[14]+2792965006&4294967295,M=P+(O<<17&4294967295|O>>>15),O=C+(R^M&(P^R))+V[15]+1236535329&4294967295,C=M+(O<<22&4294967295|O>>>10),O=R+(M^P&(C^M))+V[1]+4129170786&4294967295,R=C+(O<<5&4294967295|O>>>27),O=P+(C^M&(R^C))+V[6]+3225465664&4294967295,P=R+(O<<9&4294967295|O>>>23),O=M+(R^C&(P^R))+V[11]+643717713&4294967295,M=P+(O<<14&4294967295|O>>>18),O=C+(P^R&(M^P))+V[0]+3921069994&4294967295,C=M+(O<<20&4294967295|O>>>12),O=R+(M^P&(C^M))+V[5]+3593408605&4294967295,R=C+(O<<5&4294967295|O>>>27),O=P+(C^M&(R^C))+V[10]+38016083&4294967295,P=R+(O<<9&4294967295|O>>>23),O=M+(R^C&(P^R))+V[15]+3634488961&4294967295,M=P+(O<<14&4294967295|O>>>18),O=C+(P^R&(M^P))+V[4]+3889429448&4294967295,C=M+(O<<20&4294967295|O>>>12),O=R+(M^P&(C^M))+V[9]+568446438&4294967295,R=C+(O<<5&4294967295|O>>>27),O=P+(C^M&(R^C))+V[14]+3275163606&4294967295,P=R+(O<<9&4294967295|O>>>23),O=M+(R^C&(P^R))+V[3]+4107603335&4294967295,M=P+(O<<14&4294967295|O>>>18),O=C+(P^R&(M^P))+V[8]+1163531501&4294967295,C=M+(O<<20&4294967295|O>>>12),O=R+(M^P&(C^M))+V[13]+2850285829&4294967295,R=C+(O<<5&4294967295|O>>>27),O=P+(C^M&(R^C))+V[2]+4243563512&4294967295,P=R+(O<<9&4294967295|O>>>23),O=M+(R^C&(P^R))+V[7]+1735328473&4294967295,M=P+(O<<14&4294967295|O>>>18),O=C+(P^R&(M^P))+V[12]+2368359562&4294967295,C=M+(O<<20&4294967295|O>>>12),O=R+(C^M^P)+V[5]+4294588738&4294967295,R=C+(O<<4&4294967295|O>>>28),O=P+(R^C^M)+V[8]+2272392833&4294967295,P=R+(O<<11&4294967295|O>>>21),O=M+(P^R^C)+V[11]+1839030562&4294967295,M=P+(O<<16&4294967295|O>>>16),O=C+(M^P^R)+V[14]+4259657740&4294967295,C=M+(O<<23&4294967295|O>>>9),O=R+(C^M^P)+V[1]+2763975236&4294967295,R=C+(O<<4&4294967295|O>>>28),O=P+(R^C^M)+V[4]+1272893353&4294967295,P=R+(O<<11&4294967295|O>>>21),O=M+(P^R^C)+V[7]+4139469664&4294967295,M=P+(O<<16&4294967295|O>>>16),O=C+(M^P^R)+V[10]+3200236656&4294967295,C=M+(O<<23&4294967295|O>>>9),O=R+(C^M^P)+V[13]+681279174&4294967295,R=C+(O<<4&4294967295|O>>>28),O=P+(R^C^M)+V[0]+3936430074&4294967295,P=R+(O<<11&4294967295|O>>>21),O=M+(P^R^C)+V[3]+3572445317&4294967295,M=P+(O<<16&4294967295|O>>>16),O=C+(M^P^R)+V[6]+76029189&4294967295,C=M+(O<<23&4294967295|O>>>9),O=R+(C^M^P)+V[9]+3654602809&4294967295,R=C+(O<<4&4294967295|O>>>28),O=P+(R^C^M)+V[12]+3873151461&4294967295,P=R+(O<<11&4294967295|O>>>21),O=M+(P^R^C)+V[15]+530742520&4294967295,M=P+(O<<16&4294967295|O>>>16),O=C+(M^P^R)+V[2]+3299628645&4294967295,C=M+(O<<23&4294967295|O>>>9),O=R+(M^(C|~P))+V[0]+4096336452&4294967295,R=C+(O<<6&4294967295|O>>>26),O=P+(C^(R|~M))+V[7]+1126891415&4294967295,P=R+(O<<10&4294967295|O>>>22),O=M+(R^(P|~C))+V[14]+2878612391&4294967295,M=P+(O<<15&4294967295|O>>>17),O=C+(P^(M|~R))+V[5]+4237533241&4294967295,C=M+(O<<21&4294967295|O>>>11),O=R+(M^(C|~P))+V[12]+1700485571&4294967295,R=C+(O<<6&4294967295|O>>>26),O=P+(C^(R|~M))+V[3]+2399980690&4294967295,P=R+(O<<10&4294967295|O>>>22),O=M+(R^(P|~C))+V[10]+4293915773&4294967295,M=P+(O<<15&4294967295|O>>>17),O=C+(P^(M|~R))+V[1]+2240044497&4294967295,C=M+(O<<21&4294967295|O>>>11),O=R+(M^(C|~P))+V[8]+1873313359&4294967295,R=C+(O<<6&4294967295|O>>>26),O=P+(C^(R|~M))+V[15]+4264355552&4294967295,P=R+(O<<10&4294967295|O>>>22),O=M+(R^(P|~C))+V[6]+2734768916&4294967295,M=P+(O<<15&4294967295|O>>>17),O=C+(P^(M|~R))+V[13]+1309151649&4294967295,C=M+(O<<21&4294967295|O>>>11),O=R+(M^(C|~P))+V[4]+4149444226&4294967295,R=C+(O<<6&4294967295|O>>>26),O=P+(C^(R|~M))+V[11]+3174756917&4294967295,P=R+(O<<10&4294967295|O>>>22),O=M+(R^(P|~C))+V[2]+718787259&4294967295,M=P+(O<<15&4294967295|O>>>17),O=C+(P^(M|~R))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+P&4294967295}i.prototype.v=function(x,R){R===void 0&&(R=x.length);const C=R-this.blockSize,V=this.C;let M=this.h,P=0;for(;P<R;){if(M==0)for(;P<=C;)a(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<R;)if(V[M++]=x.charCodeAt(P++),M==this.blockSize){a(this,V),M=0;break}}else for(;P<R;)if(V[M++]=x[P++],M==this.blockSize){a(this,V),M=0;break}}this.h=M,this.o+=R},i.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)x[R++]=this.g[C]>>>V&255;return x};function l(x,R){var C=h;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function c(x,R){this.h=R;const C=[];let V=!0;for(let M=x.length-1;M>=0;M--){const P=x[M]|0;V&&P==R||(C[M]=P,V=!1)}this.g=C}var h={};function d(x){return-128<=x&&x<128?l(x,function(R){return new c([R|0],R<0?-1:0)}):new c([x|0],x<0?-1:0)}function m(x){if(isNaN(x)||!isFinite(x))return v;if(x<0)return I(m(-x));const R=[];let C=1;for(let V=0;x>=C;V++)R[V]=x/C|0,C*=4294967296;return new c(R,0)}function y(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return I(y(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(R,8));let V=v;for(let P=0;P<x.length;P+=8){var M=Math.min(8,x.length-P);const O=parseInt(x.substring(P,P+M),R);M<8?(M=m(Math.pow(R,M)),V=V.j(M).add(m(O))):(V=V.j(C),V=V.add(m(O)))}return V}var v=d(0),T=d(1),A=d(16777216);n=c.prototype,n.m=function(){if(N(this))return-I(this).m();let x=0,R=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);x+=(V>=0?V:4294967296+V)*R,R*=4294967296}return x},n.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D(this))return"0";if(N(this))return"-"+I(this).toString(x);const R=m(Math.pow(x,6));var C=this;let V="";for(;;){const M=it(C,R).g;C=j(C,M.j(R));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=M,D(C))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},n.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function D(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function N(x){return x.h==-1}n.l=function(x){return x=j(this,x),N(x)?-1:D(x)?0:1};function I(x){const R=x.g.length,C=[];for(let V=0;V<R;V++)C[V]=~x.g[V];return new c(C,~x.h).add(T)}n.abs=function(){return N(this)?I(this):this},n.add=function(x){const R=Math.max(this.g.length,x.g.length),C=[];let V=0;for(let M=0;M<=R;M++){let P=V+(this.i(M)&65535)+(x.i(M)&65535),O=(P>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);V=O>>>16,P&=65535,O&=65535,C[M]=O<<16|P}return new c(C,C[C.length-1]&-2147483648?-1:0)};function j(x,R){return x.add(I(R))}n.j=function(x){if(D(this)||D(x))return v;if(N(this))return N(x)?I(this).j(I(x)):I(I(this).j(x));if(N(x))return I(this.j(I(x)));if(this.l(A)<0&&x.l(A)<0)return m(this.m()*x.m());const R=this.g.length+x.g.length,C=[];for(var V=0;V<2*R;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<x.g.length;M++){const P=this.i(V)>>>16,O=this.i(V)&65535,zt=x.i(M)>>>16,xt=x.i(M)&65535;C[2*V+2*M]+=O*xt,tt(C,2*V+2*M),C[2*V+2*M+1]+=P*xt,tt(C,2*V+2*M+1),C[2*V+2*M+1]+=O*zt,tt(C,2*V+2*M+1),C[2*V+2*M+2]+=P*zt,tt(C,2*V+2*M+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new c(C,0)};function tt(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function et(x,R){this.g=x,this.h=R}function it(x,R){if(D(R))throw Error("division by zero");if(D(x))return new et(v,v);if(N(x))return R=it(I(x),R),new et(I(R.g),I(R.h));if(N(R))return R=it(x,I(R)),new et(I(R.g),R.h);if(x.g.length>30){if(N(x)||N(R))throw Error("slowDivide_ only works with positive integers.");for(var C=T,V=R;V.l(x)<=0;)C=nt(C),V=nt(V);var M=rt(C,1),P=rt(V,1);for(V=rt(V,2),C=rt(C,2);!D(V);){var O=P.add(V);O.l(x)<=0&&(M=M.add(C),P=O),V=rt(V,1),C=rt(C,1)}return R=j(x,M.j(R)),new et(M,R)}for(M=v;x.l(R)>=0;){for(C=Math.max(1,Math.floor(x.m()/R.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=m(C),O=P.j(R);N(O)||O.l(x)>0;)C-=V,P=m(C),O=P.j(R);D(P)&&(P=T),M=M.add(P),x=j(x,O)}return new et(M,x)}n.B=function(x){return it(this,x).h},n.and=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)&x.i(V);return new c(C,this.h&x.h)},n.or=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)|x.i(V);return new c(C,this.h|x.h)},n.xor=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)^x.i(V);return new c(C,this.h^x.h)};function nt(x){const R=x.g.length+1,C=[];for(let V=0;V<R;V++)C[V]=x.i(V)<<1|x.i(V-1)>>>31;return new c(C,x.h)}function rt(x,R){const C=R>>5;R%=32;const V=x.g.length-C,M=[];for(let P=0;P<V;P++)M[P]=R>0?x.i(P+C)>>>R|x.i(P+C+1)<<32-R:x.i(P+C);return new c(M,x.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,qS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,vr=c}).apply(typeof Vb<"u"?Vb:typeof self<"u"?self:typeof window<"u"?window:{});var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var GS,vc,YS,gf,Jm,KS,QS,WS;(function(){var n,t=Object.defineProperty;function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gh=="object"&&Gh];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function a(f,_){if(_)t:{var E=i;f=f.split(".");for(var w=0;w<f.length-1;w++){var B=f[w];if(!(B in E))break t;E=E[B]}f=f[f.length-1],w=E[f],_=_(w),_!=w&&_!=null&&t(E,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var E=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&E.push([w,_[w]]);return E}});var l=l||{},c=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function m(f,_,E){return m=d,m.apply(null,arguments)}function y(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),f.apply(this,w)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(w,B,G){for(var at=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)at[wt-2]=arguments[wt];return _.prototype[B].apply(w,at)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const _=f.length;if(_>0){const E=Array(_);for(let w=0;w<_;w++)E[w]=f[w];return E}return[]}function D(f,_){for(let w=1;w<arguments.length;w++){const B=arguments[w];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=f.length||0;const G=B.length||0;f.length=E+G;for(let at=0;at<G;at++)f[E+at]=B[at]}else f.push(B)}}class N{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(f){c.setTimeout(()=>{throw f},0)}function j(){var f=x;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class tt{constructor(){this.h=this.g=null}add(_,E){const w=et.get();w.set(_,E),this.h?this.h.next=w:this.g=w,this.h=w}}var et=new N(()=>new it,f=>f.reset());class it{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,rt=!1,x=new tt,R=()=>{const f=Promise.resolve(void 0);nt=()=>{f.then(C)}};function C(){for(var f;f=j();){try{f.h.call(f.g)}catch(E){I(E)}var _=et;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}rt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return f})();function O(f){return/^[\s\xa0]*$/.test(f)}function zt(f,_){M.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(zt,M),zt.prototype.init=function(f,_){const E=this.type=f.type,w=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&zt.Z.h.call(this)},zt.prototype.h=function(){zt.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function st(f,_,E,w,B){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!w,this.ha=B,this.key=++Y,this.da=this.fa=!1}function gt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function It(f,_,E){for(const w in f)_.call(E,f[w],w,f)}function Mt(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function L(f){const _={};for(const E in f)_[E]=f[E];return _}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(f,_){let E,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(E in w)f[E]=w[E];for(let G=0;G<W.length;G++)E=W[G],Object.prototype.hasOwnProperty.call(w,E)&&(f[E]=w[E])}}function lt(f){this.src=f,this.g={},this.h=0}lt.prototype.add=function(f,_,E,w,B){const G=f.toString();f=this.g[G],f||(f=this.g[G]=[],this.h++);const at=vt(f,_,w,B);return at>-1?(_=f[at],E||(_.fa=!1)):(_=new st(_,this.src,G,!!w,B),_.fa=E,f.push(_)),_};function yt(f,_){const E=_.type;if(E in f.g){var w=f.g[E],B=Array.prototype.indexOf.call(w,_,void 0),G;(G=B>=0)&&Array.prototype.splice.call(w,B,1),G&&(gt(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function vt(f,_,E,w){for(let B=0;B<f.length;++B){const G=f[B];if(!G.da&&G.listener==_&&G.capture==!!E&&G.ha==w)return B}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Ve={};function he(f,_,E,w,B){if(Array.isArray(_)){for(let G=0;G<_.length;G++)he(f,_[G],E,w,B);return null}return E=ol(E),f&&f[xt]?f.J(_,E,h(w)?!!w.capture:!1,B):Nr(f,_,E,!1,w,B)}function Nr(f,_,E,w,B,G){if(!_)throw Error("Invalid event type");const at=h(B)?!!B.capture:!!B;let wt=kr(f);if(wt||(f[Bt]=wt=new lt(f)),E=wt.add(_,E,w,at,G),E.proxy)return E;if(w=La(),E.proxy=w,w.src=f,w.listener=E,f.addEventListener)P||(B=at),B===void 0&&(B=!1),f.addEventListener(_.toString(),w,B);else if(f.attachEvent)f.attachEvent(yi(_.toString()),w);else if(f.addListener&&f.removeListener)f.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function La(){function f(E){return _.call(f.src,f.listener,E)}const _=rl;return f}function za(f,_,E,w,B){if(Array.isArray(_))for(var G=0;G<_.length;G++)za(f,_[G],E,w,B);else w=h(w)?!!w.capture:!!w,E=ol(E),f&&f[xt]?(f=f.i,G=String(_).toString(),G in f.g&&(_=f.g[G],E=vt(_,E,w,B),E>-1&&(gt(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[G],f.h--)))):f&&(f=kr(f))&&(_=f.g[_.toString()],f=-1,_&&(f=vt(_,E,w,B)),(E=f>-1?_[f]:null)&&Ua(E))}function Ua(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[xt])yt(_.i,f);else{var E=f.type,w=f.proxy;_.removeEventListener?_.removeEventListener(E,w,f.capture):_.detachEvent?_.detachEvent(yi(E),w):_.addListener&&_.removeListener&&_.removeListener(w),(E=kr(_))?(yt(E,f),E.h==0&&(E.src=null,_[Bt]=null)):gt(f)}}}function yi(f){return f in Ve?Ve[f]:Ve[f]="on"+f}function rl(f,_){if(f.da)f=!0;else{_=new zt(_,this);const E=f.listener,w=f.ha||f.src;f.fa&&Ua(f),f=E.call(w,_)}return f}function kr(f){return f=f[Bt],f instanceof lt?f:null}var al="__closure_events_fn_"+(Math.random()*1e9>>>0);function ol(f){return typeof f=="function"?f:(f[al]||(f[al]=function(_){return f.handleEvent(_)}),f[al])}function Se(){V.call(this),this.i=new lt(this),this.M=this,this.G=null}v(Se,V),Se.prototype[xt]=!0,Se.prototype.removeEventListener=function(f,_,E,w){za(this,f,_,E,w)};function Pe(f,_){var E,w=f.G;if(w)for(E=[];w;w=w.G)E.push(w);if(f=f.M,w=_.type||_,typeof _=="string")_=new M(_,f);else if(_ instanceof M)_.target=_.target||f;else{var B=_;_=new M(w,f),ot(_,B)}B=!0;let G,at;if(E)for(at=E.length-1;at>=0;at--)G=_.g=E[at],B=Cs(G,w,!0,_)&&B;if(G=_.g=f,B=Cs(G,w,!0,_)&&B,B=Cs(G,w,!1,_)&&B,E)for(at=0;at<E.length;at++)G=_.g=E[at],B=Cs(G,w,!1,_)&&B}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let w=0;w<E.length;w++)gt(E[w]);delete f.g[_],f.h--}}this.G=null},Se.prototype.J=function(f,_,E,w){return this.i.add(String(f),_,!1,E,w)},Se.prototype.K=function(f,_,E,w){return this.i.add(String(f),_,!0,E,w)};function Cs(f,_,E,w){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let B=!0;for(let G=0;G<_.length;++G){const at=_[G];if(at&&!at.da&&at.capture==E){const wt=at.listener,_e=at.ha||at.src;at.fa&&yt(f.i,at),B=wt.call(_e,w)!==!1&&B}}return B&&!w.defaultPrevented}function _d(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(f,_||0)}function mu(f){f.g=_d(()=>{f.g=null,f.i&&(f.i=!1,mu(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class un extends V{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:mu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(f){V.call(this),this.h=f,this.g={}}v(Vr,V);var ll=[];function cl(f){It(f.g,function(_,E){this.g.hasOwnProperty(E)&&Ua(_)},f),f.g={}}Vr.prototype.N=function(){Vr.Z.N.call(this),cl(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Is=c.JSON.stringify,vd=c.JSON.parse,pu=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function yu(){}function _u(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){M.call(this,"d")}v(Ye,M);function Mn(){M.call(this,"c")}v(Mn,M);var ye={},vu=null;function Ba(){return vu=vu||new Se}ye.Ia="serverreachability";function bu(f){M.call(this,ye.Ia,f)}v(bu,M);function _i(f){const _=Ba();Pe(_,new bu(_))}ye.STAT_EVENT="statevent";function Pr(f,_){M.call(this,ye.STAT_EVENT,f),this.stat=_}v(Pr,M);function Ae(f){const _=Ba();Pe(_,new Pr(_,f))}ye.Ja="timingevent";function vi(f,_){M.call(this,ye.Ja,f),this.size=_}v(vi,M);function bi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},_)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function bd(f,_,E,w,B,G){f.info(function(){if(f.g)if(G){var at="",wt=G.split("&");for(let Yt=0;Yt<wt.length;Yt++){var _e=wt[Yt].split("=");if(_e.length>1){const fe=_e[0];_e=_e[1];const Pn=fe.split("_");at=Pn.length>=2&&Pn[1]=="type"?at+(fe+"="+_e+"&"):at+(fe+"=redacted&")}}}else at=null;else at=G;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+_+`
`+E+`
`+at})}function Eu(f,_,E,w,B,G,at){f.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+_+`
`+E+`
`+G+" "+at})}function Ei(f,_,E,w){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ed(f,E)+(w?" "+w:"")})}function Lr(f,_){f.info(function(){return"TIMEOUT: "+_})}ti.prototype.info=function(){};function Ed(f,_){if(!f.g)return _;if(!_)return null;try{const G=JSON.parse(_);if(G){for(f=0;f<G.length;f++)if(Array.isArray(G[f])){var E=G[f];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var B=w[0];if(B!="noop"&&B!="stop"&&B!="close")for(let at=1;at<w.length;at++)w[at]=""}}}}return Is(G)}catch{return _}}var zr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hl;function Ur(){}v(Ur,yu),Ur.prototype.g=function(){return new XMLHttpRequest},hl=new Ur;function Xi(f){return encodeURIComponent(String(f))}function Tu(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function ei(f,_,E,w){this.j=f,this.i=_,this.l=E,this.S=w||1,this.V=new Vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var we={},Be={};function Ti(f,_,E){f.M=1,f.A=Br(xe(_)),f.u=E,f.R=!0,Ha(f,null)}function Ha(f,_){f.F=Date.now(),Si(f),f.B=xe(f.A);var E=f.B,w=f.S;Array.isArray(w)||(w=[String(w)]),Ga(E.i,"t",w),f.C=0,E=f.j.L,f.h=new ni,f.g=Lu(f.j,E?_:null,!f.u),f.P>0&&(f.O=new un(m(f.Y,f,f.g),f.P)),_=f.V,E=f.g,w=f.ba;var B="readystatechange";Array.isArray(B)||(B&&(ll[0]=B.toString()),B=ll);for(let G=0;G<B.length;G++){const at=he(E,B[G],w||_.handleEvent,!1,_.h||_);if(!at)break;_.g[at.key]=at}_=f.J?L(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),_i(),bd(f.i,f.v,f.B,f.l,f.S,f.u)}ei.prototype.ba=function(f){f=f.target;const _=this.O;_&&ri(f)==3?_.j():this.Y(f)},ei.prototype.Y=function(f){try{if(f==this.g)t:{const wt=ri(this.g),_e=this.g.ya(),Yt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||wt!=4||_e==7||(_e==8||Yt<=0?_i(3):_i(2)),Ai(this);var _=this.g.ca();this.X=_;var E=Td(this);if(this.o=_==200,Eu(this.i,this.v,this.B,this.l,this.S,wt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var w,B=this.g;if((w=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(w)){var G=w;break e}}G=null}if(f=G)Ei(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,f);else{this.o=!1,this.m=3,Ae(12),Sn(this),Nn(this);break t}}if(this.R){f=!0;let fe;for(;!this.K&&this.C<E.length;)if(fe=Au(this,E),fe==Be){wt==4&&(this.m=4,Ae(14),f=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==we){this.m=4,Ae(15),Ei(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Ei(this.i,this.l,fe,null),wi(this,fe);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),f=!1),this.o=this.o&&f,!f)Ei(this.i,this.l,E,"[Invalid Chunked Response]"),Sn(this),Nn(this);else if(E.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Rl(at),at.P=!0,Ae(11))}}else Ei(this.i,this.l,E,null),wi(this,E);wt==4&&Sn(this),this.o&&!this.K&&(wt==4?Nu(this.j,this):(this.o=!1,Si(this)))}else Ji(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),Sn(this),Nn(this)}}}catch{}};function Td(f){if(!Su(f))return f.g.la();const _=Ke(f.g);if(_==="")return"";let E="";const w=_.length,B=ri(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Sn(f),Nn(f),"";f.h.i=new c.TextDecoder}for(let G=0;G<w;G++)f.h.h=!0,E+=f.h.i.decode(_[G],{stream:!(B&&G==w-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function Su(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Au(f,_){var E=f.C,w=_.indexOf(`
`,E);return w==-1?Be:(E=Number(_.substring(E,w)),isNaN(E)?we:(w+=1,w+E>_.length?Be:(_=_.slice(w,w+E),f.C=w+E,_)))}ei.prototype.cancel=function(){this.K=!0,Sn(this)};function Si(f){f.T=Date.now()+f.H,ja(f,f.H)}function ja(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=bi(m(f.aa,f),_)}function Ai(f){f.D&&(c.clearTimeout(f.D),f.D=null)}ei.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Lr(this.i,this.B),this.M!=2&&(_i(),Ae(17)),Sn(this),this.m=2,Nn(this)):ja(this,this.T-f)};function Nn(f){f.j.I==0||f.K||Nu(f.j,f)}function Sn(f){Ai(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,cl(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function wi(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||xi(E.h,f))){if(!f.L&&xi(E.h,f)&&E.I==3){try{var w=E.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Xa(E),Ls(E);else break t;Kr(E),Ae(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=bi(m(E.Va,E),6e3));Ri(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ni(E,11)}else if((f.L||E.g==f)&&Xa(E),!O(_))for(B=E.Ba.g.parse(_),_=0;_<B.length;_++){let Yt=B[_];const fe=Yt[0];if(!(fe<=E.K))if(E.K=fe,Yt=Yt[1],E.I==2)if(Yt[0]=="c"){E.M=Yt[1],E.ba=Yt[2];const Pn=Yt[3];Pn!=null&&(E.ka=Pn,E.j.info("VER="+E.ka));const ki=Yt[4];ki!=null&&(E.za=ki,E.j.info("SVER="+E.za));const ai=Yt[5];ai!=null&&typeof ai=="number"&&ai>0&&(w=1.5*ai,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const oi=f.g;if(oi){const Qr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var G=w.h;G.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(gl(G,G.h),G.h=null))}if(w.G){const $a=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(w.wa=$a,Xt(w.J,w.G,$a))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var at=f;if(w.na=Pu(w,w.L?w.ba:null,w.W),at.L){ml(w.h,at);var wt=at,_e=w.O;_e&&(wt.H=_e),wt.D&&(Ai(wt),Si(wt)),w.g=at}else Ou(w);E.i.length>0&&Mi(E)}else Yt[0]!="stop"&&Yt[0]!="close"||Ni(E,7);else E.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Ni(E,7):Al(E):Yt[0]!="noop"&&E.l&&E.l.qa(Yt),E.A=0)}}_i(4)}catch{}}var Re=class{constructor(f,_){this.g=f,this.map=_}};function fl(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function dl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ri(f){return f.h?1:f.g?f.g.size:0}function xi(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function gl(f,_){f.g?f.g.add(_):f.h=_}function ml(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}fl.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function pl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return A(f.i)}var wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fa(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const w=f[E].indexOf("=");let B,G=null;w>=0?(B=f[E].substring(0,w),G=f[E].substring(w+1)):B=f[E],_(B,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function An(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof An?(this.l=f.l,He(this,f.j),this.o=f.o,this.g=f.g,Ds(this,f.u),this.h=f.h,yl(this,Iu(f.i)),this.m=f.m):f&&(_=String(f).match(wu))?(this.l=!1,He(this,_[1]||"",!0),this.o=Ci(_[2]||""),this.g=Ci(_[3]||"",!0),Ds(this,_[4]),this.h=Ci(_[5]||"",!0),yl(this,_[6]||"",!0),this.m=Ci(_[7]||"")):(this.l=!1,this.i=new Ms(null,this.l))}An.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(Hr(_,qa,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Hr(_,qa,!0),"@"),f.push(Xi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Hr(E,E.charAt(0)=="/"?_l:Ru,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Hr(E,xu)),f.join("")},An.prototype.resolve=function(f){const _=xe(this);let E=!!f.j;E?He(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var w=f.h;if(E)Ds(_,f.u);else if(E=!!f.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var B=_.h.lastIndexOf("/");B!=-1&&(w=_.h.slice(0,B+1)+w)}if(B=w,B==".."||B==".")w="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){w=B.lastIndexOf("/",0)==0,B=B.split("/");const G=[];for(let at=0;at<B.length;){const wt=B[at++];wt=="."?w&&at==B.length&&G.push(""):wt==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),w&&at==B.length&&G.push("")):(G.push(wt),w=!0)}w=G.join("/")}else w=B}return E?_.h=w:E=f.i.toString()!=="",E?yl(_,Iu(f.i)):E=!!f.m,E&&(_.m=f.m),_};function xe(f){return new An(f)}function He(f,_,E){f.j=E?Ci(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Ds(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function yl(f,_,E){_ instanceof Ms?(f.i=_,Ya(f.i,f.l)):(E||(_=Hr(_,Os)),f.i=new Ms(_,f.l))}function Xt(f,_,E){f.i.set(_,E)}function Br(f){return Xt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ci(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Hr(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,dn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function dn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var qa=/[#\/\?@]/g,Ru=/[#\?:]/g,_l=/[#\?]/g,Os=/[#\?@]/g,xu=/#/g;function Ms(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function gn(f){f.g||(f.g=new Map,f.h=0,f.i&&Fa(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Ms.prototype,n.add=function(f,_){gn(this),this.i=null,f=Ns(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function Cu(f,_){gn(f),_=Ns(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function vl(f,_){return gn(f),_=Ns(f,_),f.g.has(_)}n.forEach=function(f,_){gn(this),this.g.forEach(function(E,w){E.forEach(function(B){f.call(_,B,w,this)},this)},this)};function bl(f,_){gn(f);let E=[];if(typeof _=="string")vl(f,_)&&(E=E.concat(f.g.get(Ns(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}n.set=function(f,_){return gn(this),this.i=null,f=Ns(this,f),vl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=bl(this,f),f.length>0?String(f[0]):_):_};function Ga(f,_,E){Cu(f,_),E.length>0&&(f.i=null,f.g.set(Ns(f,_),A(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var E=_[w];const B=Xi(E);E=bl(this,E);for(let G=0;G<E.length;G++){let at=B;E[G]!==""&&(at+="="+Xi(E[G])),f.push(at)}}return this.i=f.join("&")};function Iu(f){const _=new Ms;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function Ns(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Ya(f,_){_&&!f.j&&(gn(f),f.i=null,f.g.forEach(function(E,w){const B=w.toLowerCase();w!=B&&(Cu(this,w),Ga(this,B,E))},f)),f.j=_}function ii(f,_){const E=new ti;if(c.Image){const w=new Image;w.onload=y(kn,E,"TestLoadImage: loaded",!0,_,w),w.onerror=y(kn,E,"TestLoadImage: error",!1,_,w),w.onabort=y(kn,E,"TestLoadImage: abort",!1,_,w),w.ontimeout=y(kn,E,"TestLoadImage: timeout",!1,_,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=f}else _(!1)}function El(f,_){const E=new ti,w=new AbortController,B=setTimeout(()=>{w.abort(),kn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:w.signal}).then(G=>{clearTimeout(B),G.ok?kn(E,"TestPingServer: ok",!0,_):kn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),kn(E,"TestPingServer: error",!1,_)})}function kn(f,_,E,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(E)}catch{}}function ks(){this.g=new pu}function Ii(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Ii,yu),Ii.prototype.g=function(){return new jr(this.i,this.h)};function jr(f,_){Se.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(jr,Se),n=jr.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,si(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ka(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ka(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Vs(this):si(this),this.readyState==3&&Ka(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Vs(this))},n.Na=function(f){this.g&&(this.response=f,Vs(this))},n.ga=function(){this.g&&Vs(this)};function Vs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,si(f)}n.setRequestHeader=function(f,_){this.A.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function si(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Vn(f){let _="";return It(f,function(E,w){_+=w,_+=":",_+=E,_+=`\r
`}),_}function Fr(f,_,E){t:{for(w in E){var w=!1;break t}w=!0}w||(E=Vn(E),typeof f=="string"?E!=null&&Xi(E):Xt(f,_,E))}function te(f){Se.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(te,Se);var Di=/^https?$/i,Tl=["POST","PUT"];n=te.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,_,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hl.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(G){qr(this,G);return}if(f=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)E.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())E.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),B=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Tl,_,void 0)>=0)||w||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,at]of E)this.g.setRequestHeader(G,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(G){qr(this,G)}};function qr(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Sl(f),$i(f)}function Sl(f){f.A||(f.A=!0,Pe(f,"complete"),Pe(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Pe(this,"complete"),Pe(this,"abort"),$i(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),te.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Gr(this):this.Xa())},n.Xa=function(){Gr(this)};function Gr(f){if(f.h&&typeof l<"u"){if(f.v&&ri(f)==4)setTimeout(f.Ca.bind(f),0);else if(Pe(f,"readystatechange"),ri(f)==4){f.h=!1;try{const G=f.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var w;if(w=G===0){let at=String(f.D).match(wu)[1]||null;!at&&c.self&&c.self.location&&(at=c.self.location.protocol.slice(0,-1)),w=!Di.test(at?at.toLowerCase():"")}E=w}if(E)Pe(f,"complete"),Pe(f,"success");else{f.o=6;try{var B=ri(f)>2?f.g.statusText:""}catch{B=""}f.l=B+" ["+f.ca()+"]",Sl(f)}}finally{$i(f)}}}}function $i(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||Pe(f,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ri(f){return f.g?f.g.readyState:0}n.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),vd(_)}};function Ke(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(f){const _={};f=(f.g&&ri(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<f.length;w++){if(O(f[w]))continue;var E=Tu(f[w]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=_[B]||[];_[B]=G,G.push(E)}Mt(_,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function Ps(f){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,f),this.Za=Oi("retryDelaySeedMs",1e4,f),this.Ta=Oi("forwardChannelMaxRetries",2,f),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new fl(f&&f.concurrentRequestLimit),this.Ba=new ks,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ps.prototype,n.ka=8,n.I=1,n.connect=function(f,_,E,w){Ae(0),this.W=f,this.H=_||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Pu(this,null,this.W),Mi(this)};function Al(f){if(Qa(f),f.I==3){var _=f.V++,E=xe(f.J);if(Xt(E,"SID",f.M),Xt(E,"RID",_),Xt(E,"TYPE","terminate"),Yr(f,E),_=new ei(f,f.j,_),_.M=2,_.A=Br(xe(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=Lu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Si(_)}Vu(f)}function Ls(f){f.g&&(Rl(f),f.g.cancel(),f.g=null)}function Qa(f){Ls(f),f.v&&(c.clearTimeout(f.v),f.v=null),Xa(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Mi(f){if(!dl(f.h)&&!f.m){f.m=!0;var _=f.Ea;nt||R(),rt||(nt(),rt=!0),x.add(_,f),f.D=0}}function Wa(f,_){return Ri(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=bi(m(f.Ea,f,_),ku(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const B=new ei(this,this.j,f);let G=this.o;if(this.U&&(G?(G=L(G),ot(G,this.U)):G=this.U),this.u!==null||this.R||(B.J=G,G=null),this.S)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Du(this,B,_),E=xe(this.J),Xt(E,"RID",f),Xt(E,"CVER",22),this.G&&Xt(E,"X-HTTP-Session-Id",this.G),Yr(this,E),G&&(this.R?_="headers="+Xi(Vn(G))+"&"+_:this.u&&Fr(E,this.u,G)),gl(this.h,B),this.Ra&&Xt(E,"TYPE","init"),this.S?(Xt(E,"$req",_),Xt(E,"SID","null"),B.U=!0,Ti(B,E,null)):Ti(B,E,_),this.I=2}}else this.I==3&&(f?wl(this,f):this.i.length==0||dl(this.h)||wl(this))};function wl(f,_){var E;_?E=_.l:E=f.V++;const w=xe(f.J);Xt(w,"SID",f.M),Xt(w,"RID",E),Xt(w,"AID",f.K),Yr(f,w),f.u&&f.o&&Fr(w,f.u,f.o),E=new ei(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Du(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),gl(f.h,E),Ti(E,w,_)}function Yr(f,_){f.H&&It(f.H,function(E,w){Xt(_,w,E)}),f.l&&It({},function(E,w){Xt(_,w,E)})}function Du(f,_,E){E=Math.min(f.i.length,E);const w=f.l?m(f.l.Ka,f.l,f):null;t:{var B=f.i;let wt=-1;for(;;){const _e=["count="+E];wt==-1?E>0?(wt=B[0].g,_e.push("ofs="+wt)):wt=0:_e.push("ofs="+wt);let Yt=!0;for(let fe=0;fe<E;fe++){var G=B[fe].g;const Pn=B[fe].map;if(G-=wt,G<0)wt=Math.max(0,B[fe].g-100),Yt=!1;else try{G="req"+G+"_"||"";try{var at=Pn instanceof Map?Pn:Object.entries(Pn);for(const[ki,ai]of at){let oi=ai;h(ai)&&(oi=Is(ai)),_e.push(G+ki+"="+encodeURIComponent(oi))}}catch(ki){throw _e.push(G+"type="+encodeURIComponent("_badmap")),ki}}catch{w&&w(Pn)}}if(Yt){at=_e.join("&");break t}}at=void 0}return f=f.i.splice(0,E),_.G=f,at}function Ou(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;nt||R(),rt||(nt(),rt=!0),x.add(_,f),f.A=0}}function Kr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=bi(m(f.Da,f),ku(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=bi(m(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Ls(this),Mu(this))};function Rl(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Mu(f){f.g=new ei(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=xe(f.na);Xt(_,"RID","rpc"),Xt(_,"SID",f.M),Xt(_,"AID",f.K),Xt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Xt(_,"TO",f.ia),Xt(_,"TYPE","xmlhttp"),Yr(f,_),f.u&&f.o&&Fr(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=Br(xe(_)),E.u=null,E.R=!0,Ha(E,f)}n.Va=function(){this.C!=null&&(this.C=null,Ls(this),Kr(this),Ae(19))};function Xa(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Nu(f,_){var E=null;if(f.g==_){Xa(f),Rl(f),f.g=null;var w=2}else if(xi(f.h,_))E=_.G,ml(f.h,_),w=1;else return;if(f.I!=0){if(_.o)if(w==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var B=f.D;w=Ba(),Pe(w,new vi(w,E)),Mi(f)}else Ou(f);else if(B=_.m,B==3||B==0&&_.X>0||!(w==1&&Wa(f,_)||w==2&&Kr(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),B){case 1:Ni(f,5);break;case 4:Ni(f,10);break;case 3:Ni(f,6);break;default:Ni(f,2)}}}function ku(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function Ni(f,_){if(f.j.info("Error code "+_),_==2){var E=m(f.bb,f),w=f.Ua;const B=!w;w=new An(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||He(w,"https"),Br(w),B?ii(w.toString(),E):El(w.toString(),E)}else Ae(2);f.I=0,f.l&&f.l.pa(_),Vu(f),Qa(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Vu(f){if(f.I=0,f.ja=[],f.l){const _=pl(f.h);(_.length!=0||f.i.length!=0)&&(D(f.ja,_),D(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function Pu(f,_,E){var w=E instanceof An?xe(E):new An(E);if(w.g!="")_&&(w.g=_+"."+w.g),Ds(w,w.u);else{var B=c.location;w=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;const G=new An(null);w&&He(G,w),_&&(G.g=_),B&&Ds(G,B),E&&(G.h=E),w=G}return E=f.G,_=f.wa,E&&_&&Xt(w,E,_),Xt(w,"VER",f.ka),Yr(f,w),w}function Lu(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new te(new Ii({ab:E})):new te(f.ma),_.Fa(f.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}n=zu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function zs(){}zs.prototype.g=function(f,_){return new hn(f,_)};function hn(f,_){Se.call(this),this.g=new Ps(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!O(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Zi(this)}v(hn,Se),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Al(this.g)},hn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Is(f),f=E);_.i.push(new Re(_.Ya++,f)),_.I==3&&Mi(_)},hn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,hn.Z.N.call(this)};function Uu(f){Ye.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const E in _){f=E;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(Uu,Ye);function Bu(){Mn.call(this),this.status=1}v(Bu,Mn);function Zi(f){this.g=f}v(Zi,zu),Zi.prototype.ra=function(){Pe(this.g,"a")},Zi.prototype.qa=function(f){Pe(this.g,new Uu(f))},Zi.prototype.pa=function(f){Pe(this.g,new Bu)},Zi.prototype.oa=function(){Pe(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,WS=function(){return new zs},QS=function(){return Ba()},KS=ye,Jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zr.NO_ERROR=0,zr.TIMEOUT=8,zr.HTTP_ERROR=6,gf=zr,ul.COMPLETE="complete",YS=ul,_u.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,vc=_u,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,GS=te}).apply(typeof Gh<"u"?Gh:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let Zo="12.9.0";function eD(n){Zo=n}const Ra=new Sp("@firebase/firestore");function Io(){return Ra.logLevel}function ht(n,...t){if(Ra.logLevel<=Vt.DEBUG){const e=t.map(kp);Ra.debug(`Firestore (${Zo}): ${n}`,...e)}}function ws(n,...t){if(Ra.logLevel<=Vt.ERROR){const e=t.map(kp);Ra.error(`Firestore (${Zo}): ${n}`,...e)}}function xa(n,...t){if(Ra.logLevel<=Vt.WARN){const e=t.map(kp);Ra.warn(`Firestore (${Zo}): ${n}`,...e)}}function kp(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Et(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,XS(n,i,e)}function XS(n,t,e){let i=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw ws(i),new Error(i)}function Wt(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||XS(t,a,i)}function At(n,t){return n}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends xs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class va{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class $S{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(rn.UNAUTHENTICATED)))}shutdown(){}}class iD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class sD{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Wt(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let l=new va;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new va,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=l;t.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new va)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Wt(typeof i.accessToken=="string",31837,{l:i}),new $S(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class rD{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class aD{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new rD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Wt(this.o===void 0,3512);const i=l=>{l.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const a=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Wt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Pb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Vp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=lD(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<e&&(i+=t.charAt(a[l]%62))}return i}}function Pt(n,t){return n<t?-1:n>t?1:0}function Zm(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),l=t.charAt(i);if(a!==l)return Im(a)===Im(l)?Pt(a,l):Im(a)?1:-1}return Pt(n.length,t.length)}const cD=55296,uD=57343;function Im(n){const t=n.charCodeAt(0);return t>=cD&&t<=uD}function jo(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}const Lb="__name__";class ji{constructor(t,e,i){e===void 0?e=0:e>t.length&&Et(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Et(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return ji.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ji?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const l=ji.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return Pt(t.length,e.length)}static compareSegments(t,e){const i=ji.isNumericId(t),a=ji.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?ji.extractNumericId(t).compare(ji.extractNumericId(e)):Zm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return vr.fromString(t.substring(4,t.length-2))}}class re extends ji{construct(t,e,i){return new re(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new re(e)}static emptyPath(){return new re([])}}const hD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends ji{construct(t,e,i){return new Ze(t,e,i)}static isValidIdentifier(t){return hD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lb}static keyField(){return new Ze([Lb])}static fromServerFormat(t){const e=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(e)}static emptyPath(){return new Ze([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(re.fromString(t))}static fromName(t){return new pt(re.fromString(t).popFirst(5))}static empty(){return new pt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return re.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new re(t.slice()))}}function JS(n,t,e){if(!e)throw new ut(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function fD(n,t,e,i){if(t===!0&&i===!0)throw new ut(J.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function zb(n){if(!pt.isDocumentKey(n))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ub(n){if(pt.isDocumentKey(n))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ZS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Zf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Et(12329,{type:typeof n})}function Ic(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Zf(n);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function ke(n,t){const e={typeString:n};return t&&(e.value=t),e}function lu(n,t){if(!ZS(n))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){e=`Expected '${i}' field to equal '${l.value}'`;break}}if(e)throw new ut(J.INVALID_ARGUMENT,e);return!0}const Bb=-62135596800,Hb=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Hb);return new ue(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Bb)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hb}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(lu(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Bb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:ke("string",ue._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ue(0,0))}static max(){return new Tt(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jc=-1;function dD(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Tt.fromTimestamp(i===1e9?new ue(e+1,0):new ue(e,i));return new Tr(a,pt.empty(),t)}function gD(n){return new Tr(n.readTime,n.key,jc)}class Tr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Tr(Tt.min(),pt.empty(),jc)}static max(){return new Tr(Tt.max(),pt.empty(),jc)}}function mD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=pt.comparator(n.documentKey,t.documentKey),e!==0?e:Pt(n.largestBatchId,t.largestBatchId))}const pD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function tl(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==pD)throw n;ht("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Z(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Z?e:Z.resolve(e)}catch(e){return Z.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Z.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Z.reject(e)}static resolve(t){return new Z(((e,i)=>{e(t)}))}static reject(t){return new Z(((e,i)=>{i(t)}))}static waitFor(t){return new Z(((e,i)=>{let a=0,l=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&e()}),(d=>i(d)))})),c=!0,l===a&&e()}))}static or(t){let e=Z.resolve(!1);for(const i of t)e=e.next((a=>a?Z.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,l)=>{i.push(e.call(this,a,l))})),this.waitFor(i)}static mapArray(t,e){return new Z(((i,a)=>{const l=t.length,c=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;e(t[m]).next((y=>{c[m]=y,++h,h===l&&i(c)}),(y=>a(y)))}}))}static doWhile(t,e){return new Z(((i,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):i()};l()}))}}function _D(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function el(n){return n.name==="IndexedDbTransactionError"}class td{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}td.ce=-1;const Pp=-1;function ed(n){return n==null}function Df(n){return n===0&&1/n==-1/0}function vD(n){return typeof n=="number"&&Number.isInteger(n)&&!Df(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const t1="";function bD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=jb(t)),t=ED(n.get(e),t);return jb(t)}function ED(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case t1:e+="";break;default:e+=l}}return e}function jb(n){return n+t1+""}function Fb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Oa(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function e1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ge{constructor(t,e){this.comparator=t,this.root=e||Je.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yh(this.root,t,this.comparator,!0)}}class Yh{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,e,i,a,l){this.key=t,this.value=e,this.color=i??Je.RED,this.left=a??Je.EMPTY,this.right=l??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,l){return new Je(t??this.key,e??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,i),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return Je.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,e,i,a,l){return this}insert(t,e,i){return new Je(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new qb(this.data.getIterator())}getIteratorFrom(t){return new qb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ue(this.comparator);return e.data=t,e}}class qb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fi{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new fi([])}unionWith(t){let e=new Ue(Ze.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new fi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return jo(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class n1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new n1("Invalid base64 string: "+l):l}})(t);return new tn(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new tn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const TD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(n){if(Wt(!!n,39018),typeof n=="string"){let t=0;const e=TD.exec(n);if(Wt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ee(n.seconds),nanos:Ee(n.nanos)}}function Ee(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ar(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}const i1="server_timestamp",s1="__type__",r1="__previous_value__",a1="__local_write_time__";function Lp(n){return(n?.mapValue?.fields||{})[s1]?.stringValue===i1}function nd(n){const t=n.mapValue.fields[r1];return Lp(t)?nd(t):t}function Fc(n){const t=Sr(n.mapValue.fields[a1].timestampValue);return new ue(t.seconds,t.nanos)}class SD{constructor(t,e,i,a,l,c,h,d,m,y,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=v}}const Of="(default)";class qc{constructor(t,e){this.projectId=t,this.database=e||Of}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===Of}isEqual(t){return t instanceof qc&&t.projectId===this.projectId&&t.database===this.database}}function AD(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(n.options.projectId,t)}const o1="__type__",wD="__max__",Kh={mapValue:{}},l1="__vector__",Mf="value";function wr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Lp(n)?4:xD(n)?9007199254740991:RD(n)?10:11:Et(28295,{value:n})}function Wi(n,t){if(n===t)return!0;const e=wr(n);if(e!==wr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Fc(n).isEqual(Fc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Sr(a.timestampValue),h=Sr(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return Ar(a.bytesValue).isEqual(Ar(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return Ee(a.geoPointValue.latitude)===Ee(l.geoPointValue.latitude)&&Ee(a.geoPointValue.longitude)===Ee(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ee(a.integerValue)===Ee(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ee(a.doubleValue),h=Ee(l.doubleValue);return c===h?Df(c)===Df(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return jo(n.arrayValue.values||[],t.arrayValue.values||[],Wi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(Fb(c)!==Fb(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!Wi(c[d],h[d])))return!1;return!0})(n,t);default:return Et(52216,{left:n})}}function Gc(n,t){return(n.values||[]).find((e=>Wi(e,t)))!==void 0}function Fo(n,t){if(n===t)return 0;const e=wr(n),i=wr(t);if(e!==i)return Pt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,t.booleanValue);case 2:return(function(l,c){const h=Ee(l.integerValue||l.doubleValue),d=Ee(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,t);case 3:return Gb(n.timestampValue,t.timestampValue);case 4:return Gb(Fc(n),Fc(t));case 5:return Zm(n.stringValue,t.stringValue);case 6:return(function(l,c){const h=Ar(l),d=Ar(c);return h.compareTo(d)})(n.bytesValue,t.bytesValue);case 7:return(function(l,c){const h=l.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=Pt(h[m],d[m]);if(y!==0)return y}return Pt(h.length,d.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,c){const h=Pt(Ee(l.latitude),Ee(c.latitude));return h!==0?h:Pt(Ee(l.longitude),Ee(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return Yb(n.arrayValue,t.arrayValue);case 10:return(function(l,c){const h=l.fields||{},d=c.fields||{},m=h[Mf]?.arrayValue,y=d[Mf]?.arrayValue,v=Pt(m?.values?.length||0,y?.values?.length||0);return v!==0?v:Yb(m,y)})(n.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Kh.mapValue&&c===Kh.mapValue)return 0;if(l===Kh.mapValue)return 1;if(c===Kh.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=c.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=Zm(d[v],y[v]);if(T!==0)return T;const A=Fo(h[d[v]],m[y[v]]);if(A!==0)return A}return Pt(d.length,y.length)})(n.mapValue,t.mapValue);default:throw Et(23264,{he:e})}}function Gb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Pt(n,t);const e=Sr(n),i=Sr(t),a=Pt(e.seconds,i.seconds);return a!==0?a:Pt(e.nanos,i.nanos)}function Yb(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const l=Fo(e[a],i[a]);if(l)return l}return Pt(e.length,i.length)}function qo(n){return tp(n)}function tp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Sr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Ar(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return pt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const l of e.values||[])a?a=!1:i+=",",i+=tp(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${tp(e.fields[c])}`;return a+"}"})(n.mapValue):Et(61005,{value:n})}function mf(n){switch(wr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nd(n);return t?16+mf(t):16;case 5:return 2*n.stringValue.length;case 6:return Ar(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+mf(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return Oa(i.fields,((l,c)=>{a+=l.length+mf(c)})),a})(n.mapValue);default:throw Et(13486,{value:n})}}function Kb(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ep(n){return!!n&&"integerValue"in n}function zp(n){return!!n&&"arrayValue"in n}function Qb(n){return!!n&&"nullValue"in n}function Wb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pf(n){return!!n&&"mapValue"in n}function RD(n){return(n?.mapValue?.fields||{})[o1]?.stringValue===l1}function Dc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Oa(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Dc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Dc(n.arrayValue.values[e]);return t}return{...n}}function xD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===wD}class Kn{constructor(t){this.value=t}static empty(){return new Kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!pf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dc(e)}setAll(t){let e=Ze.emptyPath(),i={},a=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const d=this.getFieldsMap(e);this.applyChanges(d,i,a),i={},a=[],e=h.popLast()}c?i[h.lastSegment()]=Dc(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,i,a)}delete(t){const e=this.field(t.popLast());pf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Wi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){Oa(e,((a,l)=>t[a]=l));for(const a of i)delete t[a]}clone(){return new Kn(Dc(this.value))}}function c1(n){const t=[];return Oa(n.fields,((e,i)=>{const a=new Ze([e]);if(pf(i)){const l=c1(i.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new fi(t)}class an{constructor(t,e,i,a,l,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(t){return new an(t,0,Tt.min(),Tt.min(),Tt.min(),Kn.empty(),0)}static newFoundDocument(t,e,i,a){return new an(t,1,e,Tt.min(),i,a,0)}static newNoDocument(t,e){return new an(t,2,e,Tt.min(),Tt.min(),Kn.empty(),0)}static newUnknownDocument(t,e){return new an(t,3,e,Tt.min(),Tt.min(),Kn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nf{constructor(t,e){this.position=t,this.inclusive=e}}function Xb(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const l=t[a],c=n.position[a];if(l.field.isKeyField()?i=pt.comparator(pt.fromName(c.referenceValue),e.key):i=Fo(c,e.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function $b(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Wi(n.position[e],t.position[e]))return!1;return!0}class Yc{constructor(t,e="asc"){this.field=t,this.dir=e}}function CD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class u1{}class Ne extends u1{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new DD(t,e,i):e==="array-contains"?new ND(t,i):e==="in"?new kD(t,i):e==="not-in"?new VD(t,i):e==="array-contains-any"?new PD(t,i):new Ne(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new OD(t,i):new MD(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Fo(e,this.value)):e!==null&&wr(this.value)===wr(e)&&this.matchesComparison(Fo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends u1{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new pi(t,e)}matches(t){return h1(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function h1(n){return n.op==="and"}function f1(n){return ID(n)&&h1(n)}function ID(n){for(const t of n.filters)if(t instanceof pi)return!1;return!0}function np(n){if(n instanceof Ne)return n.field.canonicalString()+n.op.toString()+qo(n.value);if(f1(n))return n.filters.map((t=>np(t))).join(",");{const t=n.filters.map((e=>np(e))).join(",");return`${n.op}(${t})`}}function d1(n,t){return n instanceof Ne?(function(i,a){return a instanceof Ne&&i.op===a.op&&i.field.isEqual(a.field)&&Wi(i.value,a.value)})(n,t):n instanceof pi?(function(i,a){return a instanceof pi&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,h)=>l&&d1(c,a.filters[h])),!0):!1})(n,t):void Et(19439)}function g1(n){return n instanceof Ne?(function(e){return`${e.field.canonicalString()} ${e.op} ${qo(e.value)}`})(n):n instanceof pi?(function(e){return e.op.toString()+" {"+e.getFilters().map(g1).join(" ,")+"}"})(n):"Filter"}class DD extends Ne{constructor(t,e,i){super(t,e,i),this.key=pt.fromName(i.referenceValue)}matches(t){const e=pt.comparator(t.key,this.key);return this.matchesComparison(e)}}class OD extends Ne{constructor(t,e){super(t,"in",e),this.keys=m1("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class MD extends Ne{constructor(t,e){super(t,"not-in",e),this.keys=m1("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function m1(n,t){return(t.arrayValue?.values||[]).map((e=>pt.fromName(e.referenceValue)))}class ND extends Ne{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return zp(e)&&Gc(e.arrayValue,this.value)}}class kD extends Ne{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Gc(this.value.arrayValue,e)}}class VD extends Ne{constructor(t,e){super(t,"not-in",e)}matches(t){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Gc(this.value.arrayValue,e)}}class PD extends Ne{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!zp(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Gc(this.value.arrayValue,i)))}}class LD{constructor(t,e=null,i=[],a=[],l=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function Jb(n,t=null,e=[],i=[],a=null,l=null,c=null){return new LD(n,t,e,i,a,l,c)}function Up(n){const t=At(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>np(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),ed(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>qo(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>qo(i))).join(",")),t.Te=e}return t.Te}function Bp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!CD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!d1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!$b(n.startAt,t.startAt)&&$b(n.endAt,t.endAt)}function ip(n){return pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class nl{constructor(t,e=null,i=[],a=[],l=null,c="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function zD(n,t,e,i,a,l,c,h){return new nl(n,t,e,i,a,l,c,h)}function Hp(n){return new nl(n)}function Zb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function UD(n){return pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function p1(n){return n.collectionGroup!==null}function Oc(n){const t=At(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ue(Ze.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Yc(l,i))})),e.has(Ze.keyField().canonicalString())||t.Ie.push(new Yc(Ze.keyField(),i))}return t.Ie}function Gi(n){const t=At(n);return t.Ee||(t.Ee=BD(t,Oc(n))),t.Ee}function BD(n,t){if(n.limitType==="F")return Jb(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Yc(a.field,l)}));const e=n.endAt?new Nf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Nf(n.startAt.position,n.startAt.inclusive):null;return Jb(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function sp(n,t){const e=n.filters.concat([t]);return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function HD(n,t){const e=n.explicitOrderBy.concat([t]);return new nl(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function kf(n,t,e){return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function id(n,t){return Bp(Gi(n),Gi(t))&&n.limitType===t.limitType}function y1(n){return`${Up(Gi(n))}|lt:${n.limitType}`}function Do(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>g1(a))).join(", ")}]`),ed(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>qo(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>qo(a))).join(",")),`Target(${i})`})(Gi(n))}; limitType=${n.limitType})`}function sd(n,t){return t.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):pt.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,t)&&(function(i,a){for(const l of Oc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(c,h,d){const m=Xb(c,h,d);return c.inclusive?m<=0:m<0})(i.startAt,Oc(i),a)||i.endAt&&!(function(c,h,d){const m=Xb(c,h,d);return c.inclusive?m>=0:m>0})(i.endAt,Oc(i),a))})(n,t)}function jD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _1(n){return(t,e)=>{let i=!1;for(const a of Oc(n)){const l=FD(a,t,e);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function FD(n,t,e){const i=n.field.isKeyField()?pt.comparator(t.key,e.key):(function(l,c,h){const d=c.data.field(l),m=h.data.field(l);return d!==null&&m!==null?Fo(d,m):Et(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Et(19790,{direction:n.dir})}}class Ma{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Oa(this.inner,((e,i)=>{for(const[a,l]of i)t(a,l)}))}isEmpty(){return e1(this.inner)}size(){return this.innerSize}}const qD=new ge(pt.comparator);function Rs(){return qD}const v1=new ge(pt.comparator);function bc(...n){let t=v1;for(const e of n)t=t.insert(e.key,e);return t}function b1(n){let t=v1;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function pa(){return Mc()}function E1(){return Mc()}function Mc(){return new Ma((n=>n.toString()),((n,t)=>n.isEqual(t)))}const GD=new ge(pt.comparator),YD=new Ue(pt.comparator);function Lt(...n){let t=YD;for(const e of n)t=t.add(e);return t}const KD=new Ue(Pt);function QD(){return KD}function jp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Df(t)?"-0":t}}function T1(n){return{integerValue:""+n}}function WD(n,t){return vD(t)?T1(t):jp(n,t)}class rd{constructor(){this._=void 0}}function XD(n,t,e){return n instanceof Kc?(function(a,l){const c={fields:{[s1]:{stringValue:i1},[a1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Lp(l)&&(l=nd(l)),l&&(c.fields[r1]=l),{mapValue:c}})(e,t):n instanceof Qc?A1(n,t):n instanceof Wc?w1(n,t):(function(a,l){const c=S1(a,l),h=tE(c)+tE(a.Ae);return ep(c)&&ep(a.Ae)?T1(h):jp(a.serializer,h)})(n,t)}function $D(n,t,e){return n instanceof Qc?A1(n,t):n instanceof Wc?w1(n,t):e}function S1(n,t){return n instanceof Vf?(function(i){return ep(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class Kc extends rd{}class Qc extends rd{constructor(t){super(),this.elements=t}}function A1(n,t){const e=R1(t);for(const i of n.elements)e.some((a=>Wi(a,i)))||e.push(i);return{arrayValue:{values:e}}}class Wc extends rd{constructor(t){super(),this.elements=t}}function w1(n,t){let e=R1(t);for(const i of n.elements)e=e.filter((a=>!Wi(a,i)));return{arrayValue:{values:e}}}class Vf extends rd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function tE(n){return Ee(n.integerValue||n.doubleValue)}function R1(n){return zp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class JD{constructor(t,e){this.field=t,this.transform=e}}function ZD(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof Qc&&a instanceof Qc||i instanceof Wc&&a instanceof Wc?jo(i.elements,a.elements,Wi):i instanceof Vf&&a instanceof Vf?Wi(i.Ae,a.Ae):i instanceof Kc&&a instanceof Kc})(n.transform,t.transform)}class tO{constructor(t,e){this.version=t,this.transformResults=e}}class Ts{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ts}static exists(t){return new Ts(void 0,t)}static updateTime(t){return new Ts(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class ad{}function x1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new I1(n.key,Ts.none()):new cu(n.key,n.data,Ts.none());{const e=n.data,i=Kn.empty();let a=new Ue(Ze.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Na(n.key,i,new fi(a.toArray()),Ts.none())}}function eO(n,t,e){n instanceof cu?(function(a,l,c){const h=a.value.clone(),d=nE(a.fieldTransforms,l,c.transformResults);h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Na?(function(a,l,c){if(!yf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=nE(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(C1(a)),d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,e):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Nc(n,t,e,i){return n instanceof cu?(function(l,c,h,d){if(!yf(l.precondition,c))return h;const m=l.value.clone(),y=iE(l.fieldTransforms,d,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,i):n instanceof Na?(function(l,c,h,d){if(!yf(l.precondition,c))return h;const m=iE(l.fieldTransforms,d,c),y=c.data;return y.setAll(C1(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,t,e,i):(function(l,c,h){return yf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function nO(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),l=S1(i.transform,a||null);l!=null&&(e===null&&(e=Kn.empty()),e.set(i.field,l))}return e||null}function eE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&jo(i,a,((l,c)=>ZD(l,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class cu extends ad{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Na extends ad{constructor(t,e,i,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function C1(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function nE(n,t,e){const i=new Map;Wt(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const l=n[a],c=l.transform,h=t.data.field(l.field);i.set(l.field,$D(c,h,e[a]))}return i}function iE(n,t,e){const i=new Map;for(const a of n){const l=a.transform,c=e.data.field(a.field);i.set(a.field,XD(l,c,t))}return i}class I1 extends ad{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iO extends ad{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sO{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&eO(l,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Nc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Nc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=E1();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=e.has(a.key)?null:h;const d=x1(c,h);d!==null&&i.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Tt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&jo(this.mutations,t.mutations,((e,i)=>eE(e,i)))&&jo(this.baseMutations,t.baseMutations,((e,i)=>eE(e,i)))}}class Fp{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){Wt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return GD})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Fp(t,e,i,a)}}class rO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aO{constructor(t,e){this.count=t,this.unchangedNames=e}}var Me,Ht;function oO(n){switch(n){case J.OK:return Et(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et(15467,{code:n})}}function D1(n){if(n===void 0)return ws("GRPC error has no .code"),J.UNKNOWN;switch(n){case Me.OK:return J.OK;case Me.CANCELLED:return J.CANCELLED;case Me.UNKNOWN:return J.UNKNOWN;case Me.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Me.INTERNAL:return J.INTERNAL;case Me.UNAVAILABLE:return J.UNAVAILABLE;case Me.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Me.NOT_FOUND:return J.NOT_FOUND;case Me.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Me.ABORTED:return J.ABORTED;case Me.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Me.DATA_LOSS:return J.DATA_LOSS;default:return Et(39323,{code:n})}}(Ht=Me||(Me={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function lO(){return new TextEncoder}const cO=new vr([4294967295,4294967295],0);function sE(n){const t=lO().encode(n),e=new qS;return e.update(t),new Uint8Array(e.digest())}function rE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new vr([e,i],0),new vr([a,l],0)]}class qp{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Ec(`Invalid padding: ${e}`);if(i<0)throw new Ec(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=vr.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(vr.fromNumber(i)));return a.compare(cO)===1&&(a=new vr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=sE(t),[i,a]=rE(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new qp(l,a,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=sE(t),[i,a]=rE(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class od{constructor(t,e,i,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,uu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new od(Tt.min(),a,new ge(Pt),Rs(),Lt())}}class uu{constructor(t,e,i,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new uu(i,e,Lt(),Lt(),Lt())}}class _f{constructor(t,e,i,a){this.Se=t,this.removedTargetIds=e,this.key=i,this.De=a}}class O1{constructor(t,e){this.targetId=t,this.Ce=e}}class M1{constructor(t,e,i=tn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class aE{constructor(){this.ve=0,this.Fe=oE(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),e=Lt(),i=Lt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:Et(38017,{changeType:l})}})),new uu(this.Me,this.xe,t,e,i)}Ke(){this.Oe=!1,this.Fe=oE()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class uO{constructor(t){this.Ge=t,this.ze=new Map,this.je=Rs(),this.He=Qh(),this.Je=Qh(),this.Ze=new ge(Pt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(ip(l))if(i===0){const c=new pt(l.path);this.et(e,c,an.newNoDocument(c,Tt.min()))}else Wt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),d=h?this.ct(h,t,c):1;if(d!==0){this.it(e);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=e;let c,h;try{c=Ar(i).toUint8Array()}catch(d){if(d instanceof n1)return xa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new qp(c,a,l)}catch(d){return xa(d instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(h)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&ip(h.target)){const d=new pt(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,an.newNoDocument(d,t))}l.Be&&(e.set(c,l.ke()),l.Ke())}}));let i=Lt();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new od(t,e,this.Ze,this.je,i);return this.je=Rs(),this.He=Qh(),this.Je=Qh(),this.Ze=new ge(Pt),a}Ye(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,i),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new aE,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Ue(Pt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Ue(Pt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new aE),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Qh(){return new ge(pt.comparator)}function oE(){return new ge(pt.comparator)}const hO={asc:"ASCENDING",desc:"DESCENDING"},fO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dO={and:"AND",or:"OR"};class gO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function rp(n,t){return n.useProto3Json||ed(t)?t:{value:t}}function Pf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function N1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function mO(n,t){return Pf(n,t.toTimestamp())}function Yi(n){return Wt(!!n,49232),Tt.fromTimestamp((function(e){const i=Sr(e);return new ue(i.seconds,i.nanos)})(n))}function Gp(n,t){return ap(n,t).canonicalString()}function ap(n,t){const e=(function(a){return new re(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function k1(n){const t=re.fromString(n);return Wt(U1(t),10190,{key:t.toString()}),t}function op(n,t){return Gp(n.databaseId,t.path)}function Dm(n,t){const e=k1(t);if(e.get(1)!==n.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new pt(P1(e))}function V1(n,t){return Gp(n.databaseId,t)}function pO(n){const t=k1(n);return t.length===4?re.emptyPath():P1(t)}function lp(n){return new re(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function P1(n){return Wt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function lE(n,t,e){return{name:op(n,t),fields:e.value.mapValue.fields}}function yO(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Et(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(Wt(y===void 0||typeof y=="string",58123),tn.fromBase64String(y||"")):(Wt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),tn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?J.UNKNOWN:D1(m.code);return new ut(y,m.message||"")})(c);e=new M1(i,a,l,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Dm(n,i.document.name),l=Yi(i.document.updateTime),c=i.document.createTime?Yi(i.document.createTime):Tt.min(),h=new Kn({mapValue:{fields:i.document.fields}}),d=an.newFoundDocument(a,l,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];e=new _f(m,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Dm(n,i.document),l=i.readTime?Yi(i.readTime):Tt.min(),c=an.newNoDocument(a,l),h=i.removedTargetIds||[];e=new _f([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Dm(n,i.document),l=i.removedTargetIds||[];e=new _f([],l,a,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new aO(a,l),h=i.targetId;e=new O1(h,c)}}return e}function _O(n,t){let e;if(t instanceof cu)e={update:lE(n,t.key,t.value)};else if(t instanceof I1)e={delete:op(n,t.key)};else if(t instanceof Na)e={update:lE(n,t.key,t.data),updateMask:xO(t.fieldMask)};else{if(!(t instanceof iO))return Et(16599,{dt:t.type});e={verify:op(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(l,c){const h=c.transform;if(h instanceof Kc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Qc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Wc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Vf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Et(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:mO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Et(27497)})(n,t.precondition)),e}function vO(n,t){return n&&n.length>0?(Wt(t!==void 0,14353),n.map((e=>(function(a,l){let c=a.updateTime?Yi(a.updateTime):Yi(l);return c.isEqual(Tt.min())&&(c=Yi(l)),new tO(c,a.transformResults||[])})(e,t)))):[]}function bO(n,t){return{documents:[V1(n,t.path)]}}function EO(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=V1(n,a);const l=(function(m){if(m.length!==0)return z1(pi.create(m,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((y=>(function(T){return{field:Oo(T.field),direction:AO(T.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=rp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:a}}function TO(n){let t=pO(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){Wt(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(v){const T=L1(v);return T instanceof pi&&f1(T)?T.getFilters():[T]})(e.where));let c=[];e.orderBy&&(c=(function(v){return v.map((T=>(function(D){return new Yc(Mo(D.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let T;return T=typeof v=="object"?v.value:v,ed(T)?null:T})(e.limit));let d=null;e.startAt&&(d=(function(v){const T=!!v.before,A=v.values||[];return new Nf(A,T)})(e.startAt));let m=null;return e.endAt&&(m=(function(v){const T=!v.before,A=v.values||[];return new Nf(A,T)})(e.endAt)),zD(t,a,c,l,h,"F",d,m)}function SO(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function L1(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Mo(e.unaryFilter.field);return Ne.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Mo(e.unaryFilter.field);return Ne.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Mo(e.unaryFilter.field);return Ne.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Mo(e.unaryFilter.field);return Ne.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ne.create(Mo(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return pi.create(e.compositeFilter.filters.map((i=>L1(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(e.compositeFilter.op))})(n):Et(30097,{filter:n})}function AO(n){return hO[n]}function wO(n){return fO[n]}function RO(n){return dO[n]}function Oo(n){return{fieldPath:n.canonicalString()}}function Mo(n){return Ze.fromServerFormat(n.fieldPath)}function z1(n){return n instanceof Ne?(function(e){if(e.op==="=="){if(Wb(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NAN"}};if(Qb(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Wb(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NAN"}};if(Qb(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(e.field),op:wO(e.op),value:e.value}}})(n):n instanceof pi?(function(e){const i=e.getFilters().map((a=>z1(a)));return i.length===1?i[0]:{compositeFilter:{op:RO(e.op),filters:i}}})(n):Et(54877,{filter:n})}function xO(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function U1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function B1(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class dr{constructor(t,e,i,a,l=Tt.min(),c=Tt.min(),h=tn.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class CO{constructor(t){this.yt=t}}function IO(n){const t=TO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?kf(t,t.limit,"L"):t}class DO{constructor(){this.Sn=new OO}addToCollectionParentIndex(t,e){return this.Sn.add(e),Z.resolve()}getCollectionParents(t,e){return Z.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return Z.resolve()}deleteFieldIndex(t,e){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,e){return Z.resolve()}getDocumentsMatchingTarget(t,e){return Z.resolve(null)}getIndexType(t,e){return Z.resolve(0)}getFieldIndexes(t,e){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,e){return Z.resolve(Tr.min())}getMinOffsetFromCollectionGroup(t,e){return Z.resolve(Tr.min())}updateCollectionGroup(t,e,i){return Z.resolve()}updateIndexEntries(t,e){return Z.resolve()}}class OO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new Ue(re.comparator),l=!a.has(i);return this.index[e]=a.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new Ue(re.comparator)).toArray()}}const cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H1=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(H1,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class Go{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Go(0)}static ar(){return new Go(-1)}}const uE="LruGarbageCollector",MO=1048576;function hE([n,t],[e,i]){const a=Pt(n,e);return a===0?Pt(t,i):a}class NO{constructor(t){this.Pr=t,this.buffer=new Ue(hE),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();hE(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class kO{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ht(uE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){el(e)?ht(uE,"Ignoring IndexedDB error during garbage collection: ",e):await tl(e)}await this.Ar(3e5)}))}}class VO{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return Z.resolve(td.ce);const i=new NO(e);return this.Vr.forEachTarget(t,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(cE)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cE):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let i,a,l,c,h,d,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(t,i,e)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(m=Date.now(),Io()<=Vt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function PO(n,t){return new VO(n,t)}class LO{constructor(){this.changes=new Ma((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?Z.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class zO{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class UO{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&Nc(i.mutation,a,fi.empty(),ue.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Lt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Lt()){const a=pa();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((l=>{let c=bc();return l.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=pa();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Lt())))}populateOverlays(t,e,i){const a=[];return i.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,a){let l=Rs();const c=Mc(),h=(function(){return Mc()})();return e.forEach(((d,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Na)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Nc(y.mutation,m,y.mutation.getFieldMask(),ue.now())):c.set(m.key,fi.empty())})),this.recalculateAndSaveOverlays(t,l).next((d=>(d.forEach(((m,y)=>c.set(m,y))),e.forEach(((m,y)=>h.set(m,new zO(y,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Mc();let a=new ge(((c,h)=>c-h)),l=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=e.get(d);if(m===null)return;let y=i.get(d)||fi.empty();y=h.applyToLocalView(m,y),i.set(d,y);const v=(a.get(h.batchId)||Lt()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,v=E1();y.forEach((T=>{if(!l.has(T)){const A=x1(e.get(T),i.get(T));A!==null&&v.set(T,A),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,v))}return Z.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return UD(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):p1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-l.size):Z.resolve(pa());let h=jc,d=l;return c.next((m=>Z.forEach(m,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?Z.resolve():this.remoteDocumentCache.getEntry(t,y).next((T=>{d=d.insert(y,T)}))))).next((()=>this.populateOverlays(t,m,l))).next((()=>this.computeViews(t,d,m,Lt()))).next((y=>({batchId:h,changes:b1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new pt(e)).next((i=>{let a=bc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const l=e.collectionGroup;let c=bc();return this.indexManager.getCollectionParents(t,l).next((h=>Z.forEach(h,(d=>{const m=(function(v,T){return new nl(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,d.child(l));return this.getDocumentsMatchingCollectionQuery(t,m,i,a).next((y=>{y.forEach(((v,T)=>{c=c.insert(v,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,l,a)))).next((c=>{l.forEach(((d,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,an.newInvalidDocument(y)))}));let h=bc();return c.forEach(((d,m)=>{const y=l.get(d);y!==void 0&&Nc(y.mutation,m,fi.empty(),ue.now()),sd(e,m)&&(h=h.insert(d,m))})),h}))}}class BO{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return Z.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Yi(a.createTime)}})(e)),Z.resolve()}getNamedQuery(t,e){return Z.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:IO(a.bundledQuery),readTime:Yi(a.readTime)}})(e)),Z.resolve()}}class HO{constructor(){this.overlays=new ge(pt.comparator),this.Lr=new Map}getOverlay(t,e){return Z.resolve(this.overlays.get(e))}getOverlays(t,e){const i=pa();return Z.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,l)=>{this.bt(t,e,l)})),Z.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),Z.resolve()}getOverlaysForCollection(t,e,i){const a=pa(),l=e.length+1,c=new pt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>i&&a.set(d.getKey(),d)}return Z.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let l=new ge(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=pa(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=pa(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return Z.resolve(h)}bt(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new rO(e,i));let l=this.Lr.get(e);l===void 0&&(l=Lt(),this.Lr.set(e,l)),this.Lr.set(e,l.add(i.key))}}class jO{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Z.resolve()}}class Yp{constructor(){this.kr=new Ue(Fe.Kr),this.qr=new Ue(Fe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const i=new Fe(t,e);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Wr(new Fe(t,e))}Qr(t,e){t.forEach((i=>this.removeReference(i,e)))}Gr(t){const e=new pt(new re([])),i=new Fe(e,t),a=new Fe(e,t+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new pt(new re([])),i=new Fe(e,t),a=new Fe(e,t+1);let l=Lt();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const e=new Fe(t,0),i=this.kr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Fe{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return pt.comparator(t.key,e.key)||Pt(t.Hr,e.Hr)}static Ur(t,e){return Pt(t.Hr,e.Hr)||pt.comparator(t.key,e.key)}}class FO{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Ue(Fe.Kr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sO(l,e,i,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new Fe(h.key,l)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(t,e){return Z.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.Xr(i),l=a<0?0:a;return Z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Pp:this.Yn-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Fe(e,0),a=new Fe(e,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),Z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ue(Pt);return e.forEach((a=>{const l=new Fe(a,0),c=new Fe(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{i=i.add(h.Hr)}))})),Z.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let l=i;pt.isDocumentKey(l)||(l=l.child(""));const c=new Fe(new pt(l),0);let h=new Ue(Pt);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),c),Z.resolve(this.Yr(h))}Yr(t){const e=[];return t.forEach((i=>{const a=this.Zr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){Wt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return Z.forEach(e.mutations,(a=>{const l=new Fe(a.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,e){const i=new Fe(e,0),a=this.Jr.firstAfterOrEqual(i);return Z.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class qO{constructor(t){this.ti=t,this.docs=(function(){return new ge(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Z.resolve(i?i.document.mutableCopy():an.newInvalidDocument(e))}getEntries(t,e){let i=Rs();return e.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():an.newInvalidDocument(a))})),Z.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let l=Rs();const c=e.path,h=new pt(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||mD(gD(y),i)<=0||(a.has(y.key)||sd(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return Z.resolve(l)}getAllFromCollectionGroup(t,e,i,a){Et(9500)}ni(t,e){return Z.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new GO(this)}getSize(t){return Z.resolve(this.size)}}class GO extends LO{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(i)})),Z.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class YO{constructor(t){this.persistence=t,this.ri=new Ma((e=>Up(e)),Bp),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new Yp,this.targetCount=0,this.oi=Go._r()}forEachTarget(t,e){return this.ri.forEach(((i,a)=>e(a))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ii&&(this.ii=e),Z.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Go(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,Z.resolve()}updateTargetData(t,e){return this.lr(e),Z.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,e,i){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),Z.waitFor(l).next((()=>a))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,e){const i=this.ri.get(e)||null;return Z.resolve(i)}addMatchingKeys(t,e,i){return this.si.$r(e,i),Z.resolve()}removeMatchingKeys(t,e,i){this.si.Qr(e,i);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),Z.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),Z.resolve()}getMatchingKeysForTargetId(t,e){const i=this.si.jr(e);return Z.resolve(i)}containsKey(t,e){return Z.resolve(this.si.containsKey(e))}}class j1{constructor(t,e){this._i={},this.overlays={},this.ai=new td(0),this.ui=!1,this.ui=!0,this.ci=new jO,this.referenceDelegate=t(this),this.li=new YO(this),this.indexManager=new DO,this.remoteDocumentCache=(function(a){return new qO(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new CO(e),this.Pi=new BO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new HO,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this._i[t.toKey()];return i||(i=new FO(e,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,i){ht("MemoryPersistence","Starting transaction:",t);const a=new KO(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,e){return Z.or(Object.values(this._i).map((i=>()=>i.containsKey(t,e))))}}class KO extends yD{constructor(t){super(),this.currentSequenceNumber=t}}class Kp{constructor(t){this.persistence=t,this.Ri=new Yp,this.Ai=null}static Vi(t){return new Kp(t)}get di(){if(this.Ai)return this.Ai;throw Et(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.di.delete(i.toString()),Z.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.di.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),Z.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(i=>{const a=pt.fromPath(i);return this.mi(t,a).next((l=>{l||e.removeEntry(a,Tt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return Z.or([()=>Z.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Lf{constructor(t,e){this.persistence=t,this.fi=new Ma((i=>bD(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=PO(this,e)}static Vi(t,e){return new Lf(t,e)}Ti(){}Ii(t){return Z.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}mr(t,e){return Z.forEach(this.fi,((i,a)=>this.wr(t,i,a).next((l=>l?Z.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(c=>this.wr(t,c,e).next((h=>{h||(i++,l.removeEntry(c,Tt.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),Z.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),Z.resolve()}removeReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),Z.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=mf(t.data.value)),e}wr(t,e,i){return Z.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return Z.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Qp{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Ts=i,this.Is=a}static Es(t,e){let i=Lt(),a=Lt();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Qp(t,e.fromCache,i,a)}}class QO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class WO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return bx()?8:_D(ln())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const l={result:null};return this.gs(t,e).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(t,e,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new QO;return this.ys(t,e,c).next((h=>{if(l.result=h,this.As)return this.ws(t,e,c,h.size)}))})).next((()=>l.result))}ws(t,e,i,a){return i.documentReadCount<this.Vs?(Io()<=Vt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Do(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Io()<=Vt.DEBUG&&ht("QueryEngine","Query:",Do(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Io()<=Vt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Do(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Gi(e))):Z.resolve())}gs(t,e){if(Zb(e))return Z.resolve(null);let i=Gi(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=kf(e,null,"F"),i=Gi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const c=Lt(...l);return this.fs.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((d=>{const m=this.bs(e,h);return this.Ss(e,m,c,d.readTime)?this.gs(t,kf(e,null,"F")):this.Ds(t,m,e,d)}))))})))))}ps(t,e,i,a){return Zb(e)||a.isEqual(Tt.min())?Z.resolve(null):this.fs.getDocuments(t,i).next((l=>{const c=this.bs(e,l);return this.Ss(e,c,i,a)?Z.resolve(null):(Io()<=Vt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Do(e)),this.Ds(t,c,e,dD(a,jc)).next((h=>h)))}))}bs(t,e){let i=new Ue(_1(t));return e.forEach(((a,l)=>{sd(t,l)&&(i=i.add(l))})),i}Ss(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,e,i){return Io()<=Vt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Do(e)),this.fs.getDocumentsMatchingQuery(t,e,Tr.min(),i)}Ds(t,e,i,a){return this.fs.getDocumentsMatchingQuery(t,i,a).next((l=>(e.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Wp="LocalStore",XO=3e8;class $O{constructor(t,e,i,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new ge(Pt),this.Fs=new Ma((l=>Up(l)),Bp),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new UO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function JO(n,t,e,i){return new $O(n,t,e,i)}async function F1(n,t){const e=At(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,e.Os(t),e.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],h=[];let d=Lt();for(const m of a){c.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of l){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return e.localDocuments.getDocuments(i,d).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function ZO(n,t){const e=At(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),l=e.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,y){const v=m.batch,T=v.keys();let A=Z.resolve();return T.forEach((D=>{A=A.next((()=>y.getEntry(d,D))).next((N=>{const I=m.docVersions.get(D);Wt(I!==null,48541),N.version.compareTo(I)<0&&(v.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),y.addEntry(N)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(e,i,t,l).next((()=>l.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Lt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function q1(n){const t=At(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function tM(n,t){const e=At(n),i=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const h=[];t.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;h.push(e.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>e.li.addMatchingKeys(l,y.addedDocuments,v))));let A=T.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?A=A.withResumeToken(tn.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),a=a.insert(v,A),(function(N,I,j){return N.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=XO?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(T,A,y)&&h.push(e.li.updateTargetData(l,A))}));let d=Rs(),m=Lt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(eM(l,c,t.documentUpdates).next((y=>{d=y.Bs,m=y.Ls}))),!i.isEqual(Tt.min())){const y=e.li.getLastRemoteSnapshotVersion(l).next((v=>e.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(y)}return Z.waitFor(h).next((()=>c.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(e.vs=a,l)))}function eM(n,t,e){let i=Lt(),a=Lt();return e.forEach((l=>i=i.add(l))),t.getEntries(n,i).next((l=>{let c=Rs();return e.forEach(((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Tt.min())?(t.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(d),c=c.insert(h,d)):ht(Wp,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:c,Ls:a}}))}function nM(n,t){const e=At(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Pp),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function iM(n,t){const e=At(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.li.getTargetData(i,t).next((l=>l?(a=l,Z.resolve(a)):e.li.allocateTargetId(i).next((c=>(a=new dr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(i.targetId,i),e.Fs.set(t,i.targetId)),i}))}async function cp(n,t,e){const i=At(n),a=i.vs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!el(c))throw c;ht(Wp,`Failed to update sequence numbers for target ${t}: ${c}`)}i.vs=i.vs.remove(t),i.Fs.delete(a.target)}function fE(n,t,e){const i=At(n);let a=Tt.min(),l=Lt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,y){const v=At(d),T=v.Fs.get(y);return T!==void 0?Z.resolve(v.vs.get(T)):v.li.getTargetData(m,y)})(i,c,Gi(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{l=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,t,e?a:Tt.min(),e?l:Lt()))).next((h=>(sM(i,jD(t),h),{documents:h,ks:l})))))}function sM(n,t,e){let i=n.Ms.get(t)||Tt.min();e.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Ms.set(t,i)}class dE{constructor(){this.activeTargetIds=QD()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class rM{constructor(){this.vo=new dE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,i){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new dE,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class aM{Mo(t){}shutdown(){}}const gE="ConnectivityMonitor";class mE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ht(gE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ht(gE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wh=null;function up(){return Wh===null?Wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wh++,"0x"+Wh.toString(16)}const Om="RestConnection",oM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class lM{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Of?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(t,e,i,a,l){const c=up(),h=this.Qo(t,e.toUriEncodedString());ht(Om,`Sending RPC '${t}' ${c}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:m}=new URL(h),y=Xo(m);return this.zo(t,h,d,i,y).then((v=>(ht(Om,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw xa(Om,`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",i),v}))}jo(t,e,i,a,l,c){return this.Wo(t,e,i,a,l)}Go(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),i&&i.headers.forEach(((a,l)=>t[l]=a))}Qo(t,e){const i=oM[t];let a=`${this.qo}/v1/${e}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class cM{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const nn="WebChannelConnection",hc=(n,t,e)=>{n.listen(t,(i=>{try{e(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Lo extends lM{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Lo.c_){const t=QS();hc(t,KS.STAT_EVENT,(e=>{e.stat===Jm.PROXY?ht(nn,"STAT_EVENT: detected buffering proxy"):e.stat===Jm.NOPROXY&&ht(nn,"STAT_EVENT: detected no buffering proxy")})),Lo.c_=!0}}zo(t,e,i,a,l){const c=up();return new Promise(((h,d)=>{const m=new GS;m.setWithCredentials(!0),m.listenOnce(YS.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case gf.NO_ERROR:const v=m.getResponseJson();ht(nn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),h(v);break;case gf.TIMEOUT:ht(nn,`RPC '${t}' ${c} timed out`),d(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const T=m.getStatus();if(ht(nn,`RPC '${t}' ${c} failed with status:`,T,"response text:",m.getResponseText()),T>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const N=(function(j){const tt=j.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(tt)>=0?tt:J.UNKNOWN})(D.status);d(new ut(N,D.message))}else d(new ut(J.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ut(J.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ht(nn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ht(nn,`RPC '${t}' ${c} sending request:`,a),m.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=up(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const m=l.join("");ht(nn,`Creating RPC '${t}' stream ${a}: ${m}`,h);const y=c.createWebChannel(m,h);this.I_(y);let v=!1,T=!1;const A=new cM({Ho:D=>{T?ht(nn,`Not sending because RPC '${t}' stream ${a} is closed:`,D):(v||(ht(nn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),v=!0),ht(nn,`RPC '${t}' stream ${a} sending:`,D),y.send(D))},Jo:()=>y.close()});return hc(y,vc.EventType.OPEN,(()=>{T||(ht(nn,`RPC '${t}' stream ${a} transport opened.`),A.i_())})),hc(y,vc.EventType.CLOSE,(()=>{T||(T=!0,ht(nn,`RPC '${t}' stream ${a} transport closed`),A.o_(),this.E_(y))})),hc(y,vc.EventType.ERROR,(D=>{T||(T=!0,xa(nn,`RPC '${t}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),A.o_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),hc(y,vc.EventType.MESSAGE,(D=>{if(!T){const N=D.data[0];Wt(!!N,16349);const I=N,j=I?.error||I[0]?.error;if(j){ht(nn,`RPC '${t}' stream ${a} received error:`,j);const tt=j.status;let et=(function(rt){const x=Me[rt];if(x!==void 0)return D1(x)})(tt),it=j.message;tt==="NOT_FOUND"&&it.includes("database")&&it.includes("does not exist")&&it.includes(this.databaseId.database)&&xa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),et===void 0&&(et=J.INTERNAL,it="Unknown error status: "+tt+" with message "+j.message),T=!0,A.o_(new ut(et,it)),y.close()}else ht(nn,`RPC '${t}' stream ${a} received:`,N),A.__(N)}})),Lo.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,i){super.Go(t,e,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return WS()}}function uM(n){return new Lo(n)}function Mm(){return typeof document<"u"?document:null}function ld(n){return new gO(n,!0)}Lo.c_=!1;class G1{constructor(t,e,i=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=e,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const pE="PersistentStream";class Y1{constructor(t,e,i,a,l,c,h,d){this.Ci=t,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G1(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===J.RESOURCE_EXHAUSTED?(ws(e.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new ut(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(pE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ht(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hM extends Y1{constructor(t,e,i,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,c),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=yO(this.serializer,t),i=(function(l){if(!("targetChange"in l))return Tt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Tt.min():c.readTime?Yi(c.readTime):Tt.min()})(t);return this.listener.J_(e,i)}Z_(t){const e={};e.database=lp(this.serializer),e.addTarget=(function(l,c){let h;const d=c.target;if(h=ip(d)?{documents:bO(l,d)}:{query:EO(l,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=N1(l,c.resumeToken);const m=rp(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Tt.min())>0){h.readTime=Pf(l,c.snapshotVersion.toTimestamp());const m=rp(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const i=SO(this.serializer,t);i&&(e.labels=i),this.K_(e)}X_(t){const e={};e.database=lp(this.serializer),e.removeTarget=t,this.K_(e)}}class fM extends Y1{constructor(t,e,i,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=vO(t.writeResults,t.commitTime),i=Yi(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=lp(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>_O(this.serializer,i)))};this.K_(e)}}class dM{}class gM extends dM{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,ap(e,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ut(J.UNKNOWN,l.toString())}))}jo(t,e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(t,ap(e,i),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function mM(n,t,e,i){return new gM(n,t,e,i)}class pM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(e),this.aa=!1):ht("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ca="RemoteStore";class yM{constructor(t,e,i,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{ka(this)&&(ht(Ca,"Restarting streams for network reachability change."),await(async function(d){const m=At(d);m.Ea.add(4),await hu(m),m.Va.set("Unknown"),m.Ea.delete(4),await cd(m)})(this))}))})),this.Va=new pM(i,a)}}async function cd(n){if(ka(n))for(const t of n.Ra)await t(!0)}async function hu(n){for(const t of n.Ra)await t(!1)}function K1(n,t){const e=At(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Zp(e)?Jp(e):il(e).O_()&&$p(e,t))}function Xp(n,t){const e=At(n),i=il(e);e.Ia.delete(t),i.O_()&&Q1(e,t),e.Ia.size===0&&(i.O_()?i.L_():ka(e)&&e.Va.set("Unknown"))}function $p(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}il(n).Z_(t)}function Q1(n,t){n.da.$e(t),il(n).X_(t)}function Jp(n){n.da=new uO({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),il(n).start(),n.Va.ua()}function Zp(n){return ka(n)&&!il(n).x_()&&n.Ia.size>0}function ka(n){return At(n).Ea.size===0}function W1(n){n.da=void 0}async function _M(n){n.Va.set("Online")}async function vM(n){n.Ia.forEach(((t,e)=>{$p(n,t)}))}async function bM(n,t){W1(n),Zp(n)?(n.Va.ha(t),Jp(n)):n.Va.set("Unknown")}async function EM(n,t,e){if(n.Va.set("Online"),t instanceof M1&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(n,t)}catch(i){ht(Ca,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await zf(n,i)}else if(t instanceof _f?n.da.Xe(t):t instanceof O1?n.da.st(t):n.da.tt(t),!e.isEqual(Tt.min()))try{const i=await q1(n.localStore);e.compareTo(i)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(tn.EMPTY_BYTE_STRING,y.snapshotVersion)),Q1(l,d);const v=new dr(y.target,d,m,y.sequenceNumber);$p(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ht(Ca,"Failed to raise snapshot:",i),await zf(n,i)}}async function zf(n,t,e){if(!el(t))throw t;n.Ea.add(1),await hu(n),n.Va.set("Offline"),e||(e=()=>q1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ht(Ca,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await cd(n)}))}function X1(n,t){return t().catch((e=>zf(n,e,t)))}async function ud(n){const t=At(n),e=Rr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pp;for(;TM(t);)try{const a=await nM(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,SM(t,a)}catch(a){await zf(t,a)}$1(t)&&J1(t)}function TM(n){return ka(n)&&n.Ta.length<10}function SM(n,t){n.Ta.push(t);const e=Rr(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function $1(n){return ka(n)&&!Rr(n).x_()&&n.Ta.length>0}function J1(n){Rr(n).start()}async function AM(n){Rr(n).ra()}async function wM(n){const t=Rr(n);for(const e of n.Ta)t.ea(e.mutations)}async function RM(n,t,e){const i=n.Ta.shift(),a=Fp.from(i,t,e);await X1(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await ud(n)}async function xM(n,t){t&&Rr(n).Y_&&await(async function(i,a){if((function(c){return oO(c)&&c!==J.ABORTED})(a.code)){const l=i.Ta.shift();Rr(i).B_(),await X1(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await ud(i)}})(n,t),$1(n)&&J1(n)}async function yE(n,t){const e=At(n);e.asyncQueue.verifyOperationInProgress(),ht(Ca,"RemoteStore received new credentials");const i=ka(e);e.Ea.add(3),await hu(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await cd(e)}async function CM(n,t){const e=At(n);t?(e.Ea.delete(2),await cd(e)):t||(e.Ea.add(2),await hu(e),e.Va.set("Unknown"))}function il(n){return n.ma||(n.ma=(function(e,i,a){const l=At(e);return l.sa(),new hM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:_M.bind(null,n),Yo:vM.bind(null,n),t_:bM.bind(null,n),J_:EM.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),Zp(n)?Jp(n):n.Va.set("Unknown")):(await n.ma.stop(),W1(n))}))),n.ma}function Rr(n){return n.fa||(n.fa=(function(e,i,a){const l=At(e);return l.sa(),new fM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:AM.bind(null,n),t_:xM.bind(null,n),ta:wM.bind(null,n),na:RM.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await ud(n)):(await n.fa.stop(),n.Ta.length>0&&(ht(Ca,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class ty{constructor(t,e,i,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,l){const c=Date.now()+i,h=new ty(t,e,c,a,l);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ey(n,t){if(ws("AsyncQueue",`${t}: ${n}`),el(n))return new ut(J.UNAVAILABLE,`${t}: ${n}`);throw n}class zo{static emptySet(t){return new zo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||pt.comparator(e.key,i.key):(e,i)=>pt.comparator(e.key,i.key),this.keyedMap=bc(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof zo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new zo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class _E{constructor(){this.ga=new ge(pt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Et(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Yo{constructor(t,e,i,a,l,c,h,d,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,a,l){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new Yo(t,e,zo.emptySet(e),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&id(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class IM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class DM{constructor(){this.queries=vE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=At(e),l=a.queries;a.queries=vE(),l.forEach(((c,h)=>{for(const d of h.ba)d.onError(i)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function vE(){return new Ma((n=>y1(n)),id)}async function OM(n,t){const e=At(n);let i=3;const a=t.query;let l=e.queries.get(a);l?!l.Sa()&&t.Da()&&(i=2):(l=new IM,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const h=ey(c,`Initialization of query '${Do(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,l),l.ba.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&ny(e)}async function MM(n,t){const e=At(n),i=t.query;let a=3;const l=e.queries.get(i);if(l){const c=l.ba.indexOf(t);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function NM(n,t){const e=At(n);let i=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(i=!0);c.wa=a}}i&&ny(e)}function kM(n,t,e){const i=At(n),a=i.queries.get(t);if(a)for(const l of a.ba)l.onError(e);i.queries.delete(t)}function ny(n){n.Ca.forEach((t=>{t.next()}))}var hp,bE;(bE=hp||(hp={})).Ma="default",bE.Cache="cache";class VM{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Yo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hp.Cache}}class Z1{constructor(t){this.key=t}}class tA{constructor(t){this.key=t}}class PM{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.eu=_1(t),this.tu=new zo(this.eu)}get nu(){return this.Za}ru(t,e){const i=e?e.iu:new _E,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const T=a.get(y),A=sd(this.query,v)?v:null,D=!!T&&this.mutatedKeys.has(T.key),N=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;T&&A?T.data.isEqual(A.data)?D!==N&&(i.track({type:3,doc:A}),I=!0):this.su(T,A)||(i.track({type:2,doc:A}),I=!0,(d&&this.eu(A,d)>0||m&&this.eu(A,m)<0)&&(h=!0)):!T&&A?(i.track({type:0,doc:A}),I=!0):T&&!A&&(i.track({type:1,doc:T}),I=!0,(d||m)&&(h=!0)),I&&(A?(c=c.add(A),l=N?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Ss:h,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(A,D){const N=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:I})}};return N(A)-N(D)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,c.length!==0||m?{snapshot:new Yo(this.query,t.tu,l,c,t.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _E,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const e=[];return t.forEach((i=>{this.Ya.has(i)||e.push(new tA(i))})),this.Ya.forEach((i=>{t.has(i)||e.push(new Z1(i))})),e}cu(t){this.Za=t.ks,this.Ya=Lt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const iy="SyncEngine";class LM{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class zM{constructor(t){this.key=t,this.hu=!1}}class UM{constructor(t,e,i,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ma((h=>y1(h)),id),this.Iu=new Map,this.Eu=new Set,this.Ru=new ge(pt.comparator),this.Au=new Map,this.Vu=new Yp,this.du={},this.mu=new Map,this.fu=Go.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BM(n,t,e=!0){const i=aA(n);let a;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await eA(i,t,e,!0),a}async function HM(n,t){const e=aA(n);await eA(e,t,!0,!1)}async function eA(n,t,e,i){const a=await iM(n.localStore,Gi(t)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,e);let h;return i&&(h=await jM(n,t,l,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&K1(n.remoteStore,a),h}async function jM(n,t,e,i,a){n.pu=(v,T,A)=>(async function(N,I,j,tt){let et=I.view.ru(j);et.Ss&&(et=await fE(N.localStore,I.query,!1).then((({documents:x})=>I.view.ru(x,et))));const it=tt&&tt.targetChanges.get(I.targetId),nt=tt&&tt.targetMismatches.get(I.targetId)!=null,rt=I.view.applyChanges(et,N.isPrimaryClient,it,nt);return TE(N,I.targetId,rt.au),rt.snapshot})(n,v,T,A);const l=await fE(n.localStore,t,!0),c=new PM(t,l.ks),h=c.ru(l.documents),d=uu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),m=c.applyChanges(h,n.isPrimaryClient,d);TE(n,e,m.au);const y=new LM(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function FM(n,t,e){const i=At(n),a=i.Tu.get(t),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!id(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await cp(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&Xp(i.remoteStore,a.targetId),fp(i,a.targetId)})).catch(tl)):(fp(i,a.targetId),await cp(i.localStore,a.targetId,!0))}async function qM(n,t){const e=At(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Xp(e.remoteStore,i.targetId))}async function GM(n,t,e){const i=JM(n);try{const a=await(function(c,h){const d=At(c),m=ue.now(),y=h.reduce(((A,D)=>A.add(D.key)),Lt());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=Rs(),N=Lt();return d.xs.getEntries(A,y).next((I=>{D=I,D.forEach(((j,tt)=>{tt.isValidDocument()||(N=N.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,D))).next((I=>{v=I;const j=[];for(const tt of h){const et=nO(tt,v.get(tt.key).overlayedDocument);et!=null&&j.push(new Na(tt.key,et,c1(et.value.mapValue),Ts.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,j,h)})).next((I=>{T=I;const j=I.applyToLocalDocumentSet(v,N);return d.documentOverlayCache.saveOverlays(A,I.batchId,j)}))})).then((()=>({batchId:T.batchId,changes:b1(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.du[c.currentUser.toKey()];m||(m=new ge(Pt)),m=m.insert(h,d),c.du[c.currentUser.toKey()]=m})(i,a.batchId,e),await fu(i,a.changes),await ud(i.remoteStore)}catch(a){const l=ey(a,"Failed to persist write");e.reject(l)}}async function nA(n,t){const e=At(n);try{const i=await tM(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=e.Au.get(l);c&&(Wt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Wt(c.hu,14607):a.removedDocuments.size>0&&(Wt(c.hu,42227),c.hu=!1))})),await fu(e,i,t)}catch(i){await tl(i)}}function EE(n,t,e){const i=At(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((l,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=At(c);d.onlineState=h;let m=!1;d.queries.forEach(((y,v)=>{for(const T of v.ba)T.va(h)&&(m=!0)})),m&&ny(d)})(i.eventManager,t),a.length&&i.Pu.J_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function YM(n,t,e){const i=At(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),l=a&&a.key;if(l){let c=new ge(pt.comparator);c=c.insert(l,an.newNoDocument(l,Tt.min()));const h=Lt().add(l),d=new od(Tt.min(),new Map,new ge(Pt),c,h);await nA(i,d),i.Ru=i.Ru.remove(l),i.Au.delete(t),sy(i)}else await cp(i.localStore,t,!1).then((()=>fp(i,t,e))).catch(tl)}async function KM(n,t){const e=At(n),i=t.batch.batchId;try{const a=await ZO(e.localStore,t);sA(e,i,null),iA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await fu(e,a)}catch(a){await tl(a)}}async function QM(n,t,e){const i=At(n);try{const a=await(function(c,h){const d=At(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next((v=>(Wt(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(m,v)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>d.localDocuments.getDocuments(m,y)))}))})(i.localStore,t);sA(i,t,e),iA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await fu(i,a)}catch(a){await tl(a)}}function iA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function sA(n,t,e){const i=At(n);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),i.du[i.currentUser.toKey()]=a}}function fp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((i=>{n.Vu.containsKey(i)||rA(n,i)}))}function rA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(Xp(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),sy(n))}function TE(n,t,e){for(const i of e)i instanceof Z1?(n.Vu.addReference(i.key,t),WM(n,i)):i instanceof tA?(ht(iy,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,t),n.Vu.containsKey(i.key)||rA(n,i.key)):Et(19791,{wu:i})}function WM(n,t){const e=t.key,i=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(i)||(ht(iy,"New document in limbo: "+e),n.Eu.add(i),sy(n))}function sy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new pt(re.fromString(t)),i=n.fu.next();n.Au.set(i,new zM(e)),n.Ru=n.Ru.insert(e,i),K1(n.remoteStore,new dr(Gi(Hp(e.path)),i,"TargetPurposeLimboResolution",td.ce))}}async function fu(n,t,e){const i=At(n),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{c.push(i.pu(d,t,e).then((m=>{if((m||e)&&i.isPrimaryClient){const y=m?!m.fromCache:e?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(m){a.push(m);const y=Qp.Es(d.targetId,m);l.push(y)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(d,m){const y=At(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>Z.forEach(m,(T=>Z.forEach(T.Ts,(A=>y.persistence.referenceDelegate.addReference(v,T.targetId,A))).next((()=>Z.forEach(T.Is,(A=>y.persistence.referenceDelegate.removeReference(v,T.targetId,A)))))))))}catch(v){if(!el(v))throw v;ht(Wp,"Failed to update sequence numbers: "+v)}for(const v of m){const T=v.targetId;if(!v.fromCache){const A=y.vs.get(T),D=A.snapshotVersion,N=A.withLastLimboFreeSnapshotVersion(D);y.vs=y.vs.insert(T,N)}}})(i.localStore,l))}async function XM(n,t){const e=At(n);if(!e.currentUser.isEqual(t)){ht(iy,"User change. New user:",t.toKey());const i=await F1(e.localStore,t);e.currentUser=t,(function(l,c){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new ut(J.CANCELLED,c))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await fu(e,i.Ns)}}function $M(n,t){const e=At(n),i=e.Au.get(t);if(i&&i.hu)return Lt().add(i.key);{let a=Lt();const l=e.Iu.get(t);if(!l)return a;for(const c of l){const h=e.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function aA(n){const t=At(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=nA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$M.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YM.bind(null,t),t.Pu.J_=NM.bind(null,t.eventManager),t.Pu.yu=kM.bind(null,t.eventManager),t}function JM(n){const t=At(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=KM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QM.bind(null,t),t}class Uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ld(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return JO(this.persistence,new WO,t.initialUser,this.serializer)}Cu(t){return new j1(Kp.Vi,this.serializer)}Du(t){return new rM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uf.provider={build:()=>new Uf};class ZM extends Uf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Wt(this.persistence.referenceDelegate instanceof Lf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new kO(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new j1((i=>Lf.Vi(i,e)),this.serializer)}}class dp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>EE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=XM.bind(null,this.syncEngine),await CM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new DM})()}createDatastore(t){const e=ld(t.databaseInfo.databaseId),i=uM(t.databaseInfo);return mM(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,l,c,h){return new yM(i,a,l,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>EE(this.syncEngine,e,0)),(function(){return mE.v()?new mE:new aM})())}createSyncEngine(t,e){return(function(a,l,c,h,d,m,y){const v=new UM(a,l,c,h,d,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=At(e);ht(Ca,"RemoteStore shutting down."),i.Ea.add(5),await hu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dp.provider={build:()=>new dp};class tN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ws("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const xr="FirestoreClient";class eN{constructor(t,e,i,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this._databaseInfo=a,this.user=rn.UNAUTHENTICATED,this.clientId=Vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ht(xr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ht(xr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=ey(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Nm(n,t){n.asyncQueue.verifyOperationInProgress(),ht(xr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await F1(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function SE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await nN(n);ht(xr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>yE(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>yE(t.remoteStore,a))),n._onlineComponents=t}async function nN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(xr,"Using user provided OfflineComponentProvider");try{await Nm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;xa("Error using user provided cache. Falling back to memory cache: "+e),await Nm(n,new Uf)}}else ht(xr,"Using default OfflineComponentProvider"),await Nm(n,new ZM(void 0));return n._offlineComponents}async function oA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(xr,"Using user provided OnlineComponentProvider"),await SE(n,n._uninitializedComponentsProvider._online)):(ht(xr,"Using default OnlineComponentProvider"),await SE(n,new dp))),n._onlineComponents}function iN(n){return oA(n).then((t=>t.syncEngine))}async function AE(n){const t=await oA(n),e=t.eventManager;return e.onListen=BM.bind(null,t.syncEngine),e.onUnlisten=FM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=HM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=qM.bind(null,t.syncEngine),e}function sN(n,t,e,i){const a=new tN(i),l=new VM(t,a,e);return n.asyncQueue.enqueueAndForget((async()=>OM(await AE(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>MM(await AE(n),l)))}}function rN(n,t){const e=new va;return n.asyncQueue.enqueueAndForget((async()=>GM(await iN(n),t,e))),e.promise}function lA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const aN="ComponentProvider",wE=new Map;function oN(n,t,e,i,a){return new SD(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,lA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const cA="firestore.googleapis.com",RE=!0;class xE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cA,this.ssl=RE}else this.host=t.host,this.ssl=t.ssl??RE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=H1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MO)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lA(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hd{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new nD;switch(i.type){case"firstParty":return new aD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=wE.get(e);i&&(ht(aN,"Removing Datastore"),wE.delete(e),i.terminate())})(this),Promise.resolve()}}function lN(n,t,e,i={}){n=Ic(n,hd);const a=Xo(t),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(nS(`https://${h}`),iS("Firestore",!0)),l.host!==cA&&l.host!==h&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:i};if(!Ta(d,c)&&(n._setSettings(d),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=rn.MOCK_USER;else{m=hx(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new rn(v)}n._authCredentials=new iD(new $S(m,y))}}class Or{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Or(this.firestore,t,this._query)}}class ze{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ze(this.firestore,t,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(lu(e,ze._jsonSchema))return new ze(t,i||null,new pt(re.fromString(e.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:ke("string",ze._jsonSchemaVersion),referencePath:ke("string")};class br extends Or{constructor(t,e,i){super(t,e,Hp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ze(this.firestore,null,new pt(t))}withConverter(t){return new br(this.firestore,t,this._path)}}function uA(n,t,...e){if(n=cn(n),JS("collection","path",t),n instanceof hd){const i=re.fromString(t,...e);return Ub(i),new br(n,null,i)}{if(!(n instanceof ze||n instanceof br))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(re.fromString(t,...e));return Ub(i),new br(n.firestore,null,i)}}function cN(n,t,...e){if(n=cn(n),arguments.length===1&&(t=Vp.newId()),JS("doc","path",t),n instanceof hd){const i=re.fromString(t,...e);return zb(i),new ze(n,null,new pt(i))}{if(!(n instanceof ze||n instanceof br))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(re.fromString(t,...e));return zb(i),new ze(n.firestore,n instanceof br?n.converter:null,new pt(i))}}const CE="AsyncQueue";class IE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G1(this,"async_queue_retry"),this._c=()=>{const i=Mm();i&&ht(CE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Mm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Mm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new va;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!el(t))throw t;ht(CE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",DE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=ty.createAndSchedule(this,t,e,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Et(47125,{Pc:DE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function DE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Bf extends hd{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new IE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new IE(t),this._firestoreClient=void 0,await t}}}function uN(n,t){const e=typeof n=="object"?n:oS(),i=typeof n=="string"?n:Of,a=wp(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=cx("firestore");l&&lN(a,...l)}return a}function hA(n){if(n._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hN(n),n._firestoreClient}function hN(n){const t=n._freezeSettings(),e=oN(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new eN(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(tn.fromBase64String(t))}catch(e){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Qn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(lu(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:ke("string",Qn._jsonSchemaVersion),bytes:ke("string")};class fA{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ry{constructor(t){this._methodName=t}}class Ki{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(t){if(lu(t,Ki._jsonSchema))return new Ki(t.latitude,t.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:ke("string",Ki._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};class gi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(lu(t,gi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new gi(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:ke("string",gi._jsonSchemaVersion),vectorValues:ke("object")};const fN=/^__.*__$/;class dN{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Na(t,this.data,this.fieldMask,e,this.fieldTransforms):new cu(t,this.data,e,this.fieldTransforms)}}function dA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{dataSource:n})}}class ay{constructor(t,e,i,a,l,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new ay({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Hf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(dA(this.dataSource)&&fN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class gN{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||ld(t)}createContext(t,e,i,a=!1){return new ay({dataSource:t,methodName:e,targetDoc:i,path:Ze.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gA(n){const t=n._freezeSettings(),e=ld(n._databaseId);return new gN(n._databaseId,!!t.ignoreUndefinedProperties,e)}function mN(n,t,e,i,a,l={}){const c=n.createContext(l.merge||l.mergeFields?2:0,t,e,a);yA("Data must be an object, but it was:",c,i);const h=mA(i,c);let d,m;if(l.merge)d=new fi(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=du(t,v,e);if(!c.contains(T))throw new ut(J.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);vN(y,T)||y.push(T)}d=new fi(y),m=c.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,m=c.fieldTransforms;return new dN(new Kn(h),d,m)}class oy extends ry{_toFieldTransform(t){return new JD(t.path,new Kc)}isEqual(t){return t instanceof oy}}function pN(n,t,e,i=!1){return ly(e,n.createContext(i?4:3,t))}function ly(n,t){if(pA(n=cn(n)))return yA("Unsupported field value:",t,n),mA(n,t);if(n instanceof ry)return(function(i,a){if(!dA(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const h of i){let d=ly(h,a.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(n,t)}return(function(i,a){if((i=cn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return WD(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ue.fromDate(i);return{timestampValue:Pf(a.serializer,l)}}if(i instanceof ue){const l=new ue(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Pf(a.serializer,l)}}if(i instanceof Ki)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qn)return{bytesValue:N1(a.serializer,i._byteString)};if(i instanceof ze){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Gp(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof gi)return(function(c,h){const d=c instanceof gi?c.toArray():c;return{mapValue:{fields:{[o1]:{stringValue:l1},[Mf]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return jp(h.serializer,y)}))}}}}}})(i,a);if(B1(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Zf(i)}`)})(n,t)}function mA(n,t){const e={};return e1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Oa(n,((i,a)=>{const l=ly(a,t.childContextForField(i));l!=null&&(e[i]=l)})),{mapValue:{fields:e}}}function pA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ue||n instanceof Ki||n instanceof Qn||n instanceof ze||n instanceof ry||n instanceof gi||B1(n))}function yA(n,t,e){if(!pA(e)||!ZS(e)){const i=Zf(e);throw i==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+i)}}function du(n,t,e){if((t=cn(t))instanceof fA)return t._internalPath;if(typeof t=="string")return _N(n,t);throw Hf("Field path arguments must be of type string or ",n,!1,void 0,e)}const yN=new RegExp("[~\\*/\\[\\]]");function _N(n,t,e){if(t.search(yN)>=0)throw Hf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new fA(...t.split("."))._internalPath}catch{throw Hf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Hf(n,t,e,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${i}`),c&&(d+=` in document ${a}`),d+=")"),new ut(J.INVALID_ARGUMENT,h+n+d)}function vN(n,t){return n.some((e=>e.isEqual(t)))}class bN{convertValue(t,e="none"){switch(wr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Oa(t,((a,l)=>{i[a]=this.convertValue(l,e)})),i}convertVectorValue(t){const e=t.fields?.[Mf].arrayValue?.values?.map((i=>Ee(i.doubleValue)));return new gi(e)}convertGeoPoint(t){return new Ki(Ee(t.latitude),Ee(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=nd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Fc(t));default:return null}}convertTimestamp(t){const e=Sr(t);return new ue(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=re.fromString(t);Wt(U1(i),9688,{name:t});const a=new qc(i.get(1),i.get(3)),l=new pt(i.popFirst(5));return a.isEqual(e)||ws(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}class _A extends bN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ze(this.firestore,null,e)}}function EN(){return new oy("serverTimestamp")}const OE="@firebase/firestore",ME="4.11.0";function NE(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class vA{constructor(t,e,i,a,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new TN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(du("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class TN extends vA{data(){return super.data()}}function SN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cy{}class uy extends cy{}function AN(n,t,...e){let i=[];t instanceof cy&&i.push(t),i=i.concat(e),(function(l){const c=l.filter((d=>d instanceof hy)).length,h=l.filter((d=>d instanceof fd)).length;if(c>1||c>0&&h>0)throw new ut(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class fd extends uy{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new fd(t,e,i)}_apply(t){const e=this._parse(t);return bA(t._query,e),new Or(t.firestore,t.converter,sp(t._query,e))}_parse(t){const e=gA(t.firestore);return(function(l,c,h,d,m,y,v){let T;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ut(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){VE(v,y);const D=[];for(const N of v)D.push(kE(d,l,N));T={arrayValue:{values:D}}}else T=kE(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||VE(v,y),T=pN(h,c,v,y==="in"||y==="not-in");return Ne.create(m,y,T)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function wN(n,t,e){const i=t,a=du("where",n);return fd._create(a,i,e)}class hy extends cy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new hy(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:pi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const d of h)bA(c,d),c=sp(c,d)})(t._query,e),new Or(t.firestore,t.converter,sp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fy extends uy{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new fy(t,e)}_apply(t){const e=(function(a,l,c){if(a.startAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yc(l,c)})(t._query,this._field,this._direction);return new Or(t.firestore,t.converter,HD(t._query,e))}}function RN(n,t="asc"){const e=t,i=du("orderBy",n);return fy._create(i,e)}class dy extends uy{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new dy(t,e,i)}_apply(t){return new Or(t.firestore,t.converter,kf(t._query,this._limit,this._limitType))}}function xN(n){return dy._create("limit",n,"F")}function kE(n,t,e){if(typeof(e=cn(e))=="string"){if(e==="")throw new ut(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p1(t)&&e.indexOf("/")!==-1)throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(re.fromString(e));if(!pt.isDocumentKey(i))throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Kb(n,new pt(i))}if(e instanceof ze)return Kb(n,e._key);throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zf(e)}.`)}function VE(n,t){if(!Array.isArray(n)||n.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function bA(n,t){const e=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function CN(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Tc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ba extends vA{constructor(t,e,i,a,l,c){super(t,e,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(du("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ba._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",ba._jsonSchema={type:ke("string",ba._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class vf extends ba{data(t={}){return super.data(t)}}class Uo{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Tc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new vf(this._firestore,this._userDataWriter,i.key,i,new Tc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new vf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Tc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new vf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Tc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:IN(h.type),doc:d,oldIndex:m,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Uo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function IN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:n})}}Uo._jsonSchemaVersion="firestore/querySnapshot/1.0",Uo._jsonSchema={type:ke("string",Uo._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};function DN(n,t){const e=Ic(n.firestore,Bf),i=cN(n),a=CN(n.converter,t),l=gA(n.firestore);return MN(e,[mN(l,"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Ts.exists(!1))]).then((()=>i))}function ON(n,...t){n=cn(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||NE(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(NE(t[i])){const m=t[i];t[i]=m.next?.bind(m),t[i+1]=m.error?.bind(m),t[i+2]=m.complete?.bind(m)}let l,c,h;if(n instanceof ze)c=Ic(n.firestore,Bf),h=Hp(n._key.path),l={next:m=>{t[i]&&t[i](NN(c,n,m))},error:t[i+1],complete:t[i+2]};else{const m=Ic(n,Or);c=Ic(m.firestore,Bf),h=m._query;const y=new _A(c);l={next:v=>{t[i]&&t[i](new Uo(c,y,m,v))},error:t[i+1],complete:t[i+2]},SN(n._query)}const d=hA(c);return sN(d,h,a,l)}function MN(n,t){const e=hA(n);return rN(e,t)}function NN(n,t,e){const i=e.docs.get(t._key),a=new _A(n);return new ba(n,a,t._key,i,new Tc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){eD($o),Ho(new Sa("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new Bf(new sD(i.getProvider("auth-internal")),new oD(c,i.getProvider("app-check-internal")),AD(c,a),c);return l={useFetchStreams:e,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),_r(OE,ME,t),_r(OE,ME,"esm2020")})();const kN={apiKey:"AIzaSyAGsvxWCQ82DWmAQ7ZxywuRO0CMfgSyZNY",authDomain:"bloodpressuretracker-9e962.firebaseapp.com",projectId:"bloodpressuretracker-9e962",storageBucket:"bloodpressuretracker-9e962.firebasestorage.app",messagingSenderId:"865865692966",appId:"1:865865692966:web:4c6cd56be9f3193aae33e7",measurementId:"G-QL4TGJ1CSS"},EA=aS(kN),dd=$2(EA),TA=uN(EA),VN=(n,t)=>VI(dd,n,t),PN=(n,t)=>PI(dd,n,t),LN=()=>BI(dd),zN=n=>UI(dd,n),SA=Gt.createContext(),AA=()=>Gt.useContext(SA),UN=({children:n})=>{const[t,e]=Gt.useState(null),[i,a]=Gt.useState(!0);Gt.useEffect(()=>zN(h=>{e(h),a(!1)}),[]);const l={user:t,loading:i};return ct.jsx(SA.Provider,{value:l,children:!i&&n})};const wA=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim();const BN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const HN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase());const PE=n=>{const t=HN(n);return t.charAt(0).toUpperCase()+t.slice(1)};var jN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FN=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const qN=Gt.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...h},d)=>Gt.createElement("svg",{ref:d,...jN,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:wA("lucide",a),...!l&&!FN(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,y])=>Gt.createElement(m,y)),...Array.isArray(l)?l:[l]]));const Mr=(n,t)=>{const e=Gt.forwardRef(({className:i,...a},l)=>Gt.createElement(qN,{ref:l,iconNode:t,className:wA(`lucide-${BN(PE(n))}`,`lucide-${n}`,i),...a}));return e.displayName=PE(n),e};const GN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],YN=Mr("activity",GN);const KN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],QN=Mr("heart-pulse",KN);const WN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],XN=Mr("history",WN);const $N=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],JN=Mr("log-in",$N);const ZN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tk=Mr("log-out",ZN);const ek=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nk=Mr("plus",ek);const ik=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],sk=Mr("scale",ik);const rk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ak=Mr("user-plus",rk),ok=()=>{const[n,t]=Gt.useState(!0),[e,i]=Gt.useState(""),[a,l]=Gt.useState(""),[c,h]=Gt.useState(""),[d,m]=Gt.useState(!1),y=async v=>{v.preventDefault(),h(""),m(!0);try{n?await PN(e,a):await VN(e,a)}catch(T){h(T.message)}finally{m(!1)}};return ct.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",padding:"20px"},children:ct.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"400px"},children:[ct.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[ct.jsx(QN,{size:48,color:"var(--primary)",style:{marginBottom:"16px"}}),ct.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"8px"},children:"Health Tracker"}),ct.jsx("p",{style:{color:"var(--text-muted)"},children:n?"Welcome back! Please login.":"Join us to track your health."})]}),c&&ct.jsx("div",{style:{background:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"12px",borderRadius:"8px",marginBottom:"16px",fontSize:"14px",border:"1px solid rgba(239, 68, 68, 0.2)"},children:c}),ct.jsxs("form",{onSubmit:y,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[ct.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[ct.jsx("label",{style:{fontSize:"14px",color:"var(--text-muted)"},children:"Email Address"}),ct.jsx("input",{type:"email",placeholder:"name@example.com",value:e,onChange:v=>i(v.target.value),required:!0})]}),ct.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[ct.jsx("label",{style:{fontSize:"14px",color:"var(--text-muted)"},children:"Password"}),ct.jsx("input",{type:"password",placeholder:"",value:a,onChange:v=>l(v.target.value),required:!0})]}),ct.jsx("button",{type:"submit",disabled:d,style:{background:"var(--primary)",color:"white",padding:"12px",borderRadius:"8px",fontWeight:"600",marginTop:"8px",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},children:d?"Processing...":n?ct.jsxs(ct.Fragment,{children:[ct.jsx(JN,{size:18})," Login"]}):ct.jsxs(ct.Fragment,{children:[ct.jsx(ak,{size:18})," Create Account"]})})]}),ct.jsx("div",{style:{textAlign:"center",marginTop:"24px"},children:ct.jsx("button",{onClick:()=>t(!n),style:{background:"transparent",color:"var(--primary)",fontSize:"14px"},children:n?"Don't have an account? Sign up":"Already have an account? Login"})})]})})},lk=async(n,t)=>{try{return(await DN(uA(TA,"health_records"),{userId:n,...t,timestamp:EN()})).id}catch(e){throw console.error("Error adding document: ",e),e}},ck=(n,t)=>{const e=AN(uA(TA,"health_records"),wN("userId","==",n),RN("timestamp","desc"),xN(30));return ON(e,i=>{const a=[];i.forEach(l=>{a.push({id:l.id,...l.data()})}),t(a)})},uk=(n,t)=>n>=180||t>=120?{label:"Hypertensive Crisis",color:"#ef4444",level:5}:n>=140||t>=90?{label:"Hypertension Stage 2",color:"#f87171",level:4}:n>=130||t>=80?{label:"Hypertension Stage 1",color:"#fb923c",level:3}:n>=120&&t<80?{label:"Elevated",color:"#fbbf24",level:2}:n<120&&t<80?{label:"Normal",color:"#22c55e",level:1}:{label:"Uncategorized",color:"#94a3b8",level:0};function gu(n){return n+.5|0}const gr=(n,t,e)=>Math.max(Math.min(n,e),t);function Sc(n){return gr(gu(n*2.55),0,255)}function Er(n){return gr(gu(n*255),0,255)}function _s(n){return gr(gu(n/2.55)/100,0,1)}function LE(n){return gr(gu(n*100),0,100)}const Gn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},gp=[..."0123456789ABCDEF"],hk=n=>gp[n&15],fk=n=>gp[(n&240)>>4]+gp[n&15],Xh=n=>(n&240)>>4===(n&15),dk=n=>Xh(n.r)&&Xh(n.g)&&Xh(n.b)&&Xh(n.a);function gk(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Gn[n[1]]*17,g:255&Gn[n[2]]*17,b:255&Gn[n[3]]*17,a:t===5?Gn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Gn[n[1]]<<4|Gn[n[2]],g:Gn[n[3]]<<4|Gn[n[4]],b:Gn[n[5]]<<4|Gn[n[6]],a:t===9?Gn[n[7]]<<4|Gn[n[8]]:255})),e}const mk=(n,t)=>n<255?t(n):"";function pk(n){var t=dk(n)?hk:fk;return n?"#"+t(n.r)+t(n.g)+t(n.b)+mk(n.a,t):void 0}const yk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function RA(n,t,e){const i=t*Math.min(e,1-e),a=(l,c=(l+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function _k(n,t,e){const i=(a,l=(a+n/60)%6)=>e-e*t*Math.max(Math.min(l,4-l,1),0);return[i(5),i(3),i(1)]}function vk(n,t,e){const i=RA(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)i[a]*=1-t-e,i[a]+=t;return i}function bk(n,t,e,i,a){return n===a?(t-e)/i+(t<e?6:0):t===a?(e-n)/i+2:(n-t)/i+4}function gy(n){const e=n.r/255,i=n.g/255,a=n.b/255,l=Math.max(e,i,a),c=Math.min(e,i,a),h=(l+c)/2;let d,m,y;return l!==c&&(y=l-c,m=h>.5?y/(2-l-c):y/(l+c),d=bk(e,i,a,y,l),d=d*60+.5),[d|0,m||0,h]}function my(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Er)}function py(n,t,e){return my(RA,n,t,e)}function Ek(n,t,e){return my(vk,n,t,e)}function Tk(n,t,e){return my(_k,n,t,e)}function xA(n){return(n%360+360)%360}function Sk(n){const t=yk.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Sc(+t[5]):Er(+t[5]));const a=xA(+t[2]),l=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=Ek(a,l,c):t[1]==="hsv"?i=Tk(a,l,c):i=py(a,l,c),{r:i[0],g:i[1],b:i[2],a:e}}function Ak(n,t){var e=gy(n);e[0]=xA(e[0]+t),e=py(e),n.r=e[0],n.g=e[1],n.b=e[2]}function wk(n){if(!n)return;const t=gy(n),e=t[0],i=LE(t[1]),a=LE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${a}%, ${_s(n.a)})`:`hsl(${e}, ${i}%, ${a}%)`}const zE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},UE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Rk(){const n={},t=Object.keys(UE),e=Object.keys(zE);let i,a,l,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],a=0;a<e.length;a++)l=e[a],h=h.replace(l,zE[l]);l=parseInt(UE[c],16),n[h]=[l>>16&255,l>>8&255,l&255]}return n}let $h;function xk(n){$h||($h=Rk(),$h.transparent=[0,0,0,0]);const t=$h[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Ck=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ik(n){const t=Ck.exec(n);let e=255,i,a,l;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Sc(c):gr(c*255,0,255)}return i=+t[1],a=+t[3],l=+t[5],i=255&(t[2]?Sc(i):gr(i,0,255)),a=255&(t[4]?Sc(a):gr(a,0,255)),l=255&(t[6]?Sc(l):gr(l,0,255)),{r:i,g:a,b:l,a:e}}}function Dk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${_s(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const km=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Co=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Ok(n,t,e){const i=Co(_s(n.r)),a=Co(_s(n.g)),l=Co(_s(n.b));return{r:Er(km(i+e*(Co(_s(t.r))-i))),g:Er(km(a+e*(Co(_s(t.g))-a))),b:Er(km(l+e*(Co(_s(t.b))-l))),a:n.a+e*(t.a-n.a)}}function Jh(n,t,e){if(n){let i=gy(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=py(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function CA(n,t){return n&&Object.assign(t||{},n)}function BE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Er(n[3]))):(t=CA(n,{r:0,g:0,b:0,a:1}),t.a=Er(t.a)),t}function Mk(n){return n.charAt(0)==="r"?Ik(n):Sk(n)}class Xc{constructor(t){if(t instanceof Xc)return t;const e=typeof t;let i;e==="object"?i=BE(t):e==="string"&&(i=gk(t)||xk(t)||Mk(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=CA(this._rgb);return t&&(t.a=_s(t.a)),t}set rgb(t){this._rgb=BE(t)}rgbString(){return this._valid?Dk(this._rgb):void 0}hexString(){return this._valid?pk(this._rgb):void 0}hslString(){return this._valid?wk(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,a=t.rgb;let l;const c=e===l?.5:e,h=2*c-1,d=i.a-a.a,m=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;l=1-m,i.r=255&m*i.r+l*a.r+.5,i.g=255&m*i.g+l*a.g+.5,i.b=255&m*i.b+l*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=Ok(this._rgb,t._rgb,e)),this}clone(){return new Xc(this.rgb)}alpha(t){return this._rgb.a=Er(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=gu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Jh(this._rgb,2,t),this}darken(t){return Jh(this._rgb,2,-t),this}saturate(t){return Jh(this._rgb,1,t),this}desaturate(t){return Jh(this._rgb,1,-t),this}rotate(t){return Ak(this._rgb,t),this}}function ms(){}const Nk=(()=>{let n=0;return()=>n++})();function ae(n){return n==null}function qe(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function $n(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ui(n,t){return $n(n)?n:t}function jt(n,t){return typeof n>"u"?t:n}const kk=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ce(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Zt(n,t,e,i){let a,l,c;if(qe(n))for(l=n.length,a=0;a<l;a++)t.call(e,n[a],a);else if(Qt(n))for(c=Object.keys(n),l=c.length,a=0;a<l;a++)t.call(e,n[c[a]],c[a])}function jf(n,t){let e,i,a,l;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(a=n[e],l=t[e],a.datasetIndex!==l.datasetIndex||a.index!==l.index)return!1;return!0}function Ff(n){if(qe(n))return n.map(Ff);if(Qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let a=0;for(;a<i;++a)t[e[a]]=Ff(n[e[a]]);return t}return n}function IA(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Vk(n,t,e,i){if(!IA(n))return;const a=t[n],l=e[n];Qt(a)&&Qt(l)?$c(a,l,i):t[n]=Ff(l)}function $c(n,t,e){const i=qe(t)?t:[t],a=i.length;if(!Qt(n))return n;e=e||{};const l=e.merger||Vk;let c;for(let h=0;h<a;++h){if(c=i[h],!Qt(c))continue;const d=Object.keys(c);for(let m=0,y=d.length;m<y;++m)l(d[m],n,c,e)}return n}function kc(n,t){return $c(n,t,{merger:Pk})}function Pk(n,t,e){if(!IA(n))return;const i=t[n],a=e[n];Qt(i)&&Qt(a)?kc(i,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Ff(a))}const HE={"":n=>n,x:n=>n.x,y:n=>n.y};function Lk(n){const t=n.split("."),e=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function zk(n){const t=Lk(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function qf(n,t){return(HE[t]||(HE[t]=zk(t)))(n)}function yy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Gf=n=>typeof n<"u",Cr=n=>typeof n=="function",jE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function Uk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ge=Math.PI,Qi=2*Ge,Bk=Qi+Ge,Yf=Number.POSITIVE_INFINITY,Hk=Ge/180,di=Ge/2,ua=Ge/4,FE=Ge*2/3,DA=Math.log10,Ko=Math.sign;function Vc(n,t,e){return Math.abs(n-t)<e}function qE(n){const t=Math.round(n);n=Vc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(DA(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function jk(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((a,l)=>a-l).pop(),t}function Fk(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Jc(n){return!Fk(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function qk(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function Gk(n,t,e){let i,a,l;for(i=0,a=n.length;i<a;i++)l=n[i][e],isNaN(l)||(t.min=Math.min(t.min,l),t.max=Math.max(t.max,l))}function ya(n){return n*(Ge/180)}function Yk(n){return n*(180/Ge)}function GE(n){if(!$n(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Kk(n,t){const e=t.x-n.x,i=t.y-n.y,a=Math.sqrt(e*e+i*i);let l=Math.atan2(i,e);return l<-.5*Ge&&(l+=Qi),{angle:l,distance:a}}function mp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Qk(n,t){return(n-t+Bk)%Qi-Ge}function lr(n){return(n%Qi+Qi)%Qi}function OA(n,t,e,i){const a=lr(n),l=lr(t),c=lr(e),h=lr(l-a),d=lr(c-a),m=lr(a-l),y=lr(a-c);return a===l||a===c||i&&l===c||h>d&&m<y}function Wn(n,t,e){return Math.max(t,Math.min(e,n))}function Wk(n){return Wn(n,-32768,32767)}function Ac(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function _y(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,a=0,l;for(;i-a>1;)l=a+i>>1,e(l)?a=l:i=l;return{lo:a,hi:i}}const _a=(n,t,e,i)=>_y(n,e,i?a=>{const l=n[a][t];return l<e||l===e&&n[a+1][t]===e}:a=>n[a][t]<e),Xk=(n,t,e)=>_y(n,e,i=>n[i][t]>=e);function $k(n,t,e){let i=0,a=n.length;for(;i<a&&n[i]<t;)i++;for(;a>i&&n[a-1]>e;)a--;return i>0||a<n.length?n.slice(i,a):n}const MA=["push","pop","shift","splice","unshift"];function Jk(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),MA.forEach(e=>{const i="_onData"+yy(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...l){const c=a.apply(this,l);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...l)}),c}})})}function YE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,a=i.indexOf(t);a!==-1&&i.splice(a,1),!(i.length>0)&&(MA.forEach(l=>{delete n[l]}),delete n._chartjs)}function Zk(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const NA=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function kA(n,t){let e=[],i=!1;return function(...a){e=a,i||(i=!0,NA.call(window,()=>{i=!1,n.apply(t,e)}))}}function tV(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const vy=n=>n==="start"?"left":n==="end"?"right":"center",sn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,eV=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function nV(n,t,e){const i=t.length;let a=0,l=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:d}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=c.axis,{min:v,max:T,minDefined:A,maxDefined:D}=c.getUserBounds();if(A){if(a=Math.min(_a(d,y,v).lo,e?i:_a(t,y,c.getPixelForValue(v)).lo),m){const N=d.slice(0,a+1).reverse().findIndex(I=>!ae(I[h.axis]));a-=Math.max(0,N)}a=Wn(a,0,i-1)}if(D){let N=Math.max(_a(d,c.axis,T,!0).hi+1,e?0:_a(t,y,c.getPixelForValue(T),!0).hi+1);if(m){const I=d.slice(N-1).findIndex(j=>!ae(j[h.axis]));N+=Math.max(0,I)}l=Wn(N,a,i)-a}else l=i-a}return{start:a,count:l}}function iV(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=a,!0;const l=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,a),l}const Zh=n=>n===0||n===1,KE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Qi/e)),QE=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Qi/e)+1,Pc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*di)+1,easeOutSine:n=>Math.sin(n*di),easeInOutSine:n=>-.5*(Math.cos(Ge*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Zh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Zh(n)?n:KE(n,.075,.3),easeOutElastic:n=>Zh(n)?n:QE(n,.075,.3),easeInOutElastic(n){return Zh(n)?n:n<.5?.5*KE(n*2,.1125,.45):.5+.5*QE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Pc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Pc.easeInBounce(n*2)*.5:Pc.easeOutBounce(n*2-1)*.5+.5};function by(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function WE(n){return by(n)?n:new Xc(n)}function Vm(n){return by(n)?n:new Xc(n).saturate(.5).darken(.1).hexString()}const sV=["x","y","borderWidth","radius","tension"],rV=["color","borderColor","backgroundColor"];function aV(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:rV},numbers:{type:"number",properties:sV}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function oV(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const XE=new Map;function lV(n,t){t=t||{};const e=n+JSON.stringify(t);let i=XE.get(e);return i||(i=new Intl.NumberFormat(n,t),XE.set(e,i)),i}function VA(n,t,e){return lV(t,e).format(n)}const cV={values(n){return qe(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let a,l=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),l=uV(n,e)}const c=DA(Math.abs(l)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),VA(n,i,d)}};function uV(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var PA={formatters:cV};function hV(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:PA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ia=Object.create(null),pp=Object.create(null);function Lc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,a=e.length;i<a;++i){const l=e[i];n=n[l]||(n[l]=Object.create(null))}return n}function Pm(n,t,e){return typeof t=="string"?$c(Lc(n,t),e):$c(Lc(n,""),t)}class fV{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>Vm(a.backgroundColor),this.hoverBorderColor=(i,a)=>Vm(a.borderColor),this.hoverColor=(i,a)=>Vm(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Pm(this,t,e)}get(t){return Lc(this,t)}describe(t,e){return Pm(pp,t,e)}override(t,e){return Pm(Ia,t,e)}route(t,e,i,a){const l=Lc(this,t),c=Lc(this,i),h="_"+e;Object.defineProperties(l,{[h]:{value:l[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],m=c[a];return Qt(d)?Object.assign({},m,d):jt(d,m)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var Te=new fV({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[aV,oV,hV]);function dV(n){return!n||ae(n.size)||ae(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function $E(n,t,e,i,a){let l=t[a];return l||(l=t[a]=n.measureText(a).width,e.push(a)),l>i&&(i=l),i}function ha(n,t,e){const i=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*i)/i+a}function JE(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function yp(n,t,e,i){LA(n,t,e,i,null)}function LA(n,t,e,i,a){let l,c,h,d,m,y,v,T;const A=t.pointStyle,D=t.rotation,N=t.radius;let I=(D||0)*Hk;if(A&&typeof A=="object"&&(l=A.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(I),n.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),n.restore();return}if(!(isNaN(N)||N<=0)){switch(n.beginPath(),A){default:a?n.ellipse(e,i,a/2,N,0,0,Qi):n.arc(e,i,N,0,Qi),n.closePath();break;case"triangle":y=a?a/2:N,n.moveTo(e+Math.sin(I)*y,i-Math.cos(I)*N),I+=FE,n.lineTo(e+Math.sin(I)*y,i-Math.cos(I)*N),I+=FE,n.lineTo(e+Math.sin(I)*y,i-Math.cos(I)*N),n.closePath();break;case"rectRounded":m=N*.516,d=N-m,c=Math.cos(I+ua)*d,v=Math.cos(I+ua)*(a?a/2-m:d),h=Math.sin(I+ua)*d,T=Math.sin(I+ua)*(a?a/2-m:d),n.arc(e-v,i-h,m,I-Ge,I-di),n.arc(e+T,i-c,m,I-di,I),n.arc(e+v,i+h,m,I,I+di),n.arc(e-T,i+c,m,I+di,I+Ge),n.closePath();break;case"rect":if(!D){d=Math.SQRT1_2*N,y=a?a/2:d,n.rect(e-y,i-d,2*y,2*d);break}I+=ua;case"rectRot":v=Math.cos(I)*(a?a/2:N),c=Math.cos(I)*N,h=Math.sin(I)*N,T=Math.sin(I)*(a?a/2:N),n.moveTo(e-v,i-h),n.lineTo(e+T,i-c),n.lineTo(e+v,i+h),n.lineTo(e-T,i+c),n.closePath();break;case"crossRot":I+=ua;case"cross":v=Math.cos(I)*(a?a/2:N),c=Math.cos(I)*N,h=Math.sin(I)*N,T=Math.sin(I)*(a?a/2:N),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"star":v=Math.cos(I)*(a?a/2:N),c=Math.cos(I)*N,h=Math.sin(I)*N,T=Math.sin(I)*(a?a/2:N),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c),I+=ua,v=Math.cos(I)*(a?a/2:N),c=Math.cos(I)*N,h=Math.sin(I)*N,T=Math.sin(I)*(a?a/2:N),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"line":c=a?a/2:Math.cos(I)*N,h=Math.sin(I)*N,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(I)*(a?a/2:N),i+Math.sin(I)*N);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Zc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Ey(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Ty(n){n.restore()}function gV(n,t,e,i,a){if(!t)return n.lineTo(e.x,e.y);if(a==="middle"){const l=(t.x+e.x)/2;n.lineTo(l,t.y),n.lineTo(l,e.y)}else a==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function mV(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function pV(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ae(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function yV(n,t,e,i,a){if(a.strikethrough||a.underline){const l=n.measureText(i),c=t-l.actualBoundingBoxLeft,h=t+l.actualBoundingBoxRight,d=e-l.actualBoundingBoxAscent,m=e+l.actualBoundingBoxDescent,y=a.strikethrough?(d+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function _V(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function tu(n,t,e,i,a,l={}){const c=qe(t)?t:[t],h=l.strokeWidth>0&&l.strokeColor!=="";let d,m;for(n.save(),n.font=a.string,pV(n,l),d=0;d<c.length;++d)m=c[d],l.backdrop&&_V(n,l.backdrop),h&&(l.strokeColor&&(n.strokeStyle=l.strokeColor),ae(l.strokeWidth)||(n.lineWidth=l.strokeWidth),n.strokeText(m,e,i,l.maxWidth)),n.fillText(m,e,i,l.maxWidth),yV(n,e,i,m,l),i+=Number(a.lineHeight);n.restore()}function _p(n,t){const{x:e,y:i,w:a,h:l,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*Ge,Ge,!0),n.lineTo(e,i+l-c.bottomLeft),n.arc(e+c.bottomLeft,i+l-c.bottomLeft,c.bottomLeft,Ge,di,!0),n.lineTo(e+a-c.bottomRight,i+l),n.arc(e+a-c.bottomRight,i+l-c.bottomRight,c.bottomRight,di,0,!0),n.lineTo(e+a,i+c.topRight),n.arc(e+a-c.topRight,i+c.topRight,c.topRight,0,-di,!0),n.lineTo(e+c.topLeft,i)}const vV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function EV(n,t){const e=(""+n).match(vV);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const TV=n=>+n||0;function zA(n,t){const e={},i=Qt(t),a=i?Object.keys(t):t,l=Qt(n)?i?c=>jt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of a)e[c]=TV(l(c));return e}function SV(n){return zA(n,{top:"y",right:"x",bottom:"y",left:"x"})}function zc(n){return zA(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Jn(n){const t=SV(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function on(n,t){n=n||{},t=t||Te.font;let e=jt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=jt(n.style,t.style);i&&!(""+i).match(bV)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:jt(n.family,t.family),lineHeight:EV(jt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:jt(n.weight,t.weight),string:""};return a.string=dV(a),a}function tf(n,t,e,i){let a,l,c;for(a=0,l=n.length;a<l;++a)if(c=n[a],c!==void 0&&c!==void 0)return c}function AV(n,t,e){const{min:i,max:a}=n,l=kk(t,(a-i)/2),c=(h,d)=>e&&h===0?0:h+d;return{min:c(i,-Math.abs(l)),max:c(a,l)}}function Va(n,t){return Object.assign(Object.create(n),t)}function Sy(n,t=[""],e,i,a=()=>n[0]){const l=e||n;typeof i>"u"&&(i=jA("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:l,_fallback:i,_getTarget:a,override:h=>Sy([h,...n],t,l,i)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return BA(h,d,()=>MV(d,t,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return tT(h).includes(d)},ownKeys(h){return tT(h)},set(h,d,m){const y=h._storage||(h._storage=a());return h[d]=y[d]=m,delete h._keys,!0}})}function Qo(n,t,e,i){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:UA(n,i),setContext:l=>Qo(n,l,e,i),override:l=>Qo(n.override(l),t,e,i)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete n[c],!0},get(l,c,h){return BA(l,c,()=>RV(l,c,h))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(l,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(l,c,h){return n[c]=h,delete l[c],!0}})}function UA(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:i,isScriptable:Cr(e)?e:()=>e,isIndexable:Cr(i)?i:()=>i}}const wV=(n,t)=>n?n+yy(t):t,Ay=(n,t)=>Qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function BA(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function RV(n,t,e){const{_proxy:i,_context:a,_subProxy:l,_descriptors:c}=n;let h=i[t];return Cr(h)&&c.isScriptable(t)&&(h=xV(t,h,n,e)),qe(h)&&h.length&&(h=CV(t,h,n,c.isIndexable)),Ay(t,h)&&(h=Qo(h,a,l&&l[t],c)),h}function xV(n,t,e,i){const{_proxy:a,_context:l,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=t(l,c||i);return h.delete(n),Ay(n,d)&&(d=wy(a._scopes,a,n,d)),d}function CV(n,t,e,i){const{_proxy:a,_context:l,_subProxy:c,_descriptors:h}=e;if(typeof l.index<"u"&&i(n))return t[l.index%t.length];if(Qt(t[0])){const d=t,m=a._scopes.filter(y=>y!==d);t=[];for(const y of d){const v=wy(m,a,n,y);t.push(Qo(v,l,c&&c[n],h))}}return t}function HA(n,t,e){return Cr(n)?n(t,e):n}const IV=(n,t)=>n===!0?t:typeof n=="string"?qf(t,n):void 0;function DV(n,t,e,i,a){for(const l of t){const c=IV(e,l);if(c){n.add(c);const h=HA(c._fallback,e,a);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function wy(n,t,e,i){const a=t._rootScopes,l=HA(t._fallback,e,i),c=[...n,...a],h=new Set;h.add(i);let d=ZE(h,c,e,l||e,i);return d===null||typeof l<"u"&&l!==e&&(d=ZE(h,c,l,d,i),d===null)?!1:Sy(Array.from(h),[""],a,l,()=>OV(t,e,i))}function ZE(n,t,e,i,a){for(;e;)e=DV(n,t,e,i,a);return e}function OV(n,t,e){const i=n._getTarget();t in i||(i[t]={});const a=i[t];return qe(a)&&Qt(e)?e:a||{}}function MV(n,t,e,i){let a;for(const l of t)if(a=jA(wV(l,n),e),typeof a<"u")return Ay(n,a)?wy(e,i,n,a):a}function jA(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function tT(n){let t=n._keys;return t||(t=n._keys=NV(n._scopes)),t}function NV(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(i);return Array.from(t)}const kV=Number.EPSILON||1e-14,Wo=(n,t)=>t<n.length&&!n[t].skip&&n[t],FA=n=>n==="x"?"y":"x";function VV(n,t,e,i){const a=n.skip?t:n,l=t,c=e.skip?t:e,h=mp(l,a),d=mp(c,l);let m=h/(h+d),y=d/(h+d);m=isNaN(m)?0:m,y=isNaN(y)?0:y;const v=i*m,T=i*y;return{previous:{x:l.x-v*(c.x-a.x),y:l.y-v*(c.y-a.y)},next:{x:l.x+T*(c.x-a.x),y:l.y+T*(c.y-a.y)}}}function PV(n,t,e){const i=n.length;let a,l,c,h,d,m=Wo(n,0);for(let y=0;y<i-1;++y)if(d=m,m=Wo(n,y+1),!(!d||!m)){if(Vc(t[y],0,kV)){e[y]=e[y+1]=0;continue}a=e[y]/t[y],l=e[y+1]/t[y],h=Math.pow(a,2)+Math.pow(l,2),!(h<=9)&&(c=3/Math.sqrt(h),e[y]=a*c*t[y],e[y+1]=l*c*t[y])}}function LV(n,t,e="x"){const i=FA(e),a=n.length;let l,c,h,d=Wo(n,0);for(let m=0;m<a;++m){if(c=h,h=d,d=Wo(n,m+1),!h)continue;const y=h[e],v=h[i];c&&(l=(y-c[e])/3,h[`cp1${e}`]=y-l,h[`cp1${i}`]=v-l*t[m]),d&&(l=(d[e]-y)/3,h[`cp2${e}`]=y+l,h[`cp2${i}`]=v+l*t[m])}}function zV(n,t="x"){const e=FA(t),i=n.length,a=Array(i).fill(0),l=Array(i);let c,h,d,m=Wo(n,0);for(c=0;c<i;++c)if(h=d,d=m,m=Wo(n,c+1),!!d){if(m){const y=m[t]-d[t];a[c]=y!==0?(m[e]-d[e])/y:0}l[c]=h?m?Ko(a[c-1])!==Ko(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}PV(n,a,l),LV(n,l,t)}function ef(n,t,e){return Math.max(Math.min(n,e),t)}function UV(n,t){let e,i,a,l,c,h=Zc(n[0],t);for(e=0,i=n.length;e<i;++e)c=l,l=h,h=e<i-1&&Zc(n[e+1],t),l&&(a=n[e],c&&(a.cp1x=ef(a.cp1x,t.left,t.right),a.cp1y=ef(a.cp1y,t.top,t.bottom)),h&&(a.cp2x=ef(a.cp2x,t.left,t.right),a.cp2y=ef(a.cp2y,t.top,t.bottom)))}function BV(n,t,e,i,a){let l,c,h,d;if(t.spanGaps&&(n=n.filter(m=>!m.skip)),t.cubicInterpolationMode==="monotone")zV(n,a);else{let m=i?n[n.length-1]:n[0];for(l=0,c=n.length;l<c;++l)h=n[l],d=VV(m,h,n[Math.min(l+1,c-(i?0:1))%c],t.tension),h.cp1x=d.previous.x,h.cp1y=d.previous.y,h.cp2x=d.next.x,h.cp2y=d.next.y,m=h}t.capBezierPoints&&UV(n,e)}function Ry(){return typeof window<"u"&&typeof document<"u"}function xy(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Kf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const gd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function HV(n,t){return gd(n).getPropertyValue(t)}const jV=["top","right","bottom","left"];function Ea(n,t,e){const i={};e=e?"-"+e:"";for(let a=0;a<4;a++){const l=jV[a];i[l]=parseFloat(n[t+"-"+l+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const FV=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function qV(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:a,offsetY:l}=i;let c=!1,h,d;if(FV(a,l,n.target))h=a,d=l;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,d=i.clientY-m.top,c=!0}return{x:h,y:d,box:c}}function ga(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,a=gd(e),l=a.boxSizing==="border-box",c=Ea(a,"padding"),h=Ea(a,"border","width"),{x:d,y:m,box:y}=qV(n,e),v=c.left+(y&&h.left),T=c.top+(y&&h.top);let{width:A,height:D}=t;return l&&(A-=c.width+h.width,D-=c.height+h.height),{x:Math.round((d-v)/A*e.width/i),y:Math.round((m-T)/D*e.height/i)}}function GV(n,t,e){let i,a;if(t===void 0||e===void 0){const l=n&&xy(n);if(!l)t=n.clientWidth,e=n.clientHeight;else{const c=l.getBoundingClientRect(),h=gd(l),d=Ea(h,"border","width"),m=Ea(h,"padding");t=c.width-m.width-d.width,e=c.height-m.height-d.height,i=Kf(h.maxWidth,l,"clientWidth"),a=Kf(h.maxHeight,l,"clientHeight")}}return{width:t,height:e,maxWidth:i||Yf,maxHeight:a||Yf}}const mr=n=>Math.round(n*10)/10;function YV(n,t,e,i){const a=gd(n),l=Ea(a,"margin"),c=Kf(a.maxWidth,n,"clientWidth")||Yf,h=Kf(a.maxHeight,n,"clientHeight")||Yf,d=GV(n,t,e);let{width:m,height:y}=d;if(a.boxSizing==="content-box"){const T=Ea(a,"border","width"),A=Ea(a,"padding");m-=A.width+T.width,y-=A.height+T.height}return m=Math.max(0,m-l.width),y=Math.max(0,i?m/i:y-l.height),m=mr(Math.min(m,c,d.maxWidth)),y=mr(Math.min(y,h,d.maxHeight)),m&&!y&&(y=mr(m/2)),(t!==void 0||e!==void 0)&&i&&d.height&&y>d.height&&(y=d.height,m=mr(Math.floor(y*i))),{width:m,height:y}}function eT(n,t,e){const i=t||1,a=mr(n.height*i),l=mr(n.width*i);n.height=mr(n.height),n.width=mr(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==a||c.width!==l?(n.currentDevicePixelRatio=i,c.height=a,c.width=l,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const KV=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Ry()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function nT(n,t){const e=HV(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ma(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function QV(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function WV(n,t,e,i){const a={x:n.cp2x,y:n.cp2y},l={x:t.cp1x,y:t.cp1y},c=ma(n,a,e),h=ma(a,l,e),d=ma(l,t,e),m=ma(c,h,e),y=ma(h,d,e);return ma(m,y,e)}const XV=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},$V=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Bo(n,t,e){return n?XV(t,e):$V()}function qA(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function GA(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function YA(n){return n==="angle"?{between:OA,compare:Qk,normalize:lr}:{between:Ac,compare:(t,e)=>t-e,normalize:t=>t}}function iT({start:n,end:t,count:e,loop:i,style:a}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:a}}function JV(n,t,e){const{property:i,start:a,end:l}=e,{between:c,normalize:h}=YA(i),d=t.length;let{start:m,end:y,loop:v}=n,T,A;if(v){for(m+=d,y+=d,T=0,A=d;T<A&&c(h(t[m%d][i]),a,l);++T)m--,y--;m%=d,y%=d}return y<m&&(y+=d),{start:m,end:y,loop:v,style:n.style}}function ZV(n,t,e){if(!e)return[n];const{property:i,start:a,end:l}=e,c=t.length,{compare:h,between:d,normalize:m}=YA(i),{start:y,end:v,loop:T,style:A}=JV(n,t,e),D=[];let N=!1,I=null,j,tt,et;const it=()=>d(a,et,j)&&h(a,et)!==0,nt=()=>h(l,j)===0||d(l,et,j),rt=()=>N||it(),x=()=>!N||nt();for(let R=y,C=y;R<=v;++R)tt=t[R%c],!tt.skip&&(j=m(tt[i]),j!==et&&(N=d(j,a,l),I===null&&rt()&&(I=h(j,a)===0?R:C),I!==null&&x()&&(D.push(iT({start:I,end:R,loop:T,count:c,style:A})),I=null),C=R,et=j));return I!==null&&D.push(iT({start:I,end:v,loop:T,count:c,style:A})),D}function t4(n,t){const e=[],i=n.segments;for(let a=0;a<i.length;a++){const l=ZV(i[a],n.points,t);l.length&&e.push(...l)}return e}function e4(n,t,e,i){let a=0,l=t-1;if(e&&!i)for(;a<t&&!n[a].skip;)a++;for(;a<t&&n[a].skip;)a++;for(a%=t,e&&(l+=a);l>a&&n[l%t].skip;)l--;return l%=t,{start:a,end:l}}function n4(n,t,e,i){const a=n.length,l=[];let c=t,h=n[t],d;for(d=t+1;d<=e;++d){const m=n[d%a];m.skip||m.stop?h.skip||(i=!1,l.push({start:t%a,end:(d-1)%a,loop:i}),t=c=m.stop?d:null):(c=d,h.skip&&(t=d)),h=m}return c!==null&&l.push({start:t%a,end:c%a,loop:i}),l}function i4(n,t){const e=n.points,i=n.options.spanGaps,a=e.length;if(!a)return[];const l=!!n._loop,{start:c,end:h}=e4(e,a,l,i);if(i===!0)return sT(n,[{start:c,end:h,loop:l}],e,t);const d=h<c?h+a:h,m=!!n._fullLoop&&c===0&&h===a-1;return sT(n,n4(e,c,d,m),e,t)}function sT(n,t,e,i){return!i||!i.setContext||!e?t:s4(n,t,e,i)}function s4(n,t,e,i){const a=n._chart.getContext(),l=rT(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,d=e.length,m=[];let y=l,v=t[0].start,T=v;function A(D,N,I,j){const tt=h?-1:1;if(D!==N){for(D+=d;e[D%d].skip;)D-=tt;for(;e[N%d].skip;)N+=tt;D%d!==N%d&&(m.push({start:D%d,end:N%d,loop:I,style:j}),y=j,v=N%d)}}for(const D of t){v=h?v:D.start;let N=e[v%d],I;for(T=v+1;T<=D.end;T++){const j=e[T%d];I=rT(i.setContext(Va(a,{type:"segment",p0:N,p1:j,p0DataIndex:(T-1)%d,p1DataIndex:T%d,datasetIndex:c}))),r4(I,y)&&A(v,T-1,D.loop,y),N=j,y=I}v<T-1&&A(v,T-1,D.loop,y)}return m}function rT(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function r4(n,t){if(!t)return!1;const e=[],i=function(a,l){return by(l)?(e.includes(l)||e.push(l),e.indexOf(l)):l};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function nf(n,t,e){return n.options.clip?n[e]:t[e]}function a4(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:nf(e,t,"left"),right:nf(e,t,"right"),top:nf(i,t,"top"),bottom:nf(i,t,"bottom")}:t}function o4(n,t){const e=t._clip;if(e.disabled)return!1;const i=a4(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class l4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,a){const l=e.listeners[a],c=e.duration;l.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=NA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const l=i.items;let c=l.length-1,h=!1,d;for(;c>=0;--c)d=l[c],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),h=!0):(l[c]=l[l.length-1],l.pop());h&&(a.draw(),this._notify(a,i,t,"progress")),l.length||(i.running=!1,this._notify(a,i,t,"complete"),i.initial=!1),e+=l.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ps=new l4;const aT="transparent",c4={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=WE(n||aT),a=i.valid&&WE(t||aT);return a&&a.valid?a.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class u4{constructor(t,e,i,a){const l=e[i];a=tf([t.to,a,l,t.from]);const c=tf([t.from,l,a]);this._active=!0,this._fn=t.fn||c4[t.type||typeof c],this._easing=Pc[t.easing]||Pc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const a=this._target[this._prop],l=i-this._start,c=this._duration-l;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=l,this._loop=!!t.loop,this._to=tf([t.to,e,a,t.from]),this._from=tf([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,a=this._prop,l=this._from,c=this._loop,h=this._to;let d;if(this._active=l!==h&&(c||e<i),!this._active){this._target[a]=h,this._notify(!0);return}if(e<0){this._target[a]=l;return}d=e/i%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[a]=this._fn(l,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][e]()}}class KA{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Qt(t))return;const e=Object.keys(Te.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const l=t[a];if(!Qt(l))return;const c={};for(const h of e)c[h]=l[h];(qe(l.properties)&&l.properties||[a]).forEach(h=>{(h===a||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,a=f4(t,i);if(!a)return[];const l=this._createAnimations(a,i);return i.$shared&&h4(t.options.$animations,i).then(()=>{t.options=i},()=>{}),l}_createAnimations(t,e){const i=this._properties,a=[],l=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const m=c[d];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(t,e));continue}const y=e[m];let v=l[m];const T=i.get(m);if(v)if(T&&v.active()){v.update(T,y,h);continue}else v.cancel();if(!T||!T.duration){t[m]=y;continue}l[m]=v=new u4(T,t,m,y),a.push(v)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ps.add(this._chart,i),!0}}function h4(n,t){const e=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const l=n[i[a]];l&&l.active()&&e.push(l.wait())}return Promise.all(e)}function f4(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function oT(n,t){const e=n&&n.options||{},i=e.reverse,a=e.min===void 0?t:0,l=e.max===void 0?t:0;return{start:i?l:a,end:i?a:l}}function d4(n,t,e){if(e===!1)return!1;const i=oT(n,e),a=oT(t,e);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function g4(n){let t,e,i,a;return Qt(n)?(t=n.top,e=n.right,i=n.bottom,a=n.left):t=e=i=a=n,{top:t,right:e,bottom:i,left:a,disabled:n===!1}}function QA(n,t){const e=[],i=n._getSortedDatasetMetas(t);let a,l;for(a=0,l=i.length;a<l;++a)e.push(i[a].index);return e}function lT(n,t,e,i={}){const a=n.keys,l=i.mode==="single";let c,h,d,m;if(t===null)return;let y=!1;for(c=0,h=a.length;c<h;++c){if(d=+a[c],d===e){if(y=!0,i.all)continue;break}m=n.values[d],$n(m)&&(l||t===0||Ko(t)===Ko(m))&&(t+=m)}return!y&&!i.all?0:t}function m4(n,t){const{iScale:e,vScale:i}=t,a=e.axis==="x"?"x":"y",l=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let d,m,y;for(d=0,m=c.length;d<m;++d)y=c[d],h[d]={[a]:y,[l]:n[y]};return h}function Lm(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function p4(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function y4(n){const{min:t,max:e,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function _4(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function cT(n,t,e,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const l=n[a.index];if(e&&l>0||!e&&l<0)return a.index}return null}function uT(n,t){const{chart:e,_cachedMeta:i}=n,a=e._stacks||(e._stacks={}),{iScale:l,vScale:c,index:h}=i,d=l.axis,m=c.axis,y=p4(l,c,i),v=t.length;let T;for(let A=0;A<v;++A){const D=t[A],{[d]:N,[m]:I}=D,j=D._stacks||(D._stacks={});T=j[m]=_4(a,y,N),T[h]=I,T._top=cT(T,c,!0,i.type),T._bottom=cT(T,c,!1,i.type);const tt=T._visualValues||(T._visualValues={});tt[h]=I}}function zm(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function v4(n,t){return Va(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function b4(n,t,e){return Va(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function fc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const a of t){const l=a._stacks;if(!l||l[i]===void 0||l[i][e]===void 0)return;delete l[i][e],l[i]._visualValues!==void 0&&l[i]._visualValues[e]!==void 0&&delete l[i]._visualValues[e]}}}const Um=n=>n==="reset"||n==="none",hT=(n,t)=>t?n:Object.assign({},n),E4=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:QA(e,!0),values:null};class WA{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Lm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&fc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=(v,T,A,D)=>v==="x"?T:v==="r"?D:A,l=e.xAxisID=jt(i.xAxisID,zm(t,"x")),c=e.yAxisID=jt(i.yAxisID,zm(t,"y")),h=e.rAxisID=jt(i.rAxisID,zm(t,"r")),d=e.indexAxis,m=e.iAxisID=a(d,l,c,h),y=e.vAxisID=a(d,c,l,h);e.xScale=this.getScaleForId(l),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&YE(this._data,this),t._stacked&&fc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Qt(e)){const a=this._cachedMeta;this._data=m4(e,a)}else if(i!==e){if(i){YE(i,this);const a=this._cachedMeta;fc(a),a._parsed=[]}e&&Object.isExtensible(e)&&Jk(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const l=e._stacked;e._stacked=Lm(e.vScale,e),e.stack!==i.stack&&(a=!0,fc(e),e.stack=i.stack),this._resyncElements(t),(a||l!==e._stacked)&&(uT(this,e._parsed),e._stacked=Lm(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:a}=this,{iScale:l,_stacked:c}=i,h=l.axis;let d=t===0&&e===a.length?!0:i._sorted,m=t>0&&i._parsed[t-1],y,v,T;if(this._parsing===!1)i._parsed=a,i._sorted=!0,T=a;else{qe(a[t])?T=this.parseArrayData(i,a,t,e):Qt(a[t])?T=this.parseObjectData(i,a,t,e):T=this.parsePrimitiveData(i,a,t,e);const A=()=>v[h]===null||m&&v[h]<m[h];for(y=0;y<e;++y)i._parsed[y+t]=v=T[y],d&&(A()&&(d=!1),m=v);i._sorted=d}c&&uT(this,T)}parsePrimitiveData(t,e,i,a){const{iScale:l,vScale:c}=t,h=l.axis,d=c.axis,m=l.getLabels(),y=l===c,v=new Array(a);let T,A,D;for(T=0,A=a;T<A;++T)D=T+i,v[T]={[h]:y||l.parse(m[D],D),[d]:c.parse(e[D],D)};return v}parseArrayData(t,e,i,a){const{xScale:l,yScale:c}=t,h=new Array(a);let d,m,y,v;for(d=0,m=a;d<m;++d)y=d+i,v=e[y],h[d]={x:l.parse(v[0],y),y:c.parse(v[1],y)};return h}parseObjectData(t,e,i,a){const{xScale:l,yScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=new Array(a);let y,v,T,A;for(y=0,v=a;y<v;++y)T=y+i,A=e[T],m[y]={x:l.parse(qf(A,h),T),y:c.parse(qf(A,d),T)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const a=this.chart,l=this._cachedMeta,c=e[t.axis],h={keys:QA(a,!0),values:e._stacks[t.axis]._visualValues};return lT(h,c,l.index,{mode:i})}updateRangeFromParsed(t,e,i,a){const l=i[e.axis];let c=l===null?NaN:l;const h=a&&i._stacks[e.axis];a&&h&&(a.values=h,c=lT(a,l,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,a=i._parsed,l=i._sorted&&t===i.iScale,c=a.length,h=this._getOtherScale(t),d=E4(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:v}=y4(h);let T,A;function D(){A=a[T];const N=A[h.axis];return!$n(A[t.axis])||y>N||v<N}for(T=0;T<c&&!(!D()&&(this.updateRangeFromParsed(m,t,A,d),l));++T);if(l){for(T=c-1;T>=0;--T)if(!D()){this.updateRangeFromParsed(m,t,A,d);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let a,l,c;for(a=0,l=e.length;a<l;++a)c=e[a][t.axis],$n(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,a=e.vScale,l=this.getParsed(t);return{label:i?""+i.getLabelForValue(l[i.axis]):"",value:a?""+a.getLabelForValue(l[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=g4(jt(this.options.clip,d4(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,a=i.data||[],l=e.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||a.length-h,m=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,l,h,d),y=h;y<h+d;++y){const v=a[y];v.hidden||(v.active&&m?c.push(v):v.draw(t,l))}for(y=0;y<c.length;++y)c[y].draw(t,l)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const a=this.getDataset();let l;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];l=c.$context||(c.$context=b4(this.getContext(),t,c)),l.parsed=this.getParsed(t),l.raw=a.data[t],l.index=l.dataIndex=t}else l=this.$context||(this.$context=v4(this.chart.getContext(),this.index)),l.dataset=a,l.index=l.datasetIndex=this.index;return l.active=!!e,l.mode=i,l}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const a=e==="active",l=this._cachedDataOpts,c=t+"-"+e,h=l[c],d=this.enableOptionSharing&&Gf(i);if(h)return hT(h,d);const m=this.chart.config,y=m.datasetElementScopeKeys(this._type,t),v=a?[`${t}Hover`,"hover",t,""]:[t,""],T=m.getOptionScopes(this.getDataset(),y),A=Object.keys(Te.elements[t]),D=()=>this.getContext(i,a,e),N=m.resolveNamedOptions(T,A,D,v);return N.$shared&&(N.$shared=d,l[c]=Object.freeze(hT(N,d))),N}_resolveAnimations(t,e,i){const a=this.chart,l=this._cachedDataOpts,c=`animation-${e}`,h=l[c];if(h)return h;let d;if(a.options.animation!==!1){const y=this.chart.config,v=y.datasetAnimationScopeKeys(this._type,e),T=y.getOptionScopes(this.getDataset(),v);d=y.createResolver(T,this.getContext(t,i,e))}const m=new KA(a,d&&d.animations);return d&&d._cacheable&&(l[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Um(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),a=this._sharedOptions,l=this.getSharedOptions(i),c=this.includeOptions(e,l)||l!==a;return this.updateSharedOptions(l,e,i),{sharedOptions:l,includeOptions:c}}updateElement(t,e,i,a){Um(a)?Object.assign(t,i):this._resolveAnimations(e,a).update(t,i)}updateSharedOptions(t,e,i){t&&!Um(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,a){t.active=a;const l=this.getStyle(e,a);this._resolveAnimations(e,i,a).update(t,{options:!a&&this.getSharedOptions(l)||l})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,d,m]of this._syncList)this[h](d,m);this._syncList=[];const a=i.length,l=e.length,c=Math.min(l,a);c&&this.parse(0,c),l>a?this._insertElements(a,l-a,t):l<a&&this._removeElements(l,a-l)}_insertElements(t,e,i=!0){const a=this._cachedMeta,l=a.data,c=t+e;let h;const d=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(d(l),h=t;h<c;++h)l[h]=new this.dataElementType;this._parsing&&d(a._parsed),this.parse(t,e),i&&this.updateElements(l,t,e,"reset")}updateElements(t,e,i,a){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(t,e);i._stacked&&fc(i,a)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,a]=t;this[e](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class T4 extends WA{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:a=[],_dataset:l}=e,c=this.chart._animationsDisabled;let{start:h,count:d}=nV(e,a,c);this._drawStart=h,this._drawCount=d,iV(e)&&(h=0,d=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!l._decimated,i.points=a;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:m},t),this.updateElements(a,h,d,t)}updateElements(t,e,i,a){const l=a==="reset",{iScale:c,vScale:h,_stacked:d,_dataset:m}=this._cachedMeta,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(e,a),T=c.axis,A=h.axis,{spanGaps:D,segment:N}=this.options,I=Jc(D)?D:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||l||a==="none",tt=e+i,et=t.length;let it=e>0&&this.getParsed(e-1);for(let nt=0;nt<et;++nt){const rt=t[nt],x=j?rt:{};if(nt<e||nt>=tt){x.skip=!0;continue}const R=this.getParsed(nt),C=ae(R[A]),V=x[T]=c.getPixelForValue(R[T],nt),M=x[A]=l||C?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,R,d):R[A],nt);x.skip=isNaN(V)||isNaN(M)||C,x.stop=nt>0&&Math.abs(R[T]-it[T])>I,N&&(x.parsed=R,x.raw=m.data[nt]),v&&(x.options=y||this.resolveDataElementOptions(nt,rt.active?"active":a)),j||this.updateElement(rt,nt,x,a),it=R}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return i;const l=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,l,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function fa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Cy{static override(t){Object.assign(Cy.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return fa()}parse(){return fa()}format(){return fa()}add(){return fa()}diff(){return fa()}startOf(){return fa()}endOf(){return fa()}}var S4={_date:Cy};function A4(n,t,e,i){const{controller:a,data:l,_sorted:c}=n,h=a._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&l.length){const m=h._reversePixels?Xk:_a;if(i){if(a._sharedOptions){const y=l[0],v=typeof y.getRange=="function"&&y.getRange(t);if(v){const T=m(l,t,e-v),A=m(l,t,e+v);return{lo:T.lo,hi:A.hi}}}}else{const y=m(l,t,e);if(d){const{vScale:v}=a._cachedMeta,{_parsed:T}=n,A=T.slice(0,y.lo+1).reverse().findIndex(N=>!ae(N[v.axis]));y.lo-=Math.max(0,A);const D=T.slice(y.hi).findIndex(N=>!ae(N[v.axis]));y.hi+=Math.max(0,D)}return y}}return{lo:0,hi:l.length-1}}function md(n,t,e,i,a){const l=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,d=l.length;h<d;++h){const{index:m,data:y}=l[h],{lo:v,hi:T}=A4(l[h],t,c,a);for(let A=v;A<=T;++A){const D=y[A];D.skip||i(D,m,A)}}}function w4(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,a){const l=t?Math.abs(i.x-a.x):0,c=e?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function Bm(n,t,e,i,a){const l=[];return!a&&!n.isPointInArea(t)||md(n,e,t,function(h,d,m){!a&&!Zc(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&l.push({element:h,datasetIndex:d,index:m})},!0),l}function R4(n,t,e,i){let a=[];function l(c,h,d){const{startAngle:m,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:v}=Kk(c,{x:t.x,y:t.y});OA(v,m,y)&&a.push({element:c,datasetIndex:h,index:d})}return md(n,e,t,l),a}function x4(n,t,e,i,a,l){let c=[];const h=w4(e);let d=Number.POSITIVE_INFINITY;function m(y,v,T){const A=y.inRange(t.x,t.y,a);if(i&&!A)return;const D=y.getCenterPoint(a);if(!(!!l||n.isPointInArea(D))&&!A)return;const I=h(t,D);I<d?(c=[{element:y,datasetIndex:v,index:T}],d=I):I===d&&c.push({element:y,datasetIndex:v,index:T})}return md(n,e,t,m),c}function Hm(n,t,e,i,a,l){return!l&&!n.isPointInArea(t)?[]:e==="r"&&!i?R4(n,t,e,a):x4(n,t,e,i,a,l)}function fT(n,t,e,i,a){const l=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return md(n,e,t,(d,m,y)=>{d[c]&&d[c](t[e],a)&&(l.push({element:d,datasetIndex:m,index:y}),h=h||d.inRange(t.x,t.y,a))}),i&&!h?[]:l}var C4={modes:{index(n,t,e,i){const a=ga(t,n),l=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Bm(n,a,l,i,c):Hm(n,a,l,!1,i,c),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const y=h[0].index,v=m.data[y];v&&!v.skip&&d.push({element:v,datasetIndex:m.index,index:y})}),d):[]},dataset(n,t,e,i){const a=ga(t,n),l=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Bm(n,a,l,i,c):Hm(n,a,l,!1,i,c);if(h.length>0){const d=h[0].datasetIndex,m=n.getDatasetMeta(d).data;h=[];for(let y=0;y<m.length;++y)h.push({element:m[y],datasetIndex:d,index:y})}return h},point(n,t,e,i){const a=ga(t,n),l=e.axis||"xy",c=e.includeInvisible||!1;return Bm(n,a,l,i,c)},nearest(n,t,e,i){const a=ga(t,n),l=e.axis||"xy",c=e.includeInvisible||!1;return Hm(n,a,l,e.intersect,i,c)},x(n,t,e,i){const a=ga(t,n);return fT(n,a,"x",e.intersect,i)},y(n,t,e,i){const a=ga(t,n);return fT(n,a,"y",e.intersect,i)}}};const XA=["left","top","right","bottom"];function dc(n,t){return n.filter(e=>e.pos===t)}function dT(n,t){return n.filter(e=>XA.indexOf(e.pos)===-1&&e.box.axis===t)}function gc(n,t){return n.sort((e,i)=>{const a=t?i:e,l=t?e:i;return a.weight===l.weight?a.index-l.index:a.weight-l.weight})}function I4(n){const t=[];let e,i,a,l,c,h;for(e=0,i=(n||[]).length;e<i;++e)a=n[e],{position:l,options:{stack:c,stackWeight:h=1}}=a,t.push({index:e,box:a,pos:l,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&l+c,stackWeight:h});return t}function D4(n){const t={};for(const e of n){const{stack:i,pos:a,stackWeight:l}=e;if(!i||!XA.includes(a))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return t}function O4(n,t){const e=D4(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let l,c,h;for(l=0,c=n.length;l<c;++l){h=n[l];const{fullSize:d}=h.box,m=e[h.stack],y=m&&h.stackWeight/m.weight;h.horizontal?(h.width=y?y*i:d&&t.availableWidth,h.height=a):(h.width=i,h.height=y?y*a:d&&t.availableHeight)}return e}function M4(n){const t=I4(n),e=gc(t.filter(m=>m.box.fullSize),!0),i=gc(dc(t,"left"),!0),a=gc(dc(t,"right")),l=gc(dc(t,"top"),!0),c=gc(dc(t,"bottom")),h=dT(t,"x"),d=dT(t,"y");return{fullSize:e,leftAndTop:i.concat(l),rightAndBottom:a.concat(d).concat(c).concat(h),chartArea:dc(t,"chartArea"),vertical:i.concat(a).concat(d),horizontal:l.concat(c).concat(h)}}function gT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function $A(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function N4(n,t,e,i){const{pos:a,box:l}=e,c=n.maxPadding;if(!Qt(a)){e.size&&(n[a]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?l.height:l.width),e.size=v.size/v.count,n[a]+=e.size}l.getPadding&&$A(c,l.getPadding());const h=Math.max(0,t.outerWidth-gT(c,n,"left","right")),d=Math.max(0,t.outerHeight-gT(c,n,"top","bottom")),m=h!==n.w,y=d!==n.h;return n.w=h,n.h=d,e.horizontal?{same:m,other:y}:{same:y,other:m}}function k4(n){const t=n.maxPadding;function e(i){const a=Math.max(t[i]-n[i],0);return n[i]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function V4(n,t){const e=t.maxPadding;function i(a){const l={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{l[c]=Math.max(t[c],e[c])}),l}return i(n?["left","right"]:["top","bottom"])}function wc(n,t,e,i){const a=[];let l,c,h,d,m,y;for(l=0,c=n.length,m=0;l<c;++l){h=n[l],d=h.box,d.update(h.width||t.w,h.height||t.h,V4(h.horizontal,t));const{same:v,other:T}=N4(t,e,h,i);m|=v&&a.length,y=y||T,d.fullSize||a.push(h)}return m&&wc(a,t,e,i)||y}function sf(n,t,e,i,a){n.top=e,n.left=t,n.right=t+i,n.bottom=e+a,n.width=i,n.height=a}function mT(n,t,e,i){const a=e.padding;let{x:l,y:c}=t;for(const h of n){const d=h.box,m=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/m.weight||1;if(h.horizontal){const v=t.w*y,T=m.size||d.height;Gf(m.start)&&(c=m.start),d.fullSize?sf(d,a.left,c,e.outerWidth-a.right-a.left,T):sf(d,t.left+m.placed,c,v,T),m.start=c,m.placed+=v,c=d.bottom}else{const v=t.h*y,T=m.size||d.width;Gf(m.start)&&(l=m.start),d.fullSize?sf(d,l,a.top,T,e.outerHeight-a.bottom-a.top):sf(d,l,t.top+m.placed,T,v),m.start=l,m.placed+=v,l=d.right}}t.x=l,t.y=c}var Xn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const a=Jn(n.options.layout.padding),l=Math.max(t-a.width,0),c=Math.max(e-a.height,0),h=M4(n.boxes),d=h.vertical,m=h.horizontal;Zt(n.boxes,N=>{typeof N.beforeLayout=="function"&&N.beforeLayout()});const y=d.reduce((N,I)=>I.box.options&&I.box.options.display===!1?N:N+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/y,hBoxMaxHeight:c/2}),T=Object.assign({},a);$A(T,Jn(i));const A=Object.assign({maxPadding:T,w:l,h:c,x:a.left,y:a.top},a),D=O4(d.concat(m),v);wc(h.fullSize,A,v,D),wc(d,A,v,D),wc(m,A,v,D)&&wc(d,A,v,D),k4(A),mT(h.leftAndTop,A,v,D),A.x+=A.w,A.y+=A.h,mT(h.rightAndBottom,A,v,D),n.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},Zt(h.chartArea,N=>{const I=N.box;Object.assign(I,n.chartArea),I.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class JA{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,a){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):i)}}isAttached(t){return!0}updateConfig(t){}}class P4 extends JA{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const bf="$chartjs",L4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},pT=n=>n===null||n==="";function z4(n,t){const e=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[bf]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",pT(a)){const l=nT(n,"width");l!==void 0&&(n.width=l)}if(pT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const l=nT(n,"height");l!==void 0&&(n.height=l)}return n}const ZA=KV?{passive:!0}:!1;function U4(n,t,e){n&&n.addEventListener(t,e,ZA)}function B4(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,ZA)}function H4(n,t){const e=L4[n.type]||n.type,{x:i,y:a}=ga(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:a!==void 0?a:null}}function Qf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function j4(n,t,e){const i=n.canvas,a=new MutationObserver(l=>{let c=!1;for(const h of l)c=c||Qf(h.addedNodes,i),c=c&&!Qf(h.removedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function F4(n,t,e){const i=n.canvas,a=new MutationObserver(l=>{let c=!1;for(const h of l)c=c||Qf(h.removedNodes,i),c=c&&!Qf(h.addedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const eu=new Map;let yT=0;function tw(){const n=window.devicePixelRatio;n!==yT&&(yT=n,eu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function q4(n,t){eu.size||window.addEventListener("resize",tw),eu.set(n,t)}function G4(n){eu.delete(n),eu.size||window.removeEventListener("resize",tw)}function Y4(n,t,e){const i=n.canvas,a=i&&xy(i);if(!a)return;const l=kA((h,d)=>{const m=a.clientWidth;e(h,d),m<a.clientWidth&&e()},window),c=new ResizeObserver(h=>{const d=h[0],m=d.contentRect.width,y=d.contentRect.height;m===0&&y===0||l(m,y)});return c.observe(a),q4(n,l),c}function jm(n,t,e){e&&e.disconnect(),t==="resize"&&G4(n)}function K4(n,t,e){const i=n.canvas,a=kA(l=>{n.ctx!==null&&e(H4(l,n))},n);return U4(i,t,a),a}class Q4 extends JA{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(z4(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[bf])return!1;const i=e[bf].initial;["height","width"].forEach(l=>{const c=i[l];ae(c)?e.removeAttribute(l):e.setAttribute(l,c)});const a=i.style||{};return Object.keys(a).forEach(l=>{e.style[l]=a[l]}),e.width=e.width,delete e[bf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),c={attach:j4,detach:F4,resize:Y4}[e]||K4;a[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),a=i[e];if(!a)return;({attach:jm,detach:jm,resize:jm}[e]||B4)(t,e,a),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,a){return YV(t,e,i,a)}isAttached(t){const e=t&&xy(t);return!!(e&&e.isConnected)}}function W4(n){return!Ry()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?P4:Q4}class Pa{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Jc(this.x)&&Jc(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const a={};return t.forEach(l=>{a[l]=i[l]&&i[l].active()?i[l]._to:this[l]}),a}}function X4(n,t){const e=n.options.ticks,i=$4(n),a=Math.min(e.maxTicksLimit||i,i),l=e.major.enabled?Z4(t):[],c=l.length,h=l[0],d=l[c-1],m=[];if(c>a)return tP(t,m,l,c/a),m;const y=J4(l,t,a);if(c>0){let v,T;const A=c>1?Math.round((d-h)/(c-1)):null;for(rf(t,m,y,ae(A)?0:h-A,h),v=0,T=c-1;v<T;v++)rf(t,m,y,l[v],l[v+1]);return rf(t,m,y,d,ae(A)?t.length:d+A),m}return rf(t,m,y),m}function $4(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(i,a))}function J4(n,t,e){const i=eP(n),a=t.length/e;if(!i)return Math.max(a,1);const l=jk(i);for(let c=0,h=l.length-1;c<h;c++){const d=l[c];if(d>a)return d}return Math.max(a,1)}function Z4(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function tP(n,t,e,i){let a=0,l=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===l&&(t.push(n[c]),a++,l=e[a*i])}function rf(n,t,e,i,a){const l=jt(i,0),c=Math.min(jt(a,n.length),n.length);let h=0,d,m,y;for(e=Math.ceil(e),a&&(d=a-i,e=d/Math.floor(d/e)),y=l;y<0;)h++,y=Math.round(l+h*e);for(m=Math.max(l,0);m<c;m++)m===y&&(t.push(n[m]),h++,y=Math.round(l+h*e))}function eP(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const nP=n=>n==="left"?"right":n==="right"?"left":n,_T=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,vT=(n,t)=>Math.min(t||n,n);function bT(n,t){const e=[],i=n.length/t,a=n.length;let l=0;for(;l<a;l+=i)e.push(n[Math.floor(l)]);return e}function iP(n,t,e){const i=n.ticks.length,a=Math.min(t,i-1),l=n._startPixel,c=n._endPixel,h=1e-6;let d=n.getPixelForTick(a),m;if(!(e&&(i===1?m=Math.max(d-l,c-d):t===0?m=(n.getPixelForTick(1)-d)/2:m=(d-n.getPixelForTick(a-1))/2,d+=a<t?m:-m,d<l-h||d>c+h)))return d}function sP(n,t){Zt(n,e=>{const i=e.gc,a=i.length/2;let l;if(a>t){for(l=0;l<a;++l)delete e.data[i[l]];i.splice(0,a)}})}function mc(n){return n.drawTicks?n.tickLength:0}function ET(n,t){if(!n.display)return 0;const e=on(n.font,t),i=Jn(n.padding);return(qe(n.text)?n.text.length:1)*e.lineHeight+i.height}function rP(n,t){return Va(n,{scale:t,type:"scale"})}function aP(n,t,e){return Va(n,{tick:e,index:t,type:"tick"})}function oP(n,t,e){let i=vy(n);return(e&&t!=="right"||!e&&t==="right")&&(i=nP(i)),i}function lP(n,t,e,i){const{top:a,left:l,bottom:c,right:h,chart:d}=n,{chartArea:m,scales:y}=d;let v=0,T,A,D;const N=c-a,I=h-l;if(n.isHorizontal()){if(A=sn(i,l,h),Qt(e)){const j=Object.keys(e)[0],tt=e[j];D=y[j].getPixelForValue(tt)+N-t}else e==="center"?D=(m.bottom+m.top)/2+N-t:D=_T(n,e,t);T=h-l}else{if(Qt(e)){const j=Object.keys(e)[0],tt=e[j];A=y[j].getPixelForValue(tt)-I+t}else e==="center"?A=(m.left+m.right)/2-I+t:A=_T(n,e,t);D=sn(i,c,a),v=e==="left"?-di:di}return{titleX:A,titleY:D,maxWidth:T,rotation:v}}class sl extends Pa{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:a}=this;return t=Ui(t,Number.POSITIVE_INFINITY),e=Ui(e,Number.NEGATIVE_INFINITY),i=Ui(i,Number.POSITIVE_INFINITY),a=Ui(a,Number.NEGATIVE_INFINITY),{min:Ui(t,i),max:Ui(e,a),minDefined:$n(t),maxDefined:$n(e)}}getMinMax(t){let{min:e,max:i,minDefined:a,maxDefined:l}=this.getUserBounds(),c;if(a&&l)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let d=0,m=h.length;d<m;++d)c=h[d].controller.getMinMax(this,t),a||(e=Math.min(e,c.min)),l||(i=Math.max(i,c.max));return e=l&&e>i?i:e,i=a&&e>i?e:i,{min:Ui(e,Ui(i,e)),max:Ui(i,Ui(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:a,grace:l,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=AV(this,l,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?bT(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=X4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ce(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,a,l;for(i=0,a=t.length;i<a;i++)l=t[i],l.label=ce(e.callback,[l.value,i,t],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=vT(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,l=e.maxRotation;let c=a,h,d,m;if(!this._isVisible()||!e.display||a>=l||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const y=this._getLabelSizes(),v=y.widest.width,T=y.highest.height,A=Wn(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:A/(i-1),v+6>h&&(h=A/(i-(t.offset?.5:1)),d=this.maxHeight-mc(t.grid)-e.padding-ET(t.title,this.chart.options.font),m=Math.sqrt(v*v+T*T),c=Yk(Math.min(Math.asin(Wn((y.highest.height+6)/h,-1,1)),Math.asin(Wn(d/m,-1,1))-Math.asin(Wn(T/m,-1,1)))),c=Math.max(a,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:a,grid:l}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=ET(a,e.options.font);if(h?(t.width=this.maxWidth,t.height=mc(l)+d):(t.height=this.maxHeight,t.width=mc(l)+d),i.display&&this.ticks.length){const{first:m,last:y,widest:v,highest:T}=this._getLabelSizes(),A=i.padding*2,D=ya(this.labelRotation),N=Math.cos(D),I=Math.sin(D);if(h){const j=i.mirror?0:I*v.width+N*T.height;t.height=Math.min(this.maxHeight,t.height+j+A)}else{const j=i.mirror?0:N*v.width+I*T.height;t.width=Math.min(this.maxWidth,t.width+j+A)}this._calculatePadding(m,y,I,N)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,a){const{ticks:{align:l,padding:c},position:h}=this.options,d=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let T=0,A=0;d?m?(T=a*t.width,A=i*e.height):(T=i*t.height,A=a*e.width):l==="start"?A=e.width:l==="end"?T=t.width:l!=="inner"&&(T=t.width/2,A=e.width/2),this.paddingLeft=Math.max((T-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((A-v+c)*this.width/(this.width-v),0)}else{let y=e.height/2,v=t.height/2;l==="start"?(y=0,v=t.height):l==="end"&&(y=e.height,v=0),this.paddingTop=y+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ae(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=bT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:a,_longestTextCache:l}=this,c=[],h=[],d=Math.floor(e/vT(e,i));let m=0,y=0,v,T,A,D,N,I,j,tt,et,it,nt;for(v=0;v<e;v+=d){if(D=t[v].label,N=this._resolveTickFontOptions(v),a.font=I=N.string,j=l[I]=l[I]||{data:{},gc:[]},tt=N.lineHeight,et=it=0,!ae(D)&&!qe(D))et=$E(a,j.data,j.gc,et,D),it=tt;else if(qe(D))for(T=0,A=D.length;T<A;++T)nt=D[T],!ae(nt)&&!qe(nt)&&(et=$E(a,j.data,j.gc,et,nt),it+=tt);c.push(et),h.push(it),m=Math.max(et,m),y=Math.max(it,y)}sP(l,e);const rt=c.indexOf(m),x=h.indexOf(y),R=C=>({width:c[C]||0,height:h[C]||0});return{first:R(0),last:R(e-1),widest:R(rt),highest:R(x),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Wk(this._alignToPixels?ha(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=aP(this.getContext(),t,i))}return this.$context||(this.$context=rP(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ya(this.labelRotation),i=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),l=this._getLabelSizes(),c=t.autoSkipPadding||0,h=l?l.widest.width+c:0,d=l?l.highest.height+c:0;return this.isHorizontal()?d*i>h*a?h/i:d/a:d*a<h*i?d/i:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,a=this.options,{grid:l,position:c,border:h}=a,d=l.offset,m=this.isHorizontal(),v=this.ticks.length+(d?1:0),T=mc(l),A=[],D=h.setContext(this.getContext()),N=D.display?D.width:0,I=N/2,j=function(Y){return ha(i,Y,N)};let tt,et,it,nt,rt,x,R,C,V,M,P,O;if(c==="top")tt=j(this.bottom),x=this.bottom-T,C=tt-I,M=j(t.top)+I,O=t.bottom;else if(c==="bottom")tt=j(this.top),M=t.top,O=j(t.bottom)-I,x=tt+I,C=this.top+T;else if(c==="left")tt=j(this.right),rt=this.right-T,R=tt-I,V=j(t.left)+I,P=t.right;else if(c==="right")tt=j(this.left),V=t.left,P=j(t.right)-I,rt=tt+I,R=this.left+T;else if(e==="x"){if(c==="center")tt=j((t.top+t.bottom)/2+.5);else if(Qt(c)){const Y=Object.keys(c)[0],st=c[Y];tt=j(this.chart.scales[Y].getPixelForValue(st))}M=t.top,O=t.bottom,x=tt+I,C=x+T}else if(e==="y"){if(c==="center")tt=j((t.left+t.right)/2);else if(Qt(c)){const Y=Object.keys(c)[0],st=c[Y];tt=j(this.chart.scales[Y].getPixelForValue(st))}rt=tt-I,R=rt-T,V=t.left,P=t.right}const zt=jt(a.ticks.maxTicksLimit,v),xt=Math.max(1,Math.ceil(v/zt));for(et=0;et<v;et+=xt){const Y=this.getContext(et),st=l.setContext(Y),gt=h.setContext(Y),It=st.lineWidth,Mt=st.color,L=gt.dash||[],W=gt.dashOffset,ot=st.tickWidth,lt=st.tickColor,yt=st.tickBorderDash||[],vt=st.tickBorderDashOffset;it=iP(this,et,d),it!==void 0&&(nt=ha(i,it,It),m?rt=R=V=P=nt:x=C=M=O=nt,A.push({tx1:rt,ty1:x,tx2:R,ty2:C,x1:V,y1:M,x2:P,y2:O,width:It,color:Mt,borderDash:L,borderDashOffset:W,tickWidth:ot,tickColor:lt,tickBorderDash:yt,tickBorderDashOffset:vt}))}return this._ticksLength=v,this._borderValue=tt,A}_computeLabelItems(t){const e=this.axis,i=this.options,{position:a,ticks:l}=i,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:m,padding:y,mirror:v}=l,T=mc(i.grid),A=T+y,D=v?-y:A,N=-ya(this.labelRotation),I=[];let j,tt,et,it,nt,rt,x,R,C,V,M,P,O="middle";if(a==="top")rt=this.bottom-D,x=this._getXAxisLabelAlignment();else if(a==="bottom")rt=this.top+D,x=this._getXAxisLabelAlignment();else if(a==="left"){const xt=this._getYAxisLabelAlignment(T);x=xt.textAlign,nt=xt.x}else if(a==="right"){const xt=this._getYAxisLabelAlignment(T);x=xt.textAlign,nt=xt.x}else if(e==="x"){if(a==="center")rt=(t.top+t.bottom)/2+A;else if(Qt(a)){const xt=Object.keys(a)[0],Y=a[xt];rt=this.chart.scales[xt].getPixelForValue(Y)+A}x=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")nt=(t.left+t.right)/2-A;else if(Qt(a)){const xt=Object.keys(a)[0],Y=a[xt];nt=this.chart.scales[xt].getPixelForValue(Y)}x=this._getYAxisLabelAlignment(T).textAlign}e==="y"&&(d==="start"?O="top":d==="end"&&(O="bottom"));const zt=this._getLabelSizes();for(j=0,tt=h.length;j<tt;++j){et=h[j],it=et.label;const xt=l.setContext(this.getContext(j));R=this.getPixelForTick(j)+l.labelOffset,C=this._resolveTickFontOptions(j),V=C.lineHeight,M=qe(it)?it.length:1;const Y=M/2,st=xt.color,gt=xt.textStrokeColor,It=xt.textStrokeWidth;let Mt=x;c?(nt=R,x==="inner"&&(j===tt-1?Mt=this.options.reverse?"left":"right":j===0?Mt=this.options.reverse?"right":"left":Mt="center"),a==="top"?m==="near"||N!==0?P=-M*V+V/2:m==="center"?P=-zt.highest.height/2-Y*V+V:P=-zt.highest.height+V/2:m==="near"||N!==0?P=V/2:m==="center"?P=zt.highest.height/2-Y*V:P=zt.highest.height-M*V,v&&(P*=-1),N!==0&&!xt.showLabelBackdrop&&(nt+=V/2*Math.sin(N))):(rt=R,P=(1-M)*V/2);let L;if(xt.showLabelBackdrop){const W=Jn(xt.backdropPadding),ot=zt.heights[j],lt=zt.widths[j];let yt=P-W.top,vt=0-W.left;switch(O){case"middle":yt-=ot/2;break;case"bottom":yt-=ot;break}switch(x){case"center":vt-=lt/2;break;case"right":vt-=lt;break;case"inner":j===tt-1?vt-=lt:j>0&&(vt-=lt/2);break}L={left:vt,top:yt,width:lt+W.width,height:ot+W.height,color:xt.backdropColor}}I.push({label:it,font:C,textOffset:P,options:{rotation:N,color:st,strokeColor:gt,strokeWidth:It,textAlign:Mt,textBaseline:O,translation:[nt,rt],backdrop:L}})}return I}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ya(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:a,padding:l}}=this.options,c=this._getLabelSizes(),h=t+l,d=c.widest.width;let m,y;return e==="left"?a?(y=this.right+l,i==="near"?m="left":i==="center"?(m="center",y+=d/2):(m="right",y+=d)):(y=this.right-h,i==="near"?m="right":i==="center"?(m="center",y-=d/2):(m="left",y=this.left)):e==="right"?a?(y=this.left+l,i==="near"?m="right":i==="center"?(m="center",y-=d/2):(m="left",y-=d)):(y=this.left+h,i==="near"?m="left":i==="center"?(m="center",y+=d/2):(m="right",y=this.right)):m="right",{textAlign:m,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:a,width:l,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,a,l,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(l=>l.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let l,c;const h=(d,m,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(l=0,c=a.length;l<c;++l){const d=a[l];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:a}}=this,l=i.setContext(this.getContext()),c=i.display?l.width:0;if(!c)return;const h=a.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let m,y,v,T;this.isHorizontal()?(m=ha(t,this.left,c)-c/2,y=ha(t,this.right,h)+h/2,v=T=d):(v=ha(t,this.top,c)-c/2,T=ha(t,this.bottom,h)+h/2,m=y=d),e.save(),e.lineWidth=l.width,e.strokeStyle=l.color,e.beginPath(),e.moveTo(m,v),e.lineTo(y,T),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&Ey(i,a);const l=this.getLabelItems(t);for(const c of l){const h=c.options,d=c.font,m=c.label,y=c.textOffset;tu(i,m,0,y,d,h)}a&&Ty(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:a}}=this;if(!i.display)return;const l=on(i.font),c=Jn(i.padding),h=i.align;let d=l.lineHeight/2;e==="bottom"||e==="center"||Qt(e)?(d+=c.bottom,qe(i.text)&&(d+=l.lineHeight*(i.text.length-1))):d+=c.top;const{titleX:m,titleY:y,maxWidth:v,rotation:T}=lP(this,d,e,h);tu(t,i.text,0,0,l,{color:i.color,maxWidth:v,rotation:T,textAlign:oP(h,e,a),textBaseline:"middle",translation:[m,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=jt(t.grid&&t.grid.z,-1),a=jt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==sl.prototype.draw?[{z:e,draw:l=>{this.draw(l)}}]:[{z:i,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let l,c;for(l=0,c=e.length;l<c;++l){const h=e[l];h[i]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return on(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class af{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;hP(e)&&(i=this.register(e));const a=this.items,l=t.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+t);return l in a||(a[l]=t,cP(t,c,i),this.override&&Te.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,a=this.scope;i in e&&delete e[i],a&&i in Te[a]&&(delete Te[a][i],this.override&&delete Ia[i])}}function cP(n,t,e){const i=$c(Object.create(null),[e?Te.get(e):{},Te.get(t),n.defaults]);Te.set(t,i),n.defaultRoutes&&uP(t,n.defaultRoutes),n.descriptors&&Te.describe(t,n.descriptors)}function uP(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),a=i.pop(),l=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),d=c.join(".");Te.route(l,a,d,h)})}function hP(n){return"id"in n&&"defaults"in n}class fP{constructor(){this.controllers=new af(WA,"datasets",!0),this.elements=new af(Pa,"elements"),this.plugins=new af(Object,"plugins"),this.scales=new af(sl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(a=>{const l=i||this._getRegistryForType(a);i||l.isForType(a)||l===this.plugins&&a.id?this._exec(t,l,a):Zt(a,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const a=yy(t);ce(i["before"+a],[],i),e[t](i),ce(i["after"+a],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return a}}var Hi=new fP;class dP{constructor(){this._init=void 0}notify(t,e,i,a){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const l=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(l,t,e,i);return e==="afterDestroy"&&(this._notify(l,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,a){a=a||{};for(const l of t){const c=l.plugin,h=c[i],d=[e,a,l.options];if(ce(h,d,c)===!1&&a.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,a=jt(i.options&&i.options.plugins,{}),l=gP(i);return a===!1&&!e?[]:pP(t,l,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,a=(l,c)=>l.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(a(e,i),t,"stop"),this._notify(a(i,e),t,"start")}}function gP(n){const t={},e=[],i=Object.keys(Hi.plugins.items);for(let l=0;l<i.length;l++)e.push(Hi.getPlugin(i[l]));const a=n.plugins||[];for(let l=0;l<a.length;l++){const c=a[l];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function mP(n,t){return!t&&n===!1?null:n===!0?{}:n}function pP(n,{plugins:t,localIds:e},i,a){const l=[],c=n.getContext();for(const h of t){const d=h.id,m=mP(i[d],a);m!==null&&l.push({plugin:h,options:yP(n.config,{plugin:h,local:e[d]},m,c)})}return l}function yP(n,{plugin:t,local:e},i,a){const l=n.pluginScopeKeys(t),c=n.getOptionScopes(i,l);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function vp(n,t){const e=Te.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function _P(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function vP(n,t){return n===t?"_index_":"_value_"}function TT(n){if(n==="x"||n==="y"||n==="r")return n}function bP(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function bp(n,...t){if(TT(n))return n;for(const e of t){const i=e.axis||bP(e.position)||n.length>1&&TT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function ST(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function EP(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return ST(n,"x",e[0])||ST(n,"y",e[0])}return{}}function TP(n,t){const e=Ia[n.type]||{scales:{}},i=t.scales||{},a=vp(n.type,t),l=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=bp(c,h,EP(c,n),Te.scales[h.type]),m=vP(d,a),y=e.scales||{};l[c]=kc(Object.create(null),[{axis:d},h,y[d],y[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,d=c.indexAxis||vp(h,t),y=(Ia[h]||{}).scales||{};Object.keys(y).forEach(v=>{const T=_P(v,d),A=c[T+"AxisID"]||T;l[A]=l[A]||Object.create(null),kc(l[A],[{axis:T},i[A],y[v]])})}),Object.keys(l).forEach(c=>{const h=l[c];kc(h,[Te.scales[h.type],Te.scale])}),l}function ew(n){const t=n.options||(n.options={});t.plugins=jt(t.plugins,{}),t.scales=TP(n,t)}function nw(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function SP(n){return n=n||{},n.data=nw(n.data),ew(n),n}const AT=new Map,iw=new Set;function of(n,t){let e=AT.get(n);return e||(e=t(),AT.set(n,e),iw.add(e)),e}const pc=(n,t,e)=>{const i=qf(t,e);i!==void 0&&n.add(i)};class AP{constructor(t){this._config=SP(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=nw(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),ew(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return of(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return of(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return of(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return of(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let a=i.get(t);return(!a||e)&&(a=new Map,i.set(t,a)),a}getOptionScopes(t,e,i){const{options:a,type:l}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const d=new Set;e.forEach(y=>{t&&(d.add(t),y.forEach(v=>pc(d,t,v))),y.forEach(v=>pc(d,a,v)),y.forEach(v=>pc(d,Ia[l]||{},v)),y.forEach(v=>pc(d,Te,v)),y.forEach(v=>pc(d,pp,v))});const m=Array.from(d);return m.length===0&&m.push(Object.create(null)),iw.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ia[e]||{},Te.datasets[e]||{},{type:e},Te,pp]}resolveNamedOptions(t,e,i,a=[""]){const l={$shared:!0},{resolver:c,subPrefixes:h}=wT(this._resolverCache,t,a);let d=c;if(RP(c,e)){l.$shared=!1,i=Cr(i)?i():i;const m=this.createResolver(t,i,h);d=Qo(c,i,m)}for(const m of e)l[m]=d[m];return l}createResolver(t,e,i=[""],a){const{resolver:l}=wT(this._resolverCache,t,i);return Qt(e)?Qo(l,e,void 0,a):l}}function wT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const a=e.join();let l=i.get(a);return l||(l={resolver:Sy(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(a,l)),l}const wP=n=>Qt(n)&&Object.getOwnPropertyNames(n).some(t=>Cr(n[t]));function RP(n,t){const{isScriptable:e,isIndexable:i}=UA(n);for(const a of t){const l=e(a),c=i(a),h=(c||l)&&n[a];if(l&&(Cr(h)||wP(h))||c&&qe(h))return!0}return!1}var xP="4.5.1";const CP=["top","bottom","left","right","chartArea"];function RT(n,t){return n==="top"||n==="bottom"||CP.indexOf(n)===-1&&t==="x"}function xT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function CT(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ce(e&&e.onComplete,[n],t)}function IP(n){const t=n.chart,e=t.options.animation;ce(e&&e.onProgress,[n],t)}function sw(n){return Ry()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Ef={},IT=n=>{const t=sw(n);return Object.values(Ef).filter(e=>e.canvas===t).pop()};function DP(n,t,e){const i=Object.keys(n);for(const a of i){const l=+a;if(l>=t){const c=n[a];delete n[a],(e>0||l>t)&&(n[l+e]=c)}}}function OP(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let pd=class{static defaults=Te;static instances=Ef;static overrides=Ia;static registry=Hi;static version=xP;static getChart=IT;static register(...t){Hi.add(...t),DT()}static unregister(...t){Hi.remove(...t),DT()}constructor(t,e){const i=this.config=new AP(e),a=sw(t),l=IT(a);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||W4(a)),this.platform.updateConfig(i);const h=this.platform.acquireContext(a,c.aspectRatio),d=h&&h.canvas,m=d&&d.height,y=d&&d.width;if(this.id=Nk(),this.ctx=h,this.canvas=d,this.width=y,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new dP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=tV(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],Ef[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}ps.listen(this,"complete",CT),ps.listen(this,"progress",IP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:a,_aspectRatio:l}=this;return ae(t)?e&&l?l:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Hi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():eT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return JE(this.canvas,this.ctx),this}stop(){return ps.stop(this),this}resize(t,e){ps.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.canvas,l=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,e,l),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,eT(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),ce(i.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Zt(e,(i,a)=>{i.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,a=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let l=[];e&&(l=l.concat(Object.keys(e).map(c=>{const h=e[c],d=bp(c,h),m=d==="r",y=d==="x";return{options:h,dposition:m?"chartArea":y?"bottom":"left",dtype:m?"radialLinear":y?"category":"linear"}}))),Zt(l,c=>{const h=c.options,d=h.id,m=bp(d,h),y=jt(h.type,c.dtype);(h.position===void 0||RT(h.position,m)!==RT(c.dposition))&&(h.position=c.dposition),a[d]=!0;let v=null;if(d in i&&i[d].type===y)v=i[d];else{const T=Hi.getScale(y);v=new T({id:d,type:y,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),Zt(a,(c,h)=>{c||delete i[h]}),Zt(i,c=>{Xn.configure(this,c,c.options),Xn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((a,l)=>a.index-l.index),i>e){for(let a=e;a<i;++a)this._destroyDatasetMeta(a);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(xT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,a)=>{e.filter(l=>l===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=e.length;i<a;i++){const l=e[i];let c=this.getDatasetMeta(i);const h=l.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=l.indexAxis||vp(h,this.options),c.order=l.order||0,c.index=i,c.label=""+l.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const d=Hi.getController(h),{datasetElementType:m,dataElementType:y}=Te.datasets[h];Object.assign(d,{dataElementType:Hi.getElement(y),datasetElementType:m&&Hi.getElement(m)}),c.controller=new d(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Zt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,y=this.data.datasets.length;m<y;m++){const{controller:v}=this.getDatasetMeta(m),T=!a&&l.indexOf(v)===-1;v.buildOrUpdateElements(T),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||Zt(l,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(xT("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Zt(this.scales,t=>{Xn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!jE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:l}of e){const c=i==="_removeElements"?-l:l;DP(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=l=>new Set(t.filter(c=>c[0]===l).map((c,h)=>h+","+c.splice(1).join(","))),a=i(0);for(let l=1;l<e;l++)if(!jE(a,i(l)))return;return Array.from(a).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Xn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Zt(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,l)=>{a._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Cr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),a={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ps.has(this)?this.attached&&!ps.running(this)&&ps.start(this):(this.draw(),CT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let a,l;for(a=0,l=e.length;a<l;++a){const c=e[a];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=o4(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&Ey(e,a),t.controller.draw(),a&&Ty(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Zc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,a){const l=C4.modes[e];return typeof l=="function"?l(this,t,i,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let a=i.filter(l=>l&&l._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=Va(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const a=i?"show":"hide",l=this.getDatasetMeta(t),c=l.controller._resolveAnimations(void 0,a);Gf(e)?(l.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(l,{visible:i}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ps.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),JE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Ef[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},a=(l,c,h)=>{l.offsetX=c,l.offsetY=h,this._eventHandler(l)};Zt(this.options.events,l=>i(l,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,m)=>{e.addEventListener(this,d,m),t[d]=m},a=(d,m)=>{t[d]&&(e.removeEventListener(this,d,m),delete t[d])},l=(d,m)=>{this.canvas&&this.resize(d,m)};let c;const h=()=>{a("attach",h),this.attached=!0,this.resize(),i("resize",l),i("detach",c)};c=()=>{this.attached=!1,a("resize",l),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Zt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Zt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const a=i?"set":"remove";let l,c,h,d;for(e==="dataset"&&(l=this.getDatasetMeta(t[0].datasetIndex),l.controller["_"+a+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:l,index:c})=>{const h=this.getDatasetMeta(l);if(!h)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:h.data[c],index:c}});!jf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const a=this.options.hover,l=(d,m)=>d.filter(y=>!m.some(v=>y.datasetIndex===v.datasetIndex&&y.index===v.index)),c=l(e,t),h=i?t:l(t,e);c.length&&this.updateHoverStyle(c,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const l=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(l||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:a=[],options:l}=this,c=e,h=this._getActiveElements(t,a,i,c),d=Uk(t),m=OP(t,this._lastEvent,i,d);i&&(this._lastEvent=null,ce(l.onHover,[t,h,this],this),d&&ce(l.onClick,[t,h,this],this));const y=!jf(h,a);return(y||e)&&(this._active=h,this._updateHoverStyles(h,a,e)),this._lastEvent=m,y}_getActiveElements(t,e,i,a){if(t.type==="mouseout")return[];if(!i)return e;const l=this.options.hover;return this.getElementsAtEventForMode(t,l.mode,l,a)}};function DT(){return Zt(pd.instances,n=>n._plugins.invalidate())}function rw(n,t,e=t){n.lineCap=jt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(jt(e.borderDash,t.borderDash)),n.lineDashOffset=jt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=jt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=jt(e.borderWidth,t.borderWidth),n.strokeStyle=jt(e.borderColor,t.borderColor)}function MP(n,t,e){n.lineTo(e.x,e.y)}function NP(n){return n.stepped?gV:n.tension||n.cubicInterpolationMode==="monotone"?mV:MP}function aw(n,t,e={}){const i=n.length,{start:a=0,end:l=i-1}=e,{start:c,end:h}=t,d=Math.max(a,c),m=Math.min(l,h),y=a<c&&l<c||a>h&&l>h;return{count:i,start:d,loop:t.loop,ilen:m<d&&!y?i+m-d:m-d}}function kP(n,t,e,i){const{points:a,options:l}=t,{count:c,start:h,loop:d,ilen:m}=aw(a,e,i),y=NP(l);let{move:v=!0,reverse:T}=i||{},A,D,N;for(A=0;A<=m;++A)D=a[(h+(T?m-A:A))%c],!D.skip&&(v?(n.moveTo(D.x,D.y),v=!1):y(n,N,D,T,l.stepped),N=D);return d&&(D=a[(h+(T?m:0))%c],y(n,N,D,T,l.stepped)),!!d}function VP(n,t,e,i){const a=t.points,{count:l,start:c,ilen:h}=aw(a,e,i),{move:d=!0,reverse:m}=i||{};let y=0,v=0,T,A,D,N,I,j;const tt=it=>(c+(m?h-it:it))%l,et=()=>{N!==I&&(n.lineTo(y,I),n.lineTo(y,N),n.lineTo(y,j))};for(d&&(A=a[tt(0)],n.moveTo(A.x,A.y)),T=0;T<=h;++T){if(A=a[tt(T)],A.skip)continue;const it=A.x,nt=A.y,rt=it|0;rt===D?(nt<N?N=nt:nt>I&&(I=nt),y=(v*y+it)/++v):(et(),n.lineTo(it,nt),D=rt,v=0,N=I=nt),j=nt}et()}function Ep(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?VP:kP}function PP(n){return n.stepped?QV:n.tension||n.cubicInterpolationMode==="monotone"?WV:ma}function LP(n,t,e,i){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,i)&&a.closePath()),rw(n,t.options),n.stroke(a)}function zP(n,t,e,i){const{segments:a,options:l}=t,c=Ep(t);for(const h of a)rw(n,l,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const UP=typeof Path2D=="function";function BP(n,t,e,i){UP&&!t.options.segment?LP(n,t,e,i):zP(n,t,e,i)}class HP extends Pa{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const a=i.spanGaps?this._loop:this._fullLoop;BV(this._points,i,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=i4(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,a=t[e],l=this.points,c=t4(this,{property:e,start:a,end:a});if(!c.length)return;const h=[],d=PP(i);let m,y;for(m=0,y=c.length;m<y;++m){const{start:v,end:T}=c[m],A=l[v],D=l[T];if(A===D){h.push(A);continue}const N=Math.abs((a-A[e])/(D[e]-A[e])),I=d(A,D,N,i.stepped);I[e]=t[e],h.push(I)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Ep(this)(t,this,e,i)}path(t,e,i){const a=this.segments,l=Ep(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of a)c&=l(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,a){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(t.save(),BP(t,this,i,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function OT(n,t,e,i){const a=n.options,{[e]:l}=n.getProps([e],i);return Math.abs(t-l)<a.radius+a.hitRadius}class jP extends Pa{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const a=this.options,{x:l,y:c}=this.getProps(["x","y"],i);return Math.pow(t-l,2)+Math.pow(e-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,e){return OT(this,t,"x",e)}inYRange(t,e){return OT(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Zc(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,yp(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}const MT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},FP=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class NT extends Pa{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ce(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,a)=>t.sort(i,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,a=on(i.font),l=a.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=MT(i,l);let m,y;e.font=a.string,this.isHorizontal()?(m=this.maxWidth,y=this._fitRows(c,l,h,d)+10):(y=this.maxHeight,m=this._fitCols(c,a,h,d)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,a){const{ctx:l,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.lineWidths=[0],y=a+h;let v=t;l.textAlign="left",l.textBaseline="middle";let T=-1,A=-y;return this.legendItems.forEach((D,N)=>{const I=i+e/2+l.measureText(D.text).width;(N===0||m[m.length-1]+I+2*h>c)&&(v+=y,m[m.length-(N>0?0:1)]=0,A+=y,T++),d[N]={left:0,top:A,row:T,width:I,height:a},m[m.length-1]+=I+h}),v}_fitCols(t,e,i,a){const{ctx:l,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.columnSizes=[],y=c-t;let v=h,T=0,A=0,D=0,N=0;return this.legendItems.forEach((I,j)=>{const{itemWidth:tt,itemHeight:et}=qP(i,e,l,I,a);j>0&&A+et+2*h>y&&(v+=T+h,m.push({width:T,height:A}),D+=T+h,N++,T=A=0),d[j]={left:D,top:A,col:N,width:tt,height:et},T=Math.max(T,tt),A+=et+h}),v+=T,m.push({width:T,height:A}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:a},rtl:l}}=this,c=Bo(l,this.left,this.width);if(this.isHorizontal()){let h=0,d=sn(i,this.left+a,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,d=sn(i,this.left+a,this.right-this.lineWidths[h])),m.top+=this.top+t+a,m.left=c.leftForLtr(c.x(d),m.width),d+=m.width+a}else{let h=0,d=sn(i,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,d=sn(i,this.top+t+a,this.bottom-this.columnSizes[h].height)),m.top=d,m.left+=this.left+a,m.left=c.leftForLtr(c.x(m.left),m.width),d+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ey(t,this),this._draw(),Ty(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:a}=this,{align:l,labels:c}=t,h=Te.color,d=Bo(t.rtl,this.left,this.width),m=on(c.font),{padding:y}=c,v=m.size,T=v/2;let A;this.drawTitle(),a.textAlign=d.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:D,boxHeight:N,itemHeight:I}=MT(c,v),j=function(rt,x,R){if(isNaN(D)||D<=0||isNaN(N)||N<0)return;a.save();const C=jt(R.lineWidth,1);if(a.fillStyle=jt(R.fillStyle,h),a.lineCap=jt(R.lineCap,"butt"),a.lineDashOffset=jt(R.lineDashOffset,0),a.lineJoin=jt(R.lineJoin,"miter"),a.lineWidth=C,a.strokeStyle=jt(R.strokeStyle,h),a.setLineDash(jt(R.lineDash,[])),c.usePointStyle){const V={radius:N*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:C},M=d.xPlus(rt,D/2),P=x+T;LA(a,V,M,P,c.pointStyleWidth&&D)}else{const V=x+Math.max((v-N)/2,0),M=d.leftForLtr(rt,D),P=zc(R.borderRadius);a.beginPath(),Object.values(P).some(O=>O!==0)?_p(a,{x:M,y:V,w:D,h:N,radius:P}):a.rect(M,V,D,N),a.fill(),C!==0&&a.stroke()}a.restore()},tt=function(rt,x,R){tu(a,R.text,rt,x+I/2,m,{strikethrough:R.hidden,textAlign:d.textAlign(R.textAlign)})},et=this.isHorizontal(),it=this._computeTitleHeight();et?A={x:sn(l,this.left+y,this.right-i[0]),y:this.top+y+it,line:0}:A={x:this.left+y,y:sn(l,this.top+it+y,this.bottom-e[0].height),line:0},qA(this.ctx,t.textDirection);const nt=I+y;this.legendItems.forEach((rt,x)=>{a.strokeStyle=rt.fontColor,a.fillStyle=rt.fontColor;const R=a.measureText(rt.text).width,C=d.textAlign(rt.textAlign||(rt.textAlign=c.textAlign)),V=D+T+R;let M=A.x,P=A.y;d.setWidth(this.width),et?x>0&&M+V+y>this.right&&(P=A.y+=nt,A.line++,M=A.x=sn(l,this.left+y,this.right-i[A.line])):x>0&&P+nt>this.bottom&&(M=A.x=M+e[A.line].width+y,A.line++,P=A.y=sn(l,this.top+it+y,this.bottom-e[A.line].height));const O=d.x(M);if(j(O,P,rt),M=eV(C,M+D+T,et?M+V:this.right,t.rtl),tt(d.x(M),P,rt),et)A.x+=V+y;else if(typeof rt.text!="string"){const zt=m.lineHeight;A.y+=ow(rt,zt)+y}else A.y+=nt}),GA(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=on(e.font),a=Jn(e.padding);if(!e.display)return;const l=Bo(t.rtl,this.left,this.width),c=this.ctx,h=e.position,d=i.size/2,m=a.top+d;let y,v=this.left,T=this.width;if(this.isHorizontal())T=Math.max(...this.lineWidths),y=this.top+m,v=sn(t.align,v,this.right-T);else{const D=this.columnSizes.reduce((N,I)=>Math.max(N,I.height),0);y=m+sn(t.align,this.top,this.bottom-D-t.labels.padding-this._computeTitleHeight())}const A=sn(h,v,v+T);c.textAlign=l.textAlign(vy(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,tu(c,e.text,A,y,i)}_computeTitleHeight(){const t=this.options.title,e=on(t.font),i=Jn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,a,l;if(Ac(t,this.left,this.right)&&Ac(e,this.top,this.bottom)){for(l=this.legendHitBoxes,i=0;i<l.length;++i)if(a=l[i],Ac(t,a.left,a.left+a.width)&&Ac(e,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!KP(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,l=FP(a,i);a&&!l&&ce(e.onLeave,[t,a,this],this),this._hoveredItem=i,i&&!l&&ce(e.onHover,[t,i,this],this)}else i&&ce(e.onClick,[t,i,this],this)}}function qP(n,t,e,i,a){const l=GP(i,n,t,e),c=YP(a,i,t.lineHeight);return{itemWidth:l,itemHeight:c}}function GP(n,t,e,i){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((l,c)=>l.length>c.length?l:c)),t+e.size/2+i.measureText(a).width}function YP(n,t,e){let i=n;return typeof t.text!="string"&&(i=ow(t,e)),i}function ow(n,t){const e=n.text?n.text.length:0;return t*e}function KP(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var QP={id:"legend",_element:NT,start(n,t,e){const i=n.legend=new NT({ctx:n.ctx,options:e,chart:n});Xn.configure(n,i,e),Xn.addBox(n,i)},stop(n){Xn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Xn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:a,color:l,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const m=d.controller.getStyle(e?0:void 0),y=Jn(m.borderWidth);return{text:t[d.index].label,fillStyle:m.backgroundColor,fontColor:l,hidden:!d.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class lw extends Pa{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=qe(i.text)?i.text.length:1;this._padding=Jn(i.padding);const l=a*on(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:a,right:l,options:c}=this,h=c.align;let d=0,m,y,v;return this.isHorizontal()?(y=sn(h,i,l),v=e+t,m=l-i):(c.position==="left"?(y=i+t,v=sn(h,a,e),d=Ge*-.5):(y=l-t,v=sn(h,e,a),d=Ge*.5),m=a-e),{titleX:y,titleY:v,maxWidth:m,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=on(e.font),l=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:d,rotation:m}=this._drawArgs(l);tu(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:m,textAlign:vy(e.align),textBaseline:"middle",translation:[c,h]})}}function WP(n,t){const e=new lw({ctx:n.ctx,options:t,chart:n});Xn.configure(n,e,t),Xn.addBox(n,e),n.titleBlock=e}var XP={id:"title",_element:lw,start(n,t,e){WP(n,e)},stop(n){const t=n.titleBlock;Xn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Xn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Rc={average(n){if(!n.length)return!1;let t,e,i=new Set,a=0,l=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();i.add(d.x),a+=d.y,++l}}return l===0||i.size===0?!1:{x:[...i].reduce((h,d)=>h+d)/i.size,y:a/l}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,a=Number.POSITIVE_INFINITY,l,c,h;for(l=0,c=n.length;l<c;++l){const d=n[l].element;if(d&&d.hasValue()){const m=d.getCenterPoint(),y=mp(t,m);y<a&&(a=y,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function Bi(n,t){return t&&(qe(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ys(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function $P(n,t){const{element:e,datasetIndex:i,index:a}=t,l=n.getDatasetMeta(i).controller,{label:c,value:h}=l.getLabelAndValue(a);return{chart:n,label:c,parsed:l.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:h,dataset:l.getDataset(),dataIndex:a,datasetIndex:i,element:e}}function kT(n,t){const e=n.chart.ctx,{body:i,footer:a,title:l}=n,{boxWidth:c,boxHeight:h}=t,d=on(t.bodyFont),m=on(t.titleFont),y=on(t.footerFont),v=l.length,T=a.length,A=i.length,D=Jn(t.padding);let N=D.height,I=0,j=i.reduce((it,nt)=>it+nt.before.length+nt.lines.length+nt.after.length,0);if(j+=n.beforeBody.length+n.afterBody.length,v&&(N+=v*m.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),j){const it=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;N+=A*it+(j-A)*d.lineHeight+(j-1)*t.bodySpacing}T&&(N+=t.footerMarginTop+T*y.lineHeight+(T-1)*t.footerSpacing);let tt=0;const et=function(it){I=Math.max(I,e.measureText(it).width+tt)};return e.save(),e.font=m.string,Zt(n.title,et),e.font=d.string,Zt(n.beforeBody.concat(n.afterBody),et),tt=t.displayColors?c+2+t.boxPadding:0,Zt(i,it=>{Zt(it.before,et),Zt(it.lines,et),Zt(it.after,et)}),tt=0,e.font=y.string,Zt(n.footer,et),e.restore(),I+=D.width,{width:I,height:N}}function JP(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function ZP(n,t,e,i){const{x:a,width:l}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&a+l+c>t.width||n==="right"&&a-l-c<0)return!0}function tL(n,t,e,i){const{x:a,width:l}=e,{width:c,chartArea:{left:h,right:d}}=n;let m="center";return i==="center"?m=a<=(h+d)/2?"left":"right":a<=l/2?m="left":a>=c-l/2&&(m="right"),ZP(m,n,t,e)&&(m="center"),m}function VT(n,t,e){const i=e.yAlign||t.yAlign||JP(n,e);return{xAlign:e.xAlign||t.xAlign||tL(n,t,e,i),yAlign:i}}function eL(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function nL(n,t,e){let{y:i,height:a}=n;return t==="top"?i+=e:t==="bottom"?i-=a+e:i-=a/2,i}function PT(n,t,e,i){const{caretSize:a,caretPadding:l,cornerRadius:c}=n,{xAlign:h,yAlign:d}=e,m=a+l,{topLeft:y,topRight:v,bottomLeft:T,bottomRight:A}=zc(c);let D=eL(t,h);const N=nL(t,d,m);return d==="center"?h==="left"?D+=m:h==="right"&&(D-=m):h==="left"?D-=Math.max(y,T)+a:h==="right"&&(D+=Math.max(v,A)+a),{x:Wn(D,0,i.width-t.width),y:Wn(N,0,i.height-t.height)}}function lf(n,t,e){const i=Jn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function LT(n){return Bi([],ys(n))}function iL(n,t,e){return Va(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function zT(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const cw={beforeTitle:ms,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ms,beforeBody:ms,beforeLabel:ms,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return ae(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ms,afterBody:ms,beforeFooter:ms,footer:ms,afterFooter:ms};function bn(n,t,e,i){const a=n[t].call(e,i);return typeof a>"u"?cw[t].call(e,i):a}class UT extends Pa{static positioners=Rc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&e.options.animation&&i.animations,l=new KA(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=iL(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,a=bn(i,"beforeTitle",this,t),l=bn(i,"title",this,t),c=bn(i,"afterTitle",this,t);let h=[];return h=Bi(h,ys(a)),h=Bi(h,ys(l)),h=Bi(h,ys(c)),h}getBeforeBody(t,e){return LT(bn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,a=[];return Zt(t,l=>{const c={before:[],lines:[],after:[]},h=zT(i,l);Bi(c.before,ys(bn(h,"beforeLabel",this,l))),Bi(c.lines,bn(h,"label",this,l)),Bi(c.after,ys(bn(h,"afterLabel",this,l))),a.push(c)}),a}getAfterBody(t,e){return LT(bn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,a=bn(i,"beforeFooter",this,t),l=bn(i,"footer",this,t),c=bn(i,"afterFooter",this,t);let h=[];return h=Bi(h,ys(a)),h=Bi(h,ys(l)),h=Bi(h,ys(c)),h}_createItems(t){const e=this._active,i=this.chart.data,a=[],l=[],c=[];let h=[],d,m;for(d=0,m=e.length;d<m;++d)h.push($P(this.chart,e[d]));return t.filter&&(h=h.filter((y,v,T)=>t.filter(y,v,T,i))),t.itemSort&&(h=h.sort((y,v)=>t.itemSort(y,v,i))),Zt(h,y=>{const v=zT(t.callbacks,y);a.push(bn(v,"labelColor",this,y)),l.push(bn(v,"labelPointStyle",this,y)),c.push(bn(v,"labelTextColor",this,y))}),this.labelColors=a,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),a=this._active;let l,c=[];if(!a.length)this.opacity!==0&&(l={opacity:0});else{const h=Rc[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const d=this._size=kT(this,i),m=Object.assign({},h,d),y=VT(this.chart,i,m),v=PT(i,m,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,l={opacity:1,x:v.x,y:v.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,a){const l=this.getCaretPosition(t,i,a);e.lineTo(l.x1,l.y1),e.lineTo(l.x2,l.y2),e.lineTo(l.x3,l.y3)}getCaretPosition(t,e,i){const{xAlign:a,yAlign:l}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:d,topRight:m,bottomLeft:y,bottomRight:v}=zc(h),{x:T,y:A}=t,{width:D,height:N}=e;let I,j,tt,et,it,nt;return l==="center"?(it=A+N/2,a==="left"?(I=T,j=I-c,et=it+c,nt=it-c):(I=T+D,j=I+c,et=it-c,nt=it+c),tt=I):(a==="left"?j=T+Math.max(d,y)+c:a==="right"?j=T+D-Math.max(m,v)-c:j=this.caretX,l==="top"?(et=A,it=et-c,I=j-c,tt=j+c):(et=A+N,it=et+c,I=j+c,tt=j-c),nt=et),{x1:I,x2:j,x3:tt,y1:et,y2:it,y3:nt}}drawTitle(t,e,i){const a=this.title,l=a.length;let c,h,d;if(l){const m=Bo(i.rtl,this.x,this.width);for(t.x=lf(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=on(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,d=0;d<l;++d)e.fillText(a[d],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,d+1===l&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,a,l){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:d,boxWidth:m}=l,y=on(l.bodyFont),v=lf(this,"left",l),T=a.x(v),A=d<y.lineHeight?(y.lineHeight-d)/2:0,D=e.y+A;if(l.usePointStyle){const N={radius:Math.min(m,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},I=a.leftForLtr(T,m)+m/2,j=D+d/2;t.strokeStyle=l.multiKeyBackground,t.fillStyle=l.multiKeyBackground,yp(t,N,I,j),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,yp(t,N,I,j)}else{t.lineWidth=Qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const N=a.leftForLtr(T,m),I=a.leftForLtr(a.xPlus(T,1),m-2),j=zc(c.borderRadius);Object.values(j).some(tt=>tt!==0)?(t.beginPath(),t.fillStyle=l.multiKeyBackground,_p(t,{x:N,y:D,w:m,h:d,radius:j}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),_p(t,{x:I,y:D+1,w:m-2,h:d-2,radius:j}),t.fill()):(t.fillStyle=l.multiKeyBackground,t.fillRect(N,D,m,d),t.strokeRect(N,D,m,d),t.fillStyle=c.backgroundColor,t.fillRect(I,D+1,m-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:a}=this,{bodySpacing:l,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:m,boxPadding:y}=i,v=on(i.bodyFont);let T=v.lineHeight,A=0;const D=Bo(i.rtl,this.x,this.width),N=function(R){e.fillText(R,D.x(t.x+A),t.y+T/2),t.y+=T+l},I=D.textAlign(c);let j,tt,et,it,nt,rt,x;for(e.textAlign=c,e.textBaseline="middle",e.font=v.string,t.x=lf(this,I,i),e.fillStyle=i.bodyColor,Zt(this.beforeBody,N),A=h&&I!=="right"?c==="center"?m/2+y:m+2+y:0,it=0,rt=a.length;it<rt;++it){for(j=a[it],tt=this.labelTextColors[it],e.fillStyle=tt,Zt(j.before,N),et=j.lines,h&&et.length&&(this._drawColorBox(e,t,it,D,i),T=Math.max(v.lineHeight,d)),nt=0,x=et.length;nt<x;++nt)N(et[nt]),T=v.lineHeight;Zt(j.after,N)}A=0,T=v.lineHeight,Zt(this.afterBody,N),t.y-=l}drawFooter(t,e,i){const a=this.footer,l=a.length;let c,h;if(l){const d=Bo(i.rtl,this.x,this.width);for(t.x=lf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",c=on(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<l;++h)e.fillText(a[h],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,a){const{xAlign:l,yAlign:c}=this,{x:h,y:d}=t,{width:m,height:y}=i,{topLeft:v,topRight:T,bottomLeft:A,bottomRight:D}=zc(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(h+v,d),c==="top"&&this.drawCaret(t,e,i,a),e.lineTo(h+m-T,d),e.quadraticCurveTo(h+m,d,h+m,d+T),c==="center"&&l==="right"&&this.drawCaret(t,e,i,a),e.lineTo(h+m,d+y-D),e.quadraticCurveTo(h+m,d+y,h+m-D,d+y),c==="bottom"&&this.drawCaret(t,e,i,a),e.lineTo(h+A,d+y),e.quadraticCurveTo(h,d+y,h,d+y-A),c==="center"&&l==="left"&&this.drawCaret(t,e,i,a),e.lineTo(h,d+v),e.quadraticCurveTo(h,d,h+v,d),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,a=i&&i.x,l=i&&i.y;if(a||l){const c=Rc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=kT(this,t),d=Object.assign({},c,this._size),m=VT(e,t,d),y=PT(t,d,m,e);(a._to!==y.x||l._to!==y.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},l={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=Jn(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(l,t,a,e),qA(t,e.textDirection),l.y+=c.top,this.drawTitle(l,t,e),this.drawBody(l,t,e),this.drawFooter(l,t,e),GA(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,a=t.map(({datasetIndex:h,index:d})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[d],index:d}}),l=!jf(i,a),c=this._positionChanged(a,e);(l||c)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,l=this._active||[],c=this._getActiveElements(t,l,e,i),h=this._positionChanged(c,t),d=e||!jf(c,l)||h;return d&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,a){const l=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,l.mode,l,i);return l.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:a,options:l}=this,c=Rc[l.position].call(this,t,e);return c!==!1&&(i!==c.x||a!==c.y)}}var sL={id:"tooltip",_element:UT,positioners:Rc,afterInit(n,t,e){e&&(n.tooltip=new UT({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const rL=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function aL(n,t,e,i){const a=n.indexOf(t);if(a===-1)return rL(n,t,e,i);const l=n.lastIndexOf(t);return a!==l?e:a}const oL=(n,t)=>n===null?null:Wn(Math.round(n),0,t);function BT(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class lL extends sl{static id="category";static defaults={ticks:{callback:BT}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:a,label:l}of e)i[a]===l&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ae(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:aL(i,t,jt(e,t),this._addedLabels),oL(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,a=[];let l=this.getLabels();l=t===0&&e===l.length-1?l:l.slice(t,e+1),this._valueRange=Math.max(l.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)a.push({value:c});return a}getLabelForValue(t){return BT.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function cL(n,t){const e=[],{bounds:a,step:l,min:c,max:h,precision:d,count:m,maxTicks:y,maxDigits:v,includeBounds:T}=n,A=l||1,D=y-1,{min:N,max:I}=t,j=!ae(c),tt=!ae(h),et=!ae(m),it=(I-N)/(v+1);let nt=qE((I-N)/D/A)*A,rt,x,R,C;if(nt<1e-14&&!j&&!tt)return[{value:N},{value:I}];C=Math.ceil(I/nt)-Math.floor(N/nt),C>D&&(nt=qE(C*nt/D/A)*A),ae(d)||(rt=Math.pow(10,d),nt=Math.ceil(nt*rt)/rt),a==="ticks"?(x=Math.floor(N/nt)*nt,R=Math.ceil(I/nt)*nt):(x=N,R=I),j&&tt&&l&&qk((h-c)/l,nt/1e3)?(C=Math.round(Math.min((h-c)/nt,y)),nt=(h-c)/C,x=c,R=h):et?(x=j?c:x,R=tt?h:R,C=m-1,nt=(R-x)/C):(C=(R-x)/nt,Vc(C,Math.round(C),nt/1e3)?C=Math.round(C):C=Math.ceil(C));const V=Math.max(GE(nt),GE(x));rt=Math.pow(10,ae(d)?V:d),x=Math.round(x*rt)/rt,R=Math.round(R*rt)/rt;let M=0;for(j&&(T&&x!==c?(e.push({value:c}),x<c&&M++,Vc(Math.round((x+M*nt)*rt)/rt,c,HT(c,it,n))&&M++):x<c&&M++);M<C;++M){const P=Math.round((x+M*nt)*rt)/rt;if(tt&&P>h)break;e.push({value:P})}return tt&&T&&R!==h?e.length&&Vc(e[e.length-1].value,h,HT(h,it,n))?e[e.length-1].value=h:e.push({value:h}):(!tt||R===h)&&e.push({value:R}),e}function HT(n,t,{horizontal:e,minRotation:i}){const a=ya(i),l=(e?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+n).length;return Math.min(t/l,c)}class uL extends sl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ae(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:l}=this;const c=d=>a=e?a:d,h=d=>l=i?l:d;if(t){const d=Ko(a),m=Ko(l);d<0&&m<0?h(0):d>0&&m>0&&c(0)}if(a===l){let d=l===0?1:Math.abs(l*.05);h(l+d),t||c(a-d)}this.min=a,this.max=l}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},l=this._range||this,c=cL(a,l);return t.bounds==="ticks"&&Gk(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const a=(i-e)/Math.max(t.length-1,1)/2;e-=a,i+=a}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return VA(t,this.chart.options.locale,this.options.ticks.format)}}class hL extends uL{static id="linear";static defaults={ticks:{callback:PA.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=$n(t)?t:0,this.max=$n(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ya(this.options.ticks.minRotation),a=(t?Math.sin(i):Math.cos(i))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,l.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const yd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Tn=Object.keys(yd);function jT(n,t){return n-t}function FT(n,t){if(ae(t))return null;const e=n._adapter,{parser:i,round:a,isoWeekday:l}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),$n(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(a&&(c=a==="week"&&(Jc(l)||l===!0)?e.startOf(c,"isoWeek",l):e.startOf(c,a)),+c)}function qT(n,t,e,i){const a=Tn.length;for(let l=Tn.indexOf(n);l<a-1;++l){const c=yd[Tn[l]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Tn[l]}return Tn[a-1]}function fL(n,t,e,i,a){for(let l=Tn.length-1;l>=Tn.indexOf(e);l--){const c=Tn[l];if(yd[c].common&&n._adapter.diff(a,i,c)>=t-1)return c}return Tn[e?Tn.indexOf(e):0]}function dL(n){for(let t=Tn.indexOf(n)+1,e=Tn.length;t<e;++t)if(yd[Tn[t]].common)return Tn[t]}function GT(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:a}=_y(e,t),l=e[i]>=t?e[i]:e[a];n[l]=!0}}function gL(n,t,e,i){const a=n._adapter,l=+a.startOf(t[0].value,i),c=t[t.length-1].value;let h,d;for(h=l;h<=c;h=+a.add(h,1,i))d=e[h],d>=0&&(t[d].major=!0);return t}function YT(n,t,e){const i=[],a={},l=t.length;let c,h;for(c=0;c<l;++c)h=t[c],a[h]=c,i.push({value:h,major:!1});return l===0||!e?i:gL(n,i,a,e)}class KT extends sl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),a=this._adapter=new S4._date(t.adapters.date);a.init(e),kc(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:FT(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:a,max:l,minDefined:c,maxDefined:h}=this.getUserBounds();function d(m){!c&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!h&&!isNaN(m.max)&&(l=Math.max(l,m.max))}(!c||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),a=$n(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),l=$n(l)&&!isNaN(l)?l:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,l-1),this.max=Math.max(a+1,l)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const l=this.min,c=this.max,h=$k(a,l,c);return this._unit=e.unit||(i.autoSkip?qT(e.minUnit,this.min,this.max,this._getLabelCapacity(l)):fL(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:dL(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),YT(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,a,l;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,l=this.getDecimalForValue(t[t.length-1]),t.length===1?i=l:i=(l-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Wn(e,0,c),i=Wn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,a=this.options,l=a.time,c=l.unit||qT(l.minUnit,e,i,this._getLabelCapacity(e)),h=jt(a.ticks.stepSize,1),d=c==="week"?l.isoWeekday:!1,m=Jc(d)||d===!0,y={};let v=e,T,A;if(m&&(v=+t.startOf(v,"isoWeek",d)),v=+t.startOf(v,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const D=a.ticks.source==="data"&&this.getDataTimestamps();for(T=v,A=0;T<i;T=+t.add(T,h,c),A++)GT(y,T,D);return(T===i||a.bounds==="ticks"||A===1)&&GT(y,T,D),Object.keys(y).sort(jT).map(N=>+N)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,l=this._unit,c=e||a[l];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,a){const l=this.options,c=l.ticks.callback;if(c)return ce(c,[t,e,i],this);const h=l.time.displayFormats,d=this._unit,m=this._majorUnit,y=d&&h[d],v=m&&h[m],T=i[e],A=m&&v&&T&&T.major;return this._adapter.format(t,a||(A?v:y))}generateTickLabels(t){let e,i,a;for(e=0,i=t.length;e<i;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,a=ya(this.isHorizontal()?e.maxRotation:e.minRotation),l=Math.cos(a),c=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:i*l+h*c,h:i*c+h*l}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,a=i[e.unit]||i.millisecond,l=this._tickFormatFunction(t,0,YT(this,[t],this._majorUnit),a),c=this._getLabelSize(l),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,i=a.length;e<i;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const a=this.getLabels();for(e=0,i=a.length;e<i;++e)t.push(FT(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Zk(t.sort(jT))}}function cf(n,t,e){let i=0,a=n.length-1,l,c,h,d;e?(t>=n[i].pos&&t<=n[a].pos&&({lo:i,hi:a}=_a(n,"pos",t)),{pos:l,time:h}=n[i],{pos:c,time:d}=n[a]):(t>=n[i].time&&t<=n[a].time&&({lo:i,hi:a}=_a(n,"time",t)),{time:l,pos:h}=n[i],{time:c,pos:d}=n[a]);const m=c-l;return m?h+(d-h)*(t-l)/m:h}class RL extends KT{static id="timeseries";static defaults=KT.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=cf(e,this.min),this._tableRange=cf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,a=[],l=[];let c,h,d,m,y;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&a.push(m);if(a.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=a.length;c<h;++c)y=a[c+1],d=a[c-1],m=a[c],Math.round((y+d)/2)!==m&&l.push({time:m,pos:c/(h-1)});return l}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((a,l)=>a-l)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(cf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return cf(this._table,i*this._tableRange+this._minPos,!0)}}const uw="label";function QT(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function mL(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function hw(n,t){n.labels=t}function fw(n,t,e=uw){const i=[];n.datasets=t.map(a=>{const l=n.datasets.find(c=>c[e]===a[e]);return!l||!a.data||i.includes(l)?{...a}:(i.push(l),Object.assign(l,a),l)})}function pL(n,t=uw){const e={labels:[],datasets:[]};return hw(e,n.labels),fw(e,n.datasets,t),e}function yL(n,t){const{height:e=150,width:i=300,redraw:a=!1,datasetIdKey:l,type:c,data:h,options:d,plugins:m=[],fallbackContent:y,updateMode:v,...T}=n,A=Gt.useRef(null),D=Gt.useRef(null),N=()=>{A.current&&(D.current=new pd(A.current,{type:c,data:pL(h,l),options:d&&{...d},plugins:m}),QT(t,D.current))},I=()=>{QT(t,null),D.current&&(D.current.destroy(),D.current=null)};return Gt.useEffect(()=>{!a&&D.current&&d&&mL(D.current,d)},[a,d]),Gt.useEffect(()=>{!a&&D.current&&hw(D.current.config.data,h.labels)},[a,h.labels]),Gt.useEffect(()=>{!a&&D.current&&h.datasets&&fw(D.current.config.data,h.datasets,l)},[a,h.datasets]),Gt.useEffect(()=>{D.current&&(a?(I(),setTimeout(N)):D.current.update(v))},[a,d,h.labels,h.datasets,v]),Gt.useEffect(()=>{D.current&&(I(),setTimeout(N))},[c]),Gt.useEffect(()=>(N(),()=>I()),[]),ct.jsx("canvas",{ref:A,role:"img",height:e,width:i,...T,children:y})}const _L=Gt.forwardRef(yL);function vL(n,t){return pd.register(t),Gt.forwardRef((e,i)=>ct.jsx(_L,{...e,ref:i,type:n}))}const bL=vL("line",T4);pd.register(lL,hL,jP,HP,XP,sL,QP);const EL=()=>{const{user:n}=AA(),[t,e]=Gt.useState(""),[i,a]=Gt.useState(""),[l,c]=Gt.useState(""),[h,d]=Gt.useState([]),[m,y]=Gt.useState(!1);Gt.useEffect(()=>{if(n)return ck(n.uid,j=>{d([...j].reverse())})},[n]);const v=async I=>{I.preventDefault(),y(!0);try{await lk(n.uid,{weight:parseFloat(t),systolic:parseInt(i),diastolic:parseInt(l)}),e(""),a(""),c("")}catch(j){alert("Error adding record: "+j.message)}finally{y(!1)}},T=h[h.length-1],A=T?uk(T.systolic,T.diastolic):null,D={labels:h.map(I=>I.timestamp?new Date(I.timestamp.toDate()).toLocaleDateString():""),datasets:[{label:"Systolic",data:h.map(I=>I.systolic),borderColor:"#6366f1",backgroundColor:"rgba(99, 102, 241, 0.5)",tension:.3},{label:"Diastolic",data:h.map(I=>I.diastolic),borderColor:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.5)",tension:.3},{label:"Weight",data:h.map(I=>I.weight),borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.5)",tension:.3,yAxisID:"y1"}]},N={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"BP (mmHg)",color:"#94a3b8"},grid:{color:"rgba(255, 255, 255, 0.05)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Weight (kg)",color:"#94a3b8"},grid:{drawOnChartArea:!1}},x:{grid:{color:"rgba(255, 255, 255, 0.05)"}}},plugins:{legend:{labels:{color:"#f8fafc"}}}};return ct.jsxs("div",{style:{padding:"24px",maxWidth:"1200px",margin:"0 auto"},children:[ct.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[ct.jsxs("div",{children:[ct.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold"},children:"Health Dashboard"}),ct.jsx("p",{style:{color:"var(--text-muted)"},children:"Tracking your vitals"})]}),ct.jsxs("button",{onClick:LN,style:{background:"var(--glass)",color:"white",padding:"8px 16px",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px",border:"1px solid var(--glass-border)"},children:[ct.jsx(tk,{size:18})," Logout"]})]}),ct.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px",marginBottom:"32px"},children:[ct.jsxs("section",{className:"glass-card",children:[ct.jsxs("h2",{style:{fontSize:"18px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[ct.jsx(nk,{size:20,color:"var(--primary)"})," New Entry"]}),ct.jsxs("form",{onSubmit:v,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[ct.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[ct.jsx("label",{style:{fontSize:"13px",color:"var(--text-muted)"},children:"Weight (kg)"}),ct.jsx("input",{type:"number",step:"0.1",value:t,onChange:I=>e(I.target.value),required:!0})]}),ct.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[ct.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[ct.jsx("label",{style:{fontSize:"13px",color:"var(--text-muted)"},children:"Systolic"}),ct.jsx("input",{type:"number",value:i,onChange:I=>a(I.target.value),required:!0})]}),ct.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[ct.jsx("label",{style:{fontSize:"13px",color:"var(--text-muted)"},children:"Diastolic"}),ct.jsx("input",{type:"number",value:l,onChange:I=>c(I.target.value),required:!0})]})]}),ct.jsx("button",{type:"submit",disabled:m,style:{background:"var(--primary)",color:"white",padding:"12px",borderRadius:"8px",fontWeight:"600"},children:m?"Saving...":"Save Record"})]})]}),ct.jsxs("section",{className:"glass-card",style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[ct.jsxs("h2",{style:{fontSize:"18px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[ct.jsx(YN,{size:20,color:"var(--primary)"})," Latest Status"]}),T?ct.jsxs("div",{style:{textAlign:"center"},children:[ct.jsxs("div",{style:{fontSize:"42px",fontWeight:"bold"},children:[T.systolic,"/",T.diastolic]}),ct.jsx("div",{style:{color:A.color,fontWeight:"600",marginBottom:"16px"},children:A.label}),ct.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"16px"},children:[ct.jsxs("div",{style:{background:"var(--glass)",padding:"12px",borderRadius:"12px",flex:1},children:[ct.jsx(sk,{size:18}),ct.jsxs("div",{children:[T.weight," kg"]})]}),ct.jsxs("div",{style:{background:"var(--glass)",padding:"12px",borderRadius:"12px",flex:1},children:[ct.jsx(XN,{size:18}),ct.jsx("div",{style:{fontSize:"12px"},children:T.timestamp?new Date(T.timestamp.toDate()).toLocaleDateString():"Pending"})]})]})]}):ct.jsx("p",{style:{textAlign:"center",color:"var(--text-muted)"},children:"No records yet."})]})]}),ct.jsxs("section",{className:"glass-card",style:{height:"400px"},children:[ct.jsx("h2",{style:{fontSize:"18px",marginBottom:"20px"},children:"30-Day Trends"}),ct.jsx("div",{style:{height:"300px"},children:ct.jsx(bL,{data:D,options:N})})]})]})},TL=()=>{const{user:n,loading:t}=AA();return t?ct.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"white"},children:"Loading Application..."}):n?ct.jsx(EL,{}):ct.jsx(ok,{})};function SL(){return ct.jsx(UN,{children:ct.jsx(TL,{})})}tx.createRoot(document.getElementById("root")).render(ct.jsx(YR.StrictMode,{children:ct.jsx(SL,{})}));
